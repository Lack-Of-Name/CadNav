(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yf={exports:{}},pa={},Kf={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Symbol.for("react.element"),xg=Symbol.for("react.portal"),wg=Symbol.for("react.fragment"),kg=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),Sg=Symbol.for("react.provider"),Cg=Symbol.for("react.context"),Pg=Symbol.for("react.forward_ref"),Eg=Symbol.for("react.suspense"),Lg=Symbol.for("react.memo"),Tg=Symbol.for("react.lazy"),Cd=Symbol.iterator;function Ng(e){return e===null||typeof e!="object"?null:(e=Cd&&e[Cd]||e["@@iterator"],typeof e=="function"?e:null)}var Xf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qf=Object.assign,qf={};function br(e,t,i){this.props=e,this.context=t,this.refs=qf,this.updater=i||Xf}br.prototype.isReactComponent={};br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jf(){}Jf.prototype=br.prototype;function Zu(e,t,i){this.props=e,this.context=t,this.refs=qf,this.updater=i||Xf}var Fu=Zu.prototype=new Jf;Fu.constructor=Zu;Qf(Fu,br.prototype);Fu.isPureReactComponent=!0;var Pd=Array.isArray,eh=Object.prototype.hasOwnProperty,Hu={current:null},th={key:!0,ref:!0,__self:!0,__source:!0};function nh(e,t,i){var o,a={},l=null,c=null;if(t!=null)for(o in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(l=""+t.key),t)eh.call(t,o)&&!th.hasOwnProperty(o)&&(a[o]=t[o]);var p=arguments.length-2;if(p===1)a.children=i;else if(1<p){for(var f=Array(p),g=0;g<p;g++)f[g]=arguments[g+2];a.children=f}if(e&&e.defaultProps)for(o in p=e.defaultProps,p)a[o]===void 0&&(a[o]=p[o]);return{$$typeof:zo,type:e,key:l,ref:c,props:a,_owner:Hu.current}}function Mg(e,t){return{$$typeof:zo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $u(e){return typeof e=="object"&&e!==null&&e.$$typeof===zo}function jg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var Ed=/\/+/g;function ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jg(""+e.key):t.toString(36)}function Ns(e,t,i,o,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case zo:case xg:c=!0}}if(c)return c=e,a=a(c),e=o===""?"."+ul(c,0):o,Pd(a)?(i="",e!=null&&(i=e.replace(Ed,"$&/")+"/"),Ns(a,t,i,"",function(g){return g})):a!=null&&($u(a)&&(a=Mg(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(Ed,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=o===""?".":o+":",Pd(e))for(var p=0;p<e.length;p++){l=e[p];var f=o+ul(l,p);c+=Ns(l,t,i,f,a)}else if(f=Ng(e),typeof f=="function")for(e=f.call(e),p=0;!(l=e.next()).done;)l=l.value,f=o+ul(l,p++),c+=Ns(l,t,i,f,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function cs(e,t,i){if(e==null)return e;var o=[],a=0;return Ns(e,o,"","",function(l){return t.call(i,l,a++)}),o}function Og(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Ms={transition:null},Ig={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Ms,ReactCurrentOwner:Hu};function ih(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:cs,forEach:function(e,t,i){cs(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return cs(e,function(){t++}),t},toArray:function(e){return cs(e,function(t){return t})||[]},only:function(e){if(!$u(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=br;_e.Fragment=wg;_e.Profiler=bg;_e.PureComponent=Zu;_e.StrictMode=kg;_e.Suspense=Eg;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ig;_e.act=ih;_e.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Qf({},e.props),a=e.key,l=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,c=Hu.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(f in t)eh.call(t,f)&&!th.hasOwnProperty(f)&&(o[f]=t[f]===void 0&&p!==void 0?p[f]:t[f])}var f=arguments.length-2;if(f===1)o.children=i;else if(1<f){p=Array(f);for(var g=0;g<f;g++)p[g]=arguments[g+2];o.children=p}return{$$typeof:zo,type:e.type,key:a,ref:l,props:o,_owner:c}};_e.createContext=function(e){return e={$$typeof:Cg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sg,_context:e},e.Consumer=e};_e.createElement=nh;_e.createFactory=function(e){var t=nh.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:Pg,render:e}};_e.isValidElement=$u;_e.lazy=function(e){return{$$typeof:Tg,_payload:{_status:-1,_result:e},_init:Og}};_e.memo=function(e,t){return{$$typeof:Lg,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Ms.transition;Ms.transition={};try{e()}finally{Ms.transition=t}};_e.unstable_act=ih;_e.useCallback=function(e,t){return mt.current.useCallback(e,t)};_e.useContext=function(e){return mt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return mt.current.useEffect(e,t)};_e.useId=function(){return mt.current.useId()};_e.useImperativeHandle=function(e,t,i){return mt.current.useImperativeHandle(e,t,i)};_e.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return mt.current.useMemo(e,t)};_e.useReducer=function(e,t,i){return mt.current.useReducer(e,t,i)};_e.useRef=function(e){return mt.current.useRef(e)};_e.useState=function(e){return mt.current.useState(e)};_e.useSyncExternalStore=function(e,t,i){return mt.current.useSyncExternalStore(e,t,i)};_e.useTransition=function(){return mt.current.useTransition()};_e.version="18.3.1";Kf.exports=_e;var b=Kf.exports;const mo=Bu(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg=b,Rg=Symbol.for("react.element"),Ag=Symbol.for("react.fragment"),Dg=Object.prototype.hasOwnProperty,Bg=zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zg={key:!0,ref:!0,__self:!0,__source:!0};function rh(e,t,i){var o,a={},l=null,c=null;i!==void 0&&(l=""+i),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(o in t)Dg.call(t,o)&&!Zg.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)a[o]===void 0&&(a[o]=t[o]);return{$$typeof:Rg,type:e,key:l,ref:c,props:a,_owner:Bg.current}}pa.Fragment=Ag;pa.jsx=rh;pa.jsxs=rh;Yf.exports=pa;var h=Yf.exports,Bl={},oh={exports:{}},Rt={},sh={exports:{}},ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,U){var A=C.length;C.push(U);e:for(;0<A;){var W=A-1>>>1,ae=C[W];if(0<a(ae,U))C[W]=U,C[A]=ae,A=W;else break e}}function i(C){return C.length===0?null:C[0]}function o(C){if(C.length===0)return null;var U=C[0],A=C.pop();if(A!==U){C[0]=A;e:for(var W=0,ae=C.length,pe=ae>>>1;W<pe;){var J=2*(W+1)-1,te=C[J],le=J+1,he=C[le];if(0>a(te,A))le<ae&&0>a(he,te)?(C[W]=he,C[le]=A,W=le):(C[W]=te,C[J]=A,W=J);else if(le<ae&&0>a(he,A))C[W]=he,C[le]=A,W=le;else break e}}return U}function a(C,U){var A=C.sortIndex-U.sortIndex;return A!==0?A:C.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,p=c.now();e.unstable_now=function(){return c.now()-p}}var f=[],g=[],S=1,w=null,x=3,E=!1,z=!1,M=!1,X=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(C){for(var U=i(g);U!==null;){if(U.callback===null)o(g);else if(U.startTime<=C)o(g),U.sortIndex=U.expirationTime,t(f,U);else break;U=i(g)}}function j(C){if(M=!1,k(C),!z)if(i(f)!==null)z=!0,K(H);else{var U=i(g);U!==null&&ee(j,U.startTime-C)}}function H(C,U){z=!1,M&&(M=!1,_(R),R=-1),E=!0;var A=x;try{for(k(U),w=i(f);w!==null&&(!(w.expirationTime>U)||C&&!F());){var W=w.callback;if(typeof W=="function"){w.callback=null,x=w.priorityLevel;var ae=W(w.expirationTime<=U);U=e.unstable_now(),typeof ae=="function"?w.callback=ae:w===i(f)&&o(f),k(U)}else o(f);w=i(f)}if(w!==null)var pe=!0;else{var J=i(g);J!==null&&ee(j,J.startTime-U),pe=!1}return pe}finally{w=null,x=A,E=!1}}var Y=!1,V=null,R=-1,I=5,D=-1;function F(){return!(e.unstable_now()-D<I)}function q(){if(V!==null){var C=e.unstable_now();D=C;var U=!0;try{U=V(!0,C)}finally{U?N():(Y=!1,V=null)}}else Y=!1}var N;if(typeof v=="function")N=function(){v(q)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Q=B.port2;B.port1.onmessage=q,N=function(){Q.postMessage(null)}}else N=function(){X(q,0)};function K(C){V=C,Y||(Y=!0,N())}function ee(C,U){R=X(function(){C(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){z||E||(z=!0,K(H))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return i(f)},e.unstable_next=function(C){switch(x){case 1:case 2:case 3:var U=3;break;default:U=x}var A=x;x=U;try{return C()}finally{x=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,U){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var A=x;x=C;try{return U()}finally{x=A}},e.unstable_scheduleCallback=function(C,U,A){var W=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?W+A:W):A=W,C){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=A+ae,C={id:S++,callback:U,priorityLevel:C,startTime:A,expirationTime:ae,sortIndex:-1},A>W?(C.sortIndex=A,t(g,C),i(f)===null&&C===i(g)&&(M?(_(R),R=-1):M=!0,ee(j,A-W))):(C.sortIndex=ae,t(f,C),z||E||(z=!0,K(H))),C},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(C){var U=x;return function(){var A=x;x=U;try{return C.apply(this,arguments)}finally{x=A}}}})(ah);sh.exports=ah;var Fg=sh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg=b,zt=Fg;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lh=new Set,go={};function zi(e,t){mr(e,t),mr(e+"Capture",t)}function mr(e,t){for(go[e]=t,e=0;e<t.length;e++)lh.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zl=Object.prototype.hasOwnProperty,$g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ld={},Td={};function Ug(e){return Zl.call(Td,e)?!0:Zl.call(Ld,e)?!1:$g.test(e)?Td[e]=!0:(Ld[e]=!0,!1)}function Vg(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wg(e,t,i,o){if(t===null||typeof t>"u"||Vg(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gt(e,t,i,o,a,l,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=c}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){it[e]=new gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];it[t]=new gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){it[e]=new gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){it[e]=new gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){it[e]=new gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){it[e]=new gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){it[e]=new gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){it[e]=new gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){it[e]=new gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uu=/[\-:]([a-z])/g;function Vu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uu,Vu);it[t]=new gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uu,Vu);it[t]=new gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uu,Vu);it[t]=new gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){it[e]=new gt(e,1,!1,e.toLowerCase(),null,!1,!1)});it.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){it[e]=new gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wu(e,t,i,o){var a=it.hasOwnProperty(t)?it[t]:null;(a!==null?a.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wg(t,i,a,o)&&(i=null),o||a===null?Ug(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(t=a.attributeName,o=a.attributeNamespace,i===null?e.removeAttribute(t):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var In=Hg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),Xi=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),Gu=Symbol.for("react.strict_mode"),Fl=Symbol.for("react.profiler"),uh=Symbol.for("react.provider"),ch=Symbol.for("react.context"),Yu=Symbol.for("react.forward_ref"),Hl=Symbol.for("react.suspense"),$l=Symbol.for("react.suspense_list"),Ku=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),dh=Symbol.for("react.offscreen"),Nd=Symbol.iterator;function $r(e){return e===null||typeof e!="object"?null:(e=Nd&&e[Nd]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,cl;function Jr(e){if(cl===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);cl=t&&t[1]||""}return`
`+cl+e}var dl=!1;function fl(e,t){if(!e||dl)return"";dl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var o=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){o=g}e.call(t.prototype)}else{try{throw Error()}catch(g){o=g}e()}}catch(g){if(g&&o&&typeof g.stack=="string"){for(var a=g.stack.split(`
`),l=o.stack.split(`
`),c=a.length-1,p=l.length-1;1<=c&&0<=p&&a[c]!==l[p];)p--;for(;1<=c&&0<=p;c--,p--)if(a[c]!==l[p]){if(c!==1||p!==1)do if(c--,p--,0>p||a[c]!==l[p]){var f=`
`+a[c].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=c&&0<=p);break}}}finally{dl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Jr(e):""}function Gg(e){switch(e.tag){case 5:return Jr(e.type);case 16:return Jr("Lazy");case 13:return Jr("Suspense");case 19:return Jr("SuspenseList");case 0:case 2:case 15:return e=fl(e.type,!1),e;case 11:return e=fl(e.type.render,!1),e;case 1:return e=fl(e.type,!0),e;default:return""}}function Ul(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qi:return"Fragment";case Xi:return"Portal";case Fl:return"Profiler";case Gu:return"StrictMode";case Hl:return"Suspense";case $l:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ch:return(e.displayName||"Context")+".Consumer";case uh:return(e._context.displayName||"Context")+".Provider";case Yu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ku:return t=e.displayName||null,t!==null?t:Ul(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return Ul(e(t))}catch{}}return null}function Yg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ul(t);case 8:return t===Gu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kg(e){var t=fh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(c){o=""+c,l.call(this,c)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(c){o=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fs(e){e._valueTracker||(e._valueTracker=Kg(e))}function hh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=fh(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function $s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vl(e,t){var i=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Md(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=oi(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ph(e,t){t=t.checked,t!=null&&Wu(e,"checked",t,!1)}function Wl(e,t){ph(e,t);var i=oi(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gl(e,t.type,i):t.hasOwnProperty("defaultValue")&&Gl(e,t.type,oi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jd(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Gl(e,t,i){(t!=="number"||$s(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var eo=Array.isArray;function lr(e,t,i,o){if(e=e.options,t){t={};for(var a=0;a<i.length;a++)t["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=t.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&o&&(e[i].defaultSelected=!0)}else{for(i=""+oi(i),t=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Yl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Od(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(G(92));if(eo(i)){if(1<i.length)throw Error(G(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:oi(i)}}function mh(e,t){var i=oi(t.value),o=oi(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function Id(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hs,vh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,a){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vo(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xg=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(e){Xg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),io[t]=io[e]})});function _h(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||io.hasOwnProperty(e)&&io[e]?(""+t).trim():t+"px"}function yh(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,a=_h(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,a):e[i]=a}}var Qg=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xl(e,t){if(t){if(Qg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Ql(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=null;function Xu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jl=null,ur=null,cr=null;function zd(e){if(e=Do(e)){if(typeof Jl!="function")throw Error(G(280));var t=e.stateNode;t&&(t=ya(t),Jl(e.stateNode,e.type,t))}}function xh(e){ur?cr?cr.push(e):cr=[e]:ur=e}function wh(){if(ur){var e=ur,t=cr;if(cr=ur=null,zd(e),t)for(e=0;e<t.length;e++)zd(t[e])}}function kh(e,t){return e(t)}function bh(){}var hl=!1;function Sh(e,t,i){if(hl)return e(t,i);hl=!0;try{return kh(e,t,i)}finally{hl=!1,(ur!==null||cr!==null)&&(bh(),wh())}}function _o(e,t){var i=e.stateNode;if(i===null)return null;var o=ya(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(G(231,t,typeof i));return i}var eu=!1;if(Nn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){eu=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{eu=!1}function qg(e,t,i,o,a,l,c,p,f){var g=Array.prototype.slice.call(arguments,3);try{t.apply(i,g)}catch(S){this.onError(S)}}var ro=!1,Us=null,Vs=!1,tu=null,Jg={onError:function(e){ro=!0,Us=e}};function ev(e,t,i,o,a,l,c,p,f){ro=!1,Us=null,qg.apply(Jg,arguments)}function tv(e,t,i,o,a,l,c,p,f){if(ev.apply(this,arguments),ro){if(ro){var g=Us;ro=!1,Us=null}else throw Error(G(198));Vs||(Vs=!0,tu=g)}}function Ri(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Ch(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rd(e){if(Ri(e)!==e)throw Error(G(188))}function nv(e){var t=e.alternate;if(!t){if(t=Ri(e),t===null)throw Error(G(188));return t!==e?null:e}for(var i=e,o=t;;){var a=i.return;if(a===null)break;var l=a.alternate;if(l===null){if(o=a.return,o!==null){i=o;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===i)return Rd(a),e;if(l===o)return Rd(a),t;l=l.sibling}throw Error(G(188))}if(i.return!==o.return)i=a,o=l;else{for(var c=!1,p=a.child;p;){if(p===i){c=!0,i=a,o=l;break}if(p===o){c=!0,o=a,i=l;break}p=p.sibling}if(!c){for(p=l.child;p;){if(p===i){c=!0,i=l,o=a;break}if(p===o){c=!0,o=l,i=a;break}p=p.sibling}if(!c)throw Error(G(189))}}if(i.alternate!==o)throw Error(G(190))}if(i.tag!==3)throw Error(G(188));return i.stateNode.current===i?e:t}function Ph(e){return e=nv(e),e!==null?Eh(e):null}function Eh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Eh(e);if(t!==null)return t;e=e.sibling}return null}var Lh=zt.unstable_scheduleCallback,Ad=zt.unstable_cancelCallback,iv=zt.unstable_shouldYield,rv=zt.unstable_requestPaint,De=zt.unstable_now,ov=zt.unstable_getCurrentPriorityLevel,Qu=zt.unstable_ImmediatePriority,Th=zt.unstable_UserBlockingPriority,Ws=zt.unstable_NormalPriority,sv=zt.unstable_LowPriority,Nh=zt.unstable_IdlePriority,ma=null,gn=null;function av(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ma,e,void 0,(e.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:cv,lv=Math.log,uv=Math.LN2;function cv(e){return e>>>=0,e===0?32:31-(lv(e)/uv|0)|0}var ps=64,ms=4194304;function to(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gs(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,a=e.suspendedLanes,l=e.pingedLanes,c=i&268435455;if(c!==0){var p=c&~a;p!==0?o=to(p):(l&=c,l!==0&&(o=to(l)))}else c=i&~a,c!==0?o=to(c):l!==0&&(o=to(l));if(o===0)return 0;if(t!==0&&t!==o&&!(t&a)&&(a=o&-o,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-sn(t),a=1<<i,o|=e[i],t&=~a;return o}function dv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fv(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var c=31-sn(l),p=1<<c,f=a[c];f===-1?(!(p&i)||p&o)&&(a[c]=dv(p,t)):f<=t&&(e.expiredLanes|=p),l&=~p}}function nu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mh(){var e=ps;return ps<<=1,!(ps&4194240)&&(ps=64),e}function pl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ro(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sn(t),e[t]=i}function hv(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-sn(i),l=1<<a;t[a]=0,o[a]=-1,e[a]=-1,i&=~l}}function qu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-sn(i),a=1<<o;a&t|e[o]&t&&(e[o]|=t),i&=~a}}var be=0;function jh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Oh,Ju,Ih,zh,Rh,iu=!1,gs=[],Qn=null,qn=null,Jn=null,yo=new Map,xo=new Map,Gn=[],pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dd(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(t.pointerId)}}function Vr(e,t,i,o,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Do(t),t!==null&&Ju(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function mv(e,t,i,o,a){switch(t){case"focusin":return Qn=Vr(Qn,e,t,i,o,a),!0;case"dragenter":return qn=Vr(qn,e,t,i,o,a),!0;case"mouseover":return Jn=Vr(Jn,e,t,i,o,a),!0;case"pointerover":var l=a.pointerId;return yo.set(l,Vr(yo.get(l)||null,e,t,i,o,a)),!0;case"gotpointercapture":return l=a.pointerId,xo.set(l,Vr(xo.get(l)||null,e,t,i,o,a)),!0}return!1}function Ah(e){var t=Si(e.target);if(t!==null){var i=Ri(t);if(i!==null){if(t=i.tag,t===13){if(t=Ch(i),t!==null){e.blockedOn=t,Rh(e.priority,function(){Ih(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=ru(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);ql=o,i.target.dispatchEvent(o),ql=null}else return t=Do(i),t!==null&&Ju(t),e.blockedOn=i,!1;t.shift()}return!0}function Bd(e,t,i){js(e)&&i.delete(t)}function gv(){iu=!1,Qn!==null&&js(Qn)&&(Qn=null),qn!==null&&js(qn)&&(qn=null),Jn!==null&&js(Jn)&&(Jn=null),yo.forEach(Bd),xo.forEach(Bd)}function Wr(e,t){e.blockedOn===t&&(e.blockedOn=null,iu||(iu=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,gv)))}function wo(e){function t(a){return Wr(a,e)}if(0<gs.length){Wr(gs[0],e);for(var i=1;i<gs.length;i++){var o=gs[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Qn!==null&&Wr(Qn,e),qn!==null&&Wr(qn,e),Jn!==null&&Wr(Jn,e),yo.forEach(t),xo.forEach(t),i=0;i<Gn.length;i++)o=Gn[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<Gn.length&&(i=Gn[0],i.blockedOn===null);)Ah(i),i.blockedOn===null&&Gn.shift()}var dr=In.ReactCurrentBatchConfig,Ys=!0;function vv(e,t,i,o){var a=be,l=dr.transition;dr.transition=null;try{be=1,ec(e,t,i,o)}finally{be=a,dr.transition=l}}function _v(e,t,i,o){var a=be,l=dr.transition;dr.transition=null;try{be=4,ec(e,t,i,o)}finally{be=a,dr.transition=l}}function ec(e,t,i,o){if(Ys){var a=ru(e,t,i,o);if(a===null)Sl(e,t,o,Ks,i),Dd(e,o);else if(mv(a,e,t,i,o))o.stopPropagation();else if(Dd(e,o),t&4&&-1<pv.indexOf(e)){for(;a!==null;){var l=Do(a);if(l!==null&&Oh(l),l=ru(e,t,i,o),l===null&&Sl(e,t,o,Ks,i),l===a)break;a=l}a!==null&&o.stopPropagation()}else Sl(e,t,o,null,i)}}var Ks=null;function ru(e,t,i,o){if(Ks=null,e=Xu(o),e=Si(e),e!==null)if(t=Ri(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Ch(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ks=e,null}function Dh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ov()){case Qu:return 1;case Th:return 4;case Ws:case sv:return 16;case Nh:return 536870912;default:return 16}default:return 16}}var Kn=null,tc=null,Os=null;function Bh(){if(Os)return Os;var e,t=tc,i=t.length,o,a="value"in Kn?Kn.value:Kn.textContent,l=a.length;for(e=0;e<i&&t[e]===a[e];e++);var c=i-e;for(o=1;o<=c&&t[i-o]===a[l-o];o++);return Os=a.slice(e,1<o?1-o:void 0)}function Is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vs(){return!0}function Zd(){return!1}function At(e){function t(i,o,a,l,c){this._reactName=i,this._targetInst=a,this.type=o,this.nativeEvent=l,this.target=c,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(l):l[p]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?vs:Zd,this.isPropagationStopped=Zd,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),t}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=At(Sr),Ao=Ie({},Sr,{view:0,detail:0}),yv=At(Ao),ml,gl,Gr,ga=Ie({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gr&&(Gr&&e.type==="mousemove"?(ml=e.screenX-Gr.screenX,gl=e.screenY-Gr.screenY):gl=ml=0,Gr=e),ml)},movementY:function(e){return"movementY"in e?e.movementY:gl}}),Fd=At(ga),xv=Ie({},ga,{dataTransfer:0}),wv=At(xv),kv=Ie({},Ao,{relatedTarget:0}),vl=At(kv),bv=Ie({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sv=At(bv),Cv=Ie({},Sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pv=At(Cv),Ev=Ie({},Sr,{data:0}),Hd=At(Ev),Lv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nv[e])?!!t[e]:!1}function ic(){return Mv}var jv=Ie({},Ao,{key:function(e){if(e.key){var t=Lv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?Is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ov=At(jv),Iv=Ie({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=At(Iv),zv=Ie({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),Rv=At(zv),Av=Ie({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dv=At(Av),Bv=Ie({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zv=At(Bv),Fv=[9,13,27,32],rc=Nn&&"CompositionEvent"in window,oo=null;Nn&&"documentMode"in document&&(oo=document.documentMode);var Hv=Nn&&"TextEvent"in window&&!oo,Zh=Nn&&(!rc||oo&&8<oo&&11>=oo),Ud=" ",Vd=!1;function Fh(e,t){switch(e){case"keyup":return Fv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qi=!1;function $v(e,t){switch(e){case"compositionend":return Hh(t);case"keypress":return t.which!==32?null:(Vd=!0,Ud);case"textInput":return e=t.data,e===Ud&&Vd?null:e;default:return null}}function Uv(e,t){if(qi)return e==="compositionend"||!rc&&Fh(e,t)?(e=Bh(),Os=tc=Kn=null,qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zh&&t.locale!=="ko"?null:t.data;default:return null}}var Vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vv[e.type]:t==="textarea"}function $h(e,t,i,o){xh(o),t=Xs(t,"onChange"),0<t.length&&(i=new nc("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var so=null,ko=null;function Wv(e){ep(e,0)}function va(e){var t=tr(e);if(hh(t))return e}function Gv(e,t){if(e==="change")return t}var Uh=!1;if(Nn){var _l;if(Nn){var yl="oninput"in document;if(!yl){var Gd=document.createElement("div");Gd.setAttribute("oninput","return;"),yl=typeof Gd.oninput=="function"}_l=yl}else _l=!1;Uh=_l&&(!document.documentMode||9<document.documentMode)}function Yd(){so&&(so.detachEvent("onpropertychange",Vh),ko=so=null)}function Vh(e){if(e.propertyName==="value"&&va(ko)){var t=[];$h(t,ko,e,Xu(e)),Sh(Wv,t)}}function Yv(e,t,i){e==="focusin"?(Yd(),so=t,ko=i,so.attachEvent("onpropertychange",Vh)):e==="focusout"&&Yd()}function Kv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return va(ko)}function Xv(e,t){if(e==="click")return va(t)}function Qv(e,t){if(e==="input"||e==="change")return va(t)}function qv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:qv;function bo(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var a=i[o];if(!Zl.call(t,a)||!ln(e[a],t[a]))return!1}return!0}function Kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xd(e,t){var i=Kd(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Kd(i)}}function Wh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gh(){for(var e=window,t=$s();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=$s(e.document)}return t}function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jv(e){var t=Gh(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Wh(i.ownerDocument.documentElement,i)){if(o!==null&&oc(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,l=Math.min(o.start,a);o=o.end===void 0?l:Math.min(o.end,a),!e.extend&&l>o&&(a=o,o=l,l=a),a=Xd(i,l);var c=Xd(i,o);a&&c&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>o?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var e_=Nn&&"documentMode"in document&&11>=document.documentMode,Ji=null,ou=null,ao=null,su=!1;function Qd(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;su||Ji==null||Ji!==$s(o)||(o=Ji,"selectionStart"in o&&oc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ao&&bo(ao,o)||(ao=o,o=Xs(ou,"onSelect"),0<o.length&&(t=new nc("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Ji)))}function _s(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var er={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},xl={},Yh={};Nn&&(Yh=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function _a(e){if(xl[e])return xl[e];if(!er[e])return e;var t=er[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Yh)return xl[e]=t[i];return e}var Kh=_a("animationend"),Xh=_a("animationiteration"),Qh=_a("animationstart"),qh=_a("transitionend"),Jh=new Map,qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(e,t){Jh.set(e,t),zi(t,[e])}for(var wl=0;wl<qd.length;wl++){var kl=qd[wl],t_=kl.toLowerCase(),n_=kl[0].toUpperCase()+kl.slice(1);ai(t_,"on"+n_)}ai(Kh,"onAnimationEnd");ai(Xh,"onAnimationIteration");ai(Qh,"onAnimationStart");ai("dblclick","onDoubleClick");ai("focusin","onFocus");ai("focusout","onBlur");ai(qh,"onTransitionEnd");mr("onMouseEnter",["mouseout","mouseover"]);mr("onMouseLeave",["mouseout","mouseover"]);mr("onPointerEnter",["pointerout","pointerover"]);mr("onPointerLeave",["pointerout","pointerover"]);zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i_=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function Jd(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,tv(o,t,void 0,e),e.currentTarget=null}function ep(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],a=o.event;o=o.listeners;e:{var l=void 0;if(t)for(var c=o.length-1;0<=c;c--){var p=o[c],f=p.instance,g=p.currentTarget;if(p=p.listener,f!==l&&a.isPropagationStopped())break e;Jd(a,p,g),l=f}else for(c=0;c<o.length;c++){if(p=o[c],f=p.instance,g=p.currentTarget,p=p.listener,f!==l&&a.isPropagationStopped())break e;Jd(a,p,g),l=f}}}if(Vs)throw e=tu,Vs=!1,tu=null,e}function Te(e,t){var i=t[du];i===void 0&&(i=t[du]=new Set);var o=e+"__bubble";i.has(o)||(tp(t,e,2,!1),i.add(o))}function bl(e,t,i){var o=0;t&&(o|=4),tp(i,e,o,t)}var ys="_reactListening"+Math.random().toString(36).slice(2);function So(e){if(!e[ys]){e[ys]=!0,lh.forEach(function(i){i!=="selectionchange"&&(i_.has(i)||bl(i,!1,e),bl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ys]||(t[ys]=!0,bl("selectionchange",!1,t))}}function tp(e,t,i,o){switch(Dh(t)){case 1:var a=vv;break;case 4:a=_v;break;default:a=ec}i=a.bind(null,t,i,e),a=void 0,!eu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(t,i,{capture:!0,passive:a}):e.addEventListener(t,i,!0):a!==void 0?e.addEventListener(t,i,{passive:a}):e.addEventListener(t,i,!1)}function Sl(e,t,i,o,a){var l=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var c=o.tag;if(c===3||c===4){var p=o.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(c===4)for(c=o.return;c!==null;){var f=c.tag;if((f===3||f===4)&&(f=c.stateNode.containerInfo,f===a||f.nodeType===8&&f.parentNode===a))return;c=c.return}for(;p!==null;){if(c=Si(p),c===null)return;if(f=c.tag,f===5||f===6){o=l=c;continue e}p=p.parentNode}}o=o.return}Sh(function(){var g=l,S=Xu(i),w=[];e:{var x=Jh.get(e);if(x!==void 0){var E=nc,z=e;switch(e){case"keypress":if(Is(i)===0)break e;case"keydown":case"keyup":E=Ov;break;case"focusin":z="focus",E=vl;break;case"focusout":z="blur",E=vl;break;case"beforeblur":case"afterblur":E=vl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Rv;break;case Kh:case Xh:case Qh:E=Sv;break;case qh:E=Dv;break;case"scroll":E=yv;break;case"wheel":E=Zv;break;case"copy":case"cut":case"paste":E=Pv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=$d}var M=(t&4)!==0,X=!M&&e==="scroll",_=M?x!==null?x+"Capture":null:x;M=[];for(var v=g,k;v!==null;){k=v;var j=k.stateNode;if(k.tag===5&&j!==null&&(k=j,_!==null&&(j=_o(v,_),j!=null&&M.push(Co(v,j,k)))),X)break;v=v.return}0<M.length&&(x=new E(x,z,null,i,S),w.push({event:x,listeners:M}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",x&&i!==ql&&(z=i.relatedTarget||i.fromElement)&&(Si(z)||z[Mn]))break e;if((E||x)&&(x=S.window===S?S:(x=S.ownerDocument)?x.defaultView||x.parentWindow:window,E?(z=i.relatedTarget||i.toElement,E=g,z=z?Si(z):null,z!==null&&(X=Ri(z),z!==X||z.tag!==5&&z.tag!==6)&&(z=null)):(E=null,z=g),E!==z)){if(M=Fd,j="onMouseLeave",_="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(M=$d,j="onPointerLeave",_="onPointerEnter",v="pointer"),X=E==null?x:tr(E),k=z==null?x:tr(z),x=new M(j,v+"leave",E,i,S),x.target=X,x.relatedTarget=k,j=null,Si(S)===g&&(M=new M(_,v+"enter",z,i,S),M.target=k,M.relatedTarget=X,j=M),X=j,E&&z)t:{for(M=E,_=z,v=0,k=M;k;k=Gi(k))v++;for(k=0,j=_;j;j=Gi(j))k++;for(;0<v-k;)M=Gi(M),v--;for(;0<k-v;)_=Gi(_),k--;for(;v--;){if(M===_||_!==null&&M===_.alternate)break t;M=Gi(M),_=Gi(_)}M=null}else M=null;E!==null&&ef(w,x,E,M,!1),z!==null&&X!==null&&ef(w,X,z,M,!0)}}e:{if(x=g?tr(g):window,E=x.nodeName&&x.nodeName.toLowerCase(),E==="select"||E==="input"&&x.type==="file")var H=Gv;else if(Wd(x))if(Uh)H=Qv;else{H=Kv;var Y=Yv}else(E=x.nodeName)&&E.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(H=Xv);if(H&&(H=H(e,g))){$h(w,H,i,S);break e}Y&&Y(e,x,g),e==="focusout"&&(Y=x._wrapperState)&&Y.controlled&&x.type==="number"&&Gl(x,"number",x.value)}switch(Y=g?tr(g):window,e){case"focusin":(Wd(Y)||Y.contentEditable==="true")&&(Ji=Y,ou=g,ao=null);break;case"focusout":ao=ou=Ji=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,Qd(w,i,S);break;case"selectionchange":if(e_)break;case"keydown":case"keyup":Qd(w,i,S)}var V;if(rc)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else qi?Fh(e,i)&&(R="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(R="onCompositionStart");R&&(Zh&&i.locale!=="ko"&&(qi||R!=="onCompositionStart"?R==="onCompositionEnd"&&qi&&(V=Bh()):(Kn=S,tc="value"in Kn?Kn.value:Kn.textContent,qi=!0)),Y=Xs(g,R),0<Y.length&&(R=new Hd(R,e,null,i,S),w.push({event:R,listeners:Y}),V?R.data=V:(V=Hh(i),V!==null&&(R.data=V)))),(V=Hv?$v(e,i):Uv(e,i))&&(g=Xs(g,"onBeforeInput"),0<g.length&&(S=new Hd("onBeforeInput","beforeinput",null,i,S),w.push({event:S,listeners:g}),S.data=V))}ep(w,t)})}function Co(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Xs(e,t){for(var i=t+"Capture",o=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=_o(e,i),l!=null&&o.unshift(Co(e,l,a)),l=_o(e,t),l!=null&&o.push(Co(e,l,a))),e=e.return}return o}function Gi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ef(e,t,i,o,a){for(var l=t._reactName,c=[];i!==null&&i!==o;){var p=i,f=p.alternate,g=p.stateNode;if(f!==null&&f===o)break;p.tag===5&&g!==null&&(p=g,a?(f=_o(i,l),f!=null&&c.unshift(Co(i,f,p))):a||(f=_o(i,l),f!=null&&c.push(Co(i,f,p)))),i=i.return}c.length!==0&&e.push({event:t,listeners:c})}var r_=/\r\n?/g,o_=/\u0000|\uFFFD/g;function tf(e){return(typeof e=="string"?e:""+e).replace(r_,`
`).replace(o_,"")}function xs(e,t,i){if(t=tf(t),tf(e)!==t&&i)throw Error(G(425))}function Qs(){}var au=null,lu=null;function uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cu=typeof setTimeout=="function"?setTimeout:void 0,s_=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,a_=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(e){return nf.resolve(null).then(e).catch(l_)}:cu;function l_(e){setTimeout(function(){throw e})}function Cl(e,t){var i=t,o=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(o===0){e.removeChild(a),wo(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=a}while(i);wo(t)}function ei(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),mn="__reactFiber$"+Cr,Po="__reactProps$"+Cr,Mn="__reactContainer$"+Cr,du="__reactEvents$"+Cr,u_="__reactListeners$"+Cr,c_="__reactHandles$"+Cr;function Si(e){var t=e[mn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Mn]||i[mn]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=rf(e);e!==null;){if(i=e[mn])return i;e=rf(e)}return t}e=i,i=e.parentNode}return null}function Do(e){return e=e[mn]||e[Mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function ya(e){return e[Po]||null}var fu=[],nr=-1;function li(e){return{current:e}}function Ne(e){0>nr||(e.current=fu[nr],fu[nr]=null,nr--)}function Pe(e,t){nr++,fu[nr]=e.current,e.current=t}var si={},at=li(si),Ct=li(!1),Ni=si;function gr(e,t){var i=e.type.contextTypes;if(!i)return si;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in i)a[l]=t[l];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pt(e){return e=e.childContextTypes,e!=null}function qs(){Ne(Ct),Ne(at)}function of(e,t,i){if(at.current!==si)throw Error(G(168));Pe(at,t),Pe(Ct,i)}function np(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var a in o)if(!(a in t))throw Error(G(108,Yg(e)||"Unknown",a));return Ie({},i,o)}function Js(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,Ni=at.current,Pe(at,e),Pe(Ct,Ct.current),!0}function sf(e,t,i){var o=e.stateNode;if(!o)throw Error(G(169));i?(e=np(e,t,Ni),o.__reactInternalMemoizedMergedChildContext=e,Ne(Ct),Ne(at),Pe(at,e)):Ne(Ct),Pe(Ct,i)}var Pn=null,xa=!1,Pl=!1;function ip(e){Pn===null?Pn=[e]:Pn.push(e)}function d_(e){xa=!0,ip(e)}function ui(){if(!Pl&&Pn!==null){Pl=!0;var e=0,t=be;try{var i=Pn;for(be=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Pn=null,xa=!1}catch(a){throw Pn!==null&&(Pn=Pn.slice(e+1)),Lh(Qu,ui),a}finally{be=t,Pl=!1}}return null}var ir=[],rr=0,ea=null,ta=0,Ut=[],Vt=0,Mi=null,En=1,Ln="";function ki(e,t){ir[rr++]=ta,ir[rr++]=ea,ea=e,ta=t}function rp(e,t,i){Ut[Vt++]=En,Ut[Vt++]=Ln,Ut[Vt++]=Mi,Mi=e;var o=En;e=Ln;var a=32-sn(o)-1;o&=~(1<<a),i+=1;var l=32-sn(t)+a;if(30<l){var c=a-a%5;l=(o&(1<<c)-1).toString(32),o>>=c,a-=c,En=1<<32-sn(t)+a|i<<a|o,Ln=l+e}else En=1<<l|i<<a|o,Ln=e}function sc(e){e.return!==null&&(ki(e,1),rp(e,1,0))}function ac(e){for(;e===ea;)ea=ir[--rr],ir[rr]=null,ta=ir[--rr],ir[rr]=null;for(;e===Mi;)Mi=Ut[--Vt],Ut[Vt]=null,Ln=Ut[--Vt],Ut[Vt]=null,En=Ut[--Vt],Ut[Vt]=null}var It=null,Ot=null,Me=!1,on=null;function op(e,t){var i=Wt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function af(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,Ot=ei(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,Ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Mi!==null?{id:En,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Wt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,It=e,Ot=null,!0):!1;default:return!1}}function hu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pu(e){if(Me){var t=Ot;if(t){var i=t;if(!af(e,t)){if(hu(e))throw Error(G(418));t=ei(i.nextSibling);var o=It;t&&af(e,t)?op(o,i):(e.flags=e.flags&-4097|2,Me=!1,It=e)}}else{if(hu(e))throw Error(G(418));e.flags=e.flags&-4097|2,Me=!1,It=e}}}function lf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function ws(e){if(e!==It)return!1;if(!Me)return lf(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uu(e.type,e.memoizedProps)),t&&(t=Ot)){if(hu(e))throw sp(),Error(G(418));for(;t;)op(e,t),t=ei(t.nextSibling)}if(lf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Ot=ei(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Ot=null}}else Ot=It?ei(e.stateNode.nextSibling):null;return!0}function sp(){for(var e=Ot;e;)e=ei(e.nextSibling)}function vr(){Ot=It=null,Me=!1}function lc(e){on===null?on=[e]:on.push(e)}var f_=In.ReactCurrentBatchConfig;function Yr(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(G(309));var o=i.stateNode}if(!o)throw Error(G(147,e));var a=o,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(c){var p=a.refs;c===null?delete p[l]:p[l]=c},t._stringRef=l,t)}if(typeof e!="string")throw Error(G(284));if(!i._owner)throw Error(G(290,e))}return e}function ks(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uf(e){var t=e._init;return t(e._payload)}function ap(e){function t(_,v){if(e){var k=_.deletions;k===null?(_.deletions=[v],_.flags|=16):k.push(v)}}function i(_,v){if(!e)return null;for(;v!==null;)t(_,v),v=v.sibling;return null}function o(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function a(_,v){return _=ri(_,v),_.index=0,_.sibling=null,_}function l(_,v,k){return _.index=k,e?(k=_.alternate,k!==null?(k=k.index,k<v?(_.flags|=2,v):k):(_.flags|=2,v)):(_.flags|=1048576,v)}function c(_){return e&&_.alternate===null&&(_.flags|=2),_}function p(_,v,k,j){return v===null||v.tag!==6?(v=Ol(k,_.mode,j),v.return=_,v):(v=a(v,k),v.return=_,v)}function f(_,v,k,j){var H=k.type;return H===Qi?S(_,v,k.props.children,j,k.key):v!==null&&(v.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Vn&&uf(H)===v.type)?(j=a(v,k.props),j.ref=Yr(_,v,k),j.return=_,j):(j=Fs(k.type,k.key,k.props,null,_.mode,j),j.ref=Yr(_,v,k),j.return=_,j)}function g(_,v,k,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==k.containerInfo||v.stateNode.implementation!==k.implementation?(v=Il(k,_.mode,j),v.return=_,v):(v=a(v,k.children||[]),v.return=_,v)}function S(_,v,k,j,H){return v===null||v.tag!==7?(v=Ti(k,_.mode,j,H),v.return=_,v):(v=a(v,k),v.return=_,v)}function w(_,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ol(""+v,_.mode,k),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ds:return k=Fs(v.type,v.key,v.props,null,_.mode,k),k.ref=Yr(_,null,v),k.return=_,k;case Xi:return v=Il(v,_.mode,k),v.return=_,v;case Vn:var j=v._init;return w(_,j(v._payload),k)}if(eo(v)||$r(v))return v=Ti(v,_.mode,k,null),v.return=_,v;ks(_,v)}return null}function x(_,v,k,j){var H=v!==null?v.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return H!==null?null:p(_,v,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ds:return k.key===H?f(_,v,k,j):null;case Xi:return k.key===H?g(_,v,k,j):null;case Vn:return H=k._init,x(_,v,H(k._payload),j)}if(eo(k)||$r(k))return H!==null?null:S(_,v,k,j,null);ks(_,k)}return null}function E(_,v,k,j,H){if(typeof j=="string"&&j!==""||typeof j=="number")return _=_.get(k)||null,p(v,_,""+j,H);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ds:return _=_.get(j.key===null?k:j.key)||null,f(v,_,j,H);case Xi:return _=_.get(j.key===null?k:j.key)||null,g(v,_,j,H);case Vn:var Y=j._init;return E(_,v,k,Y(j._payload),H)}if(eo(j)||$r(j))return _=_.get(k)||null,S(v,_,j,H,null);ks(v,j)}return null}function z(_,v,k,j){for(var H=null,Y=null,V=v,R=v=0,I=null;V!==null&&R<k.length;R++){V.index>R?(I=V,V=null):I=V.sibling;var D=x(_,V,k[R],j);if(D===null){V===null&&(V=I);break}e&&V&&D.alternate===null&&t(_,V),v=l(D,v,R),Y===null?H=D:Y.sibling=D,Y=D,V=I}if(R===k.length)return i(_,V),Me&&ki(_,R),H;if(V===null){for(;R<k.length;R++)V=w(_,k[R],j),V!==null&&(v=l(V,v,R),Y===null?H=V:Y.sibling=V,Y=V);return Me&&ki(_,R),H}for(V=o(_,V);R<k.length;R++)I=E(V,_,R,k[R],j),I!==null&&(e&&I.alternate!==null&&V.delete(I.key===null?R:I.key),v=l(I,v,R),Y===null?H=I:Y.sibling=I,Y=I);return e&&V.forEach(function(F){return t(_,F)}),Me&&ki(_,R),H}function M(_,v,k,j){var H=$r(k);if(typeof H!="function")throw Error(G(150));if(k=H.call(k),k==null)throw Error(G(151));for(var Y=H=null,V=v,R=v=0,I=null,D=k.next();V!==null&&!D.done;R++,D=k.next()){V.index>R?(I=V,V=null):I=V.sibling;var F=x(_,V,D.value,j);if(F===null){V===null&&(V=I);break}e&&V&&F.alternate===null&&t(_,V),v=l(F,v,R),Y===null?H=F:Y.sibling=F,Y=F,V=I}if(D.done)return i(_,V),Me&&ki(_,R),H;if(V===null){for(;!D.done;R++,D=k.next())D=w(_,D.value,j),D!==null&&(v=l(D,v,R),Y===null?H=D:Y.sibling=D,Y=D);return Me&&ki(_,R),H}for(V=o(_,V);!D.done;R++,D=k.next())D=E(V,_,R,D.value,j),D!==null&&(e&&D.alternate!==null&&V.delete(D.key===null?R:D.key),v=l(D,v,R),Y===null?H=D:Y.sibling=D,Y=D);return e&&V.forEach(function(q){return t(_,q)}),Me&&ki(_,R),H}function X(_,v,k,j){if(typeof k=="object"&&k!==null&&k.type===Qi&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ds:e:{for(var H=k.key,Y=v;Y!==null;){if(Y.key===H){if(H=k.type,H===Qi){if(Y.tag===7){i(_,Y.sibling),v=a(Y,k.props.children),v.return=_,_=v;break e}}else if(Y.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Vn&&uf(H)===Y.type){i(_,Y.sibling),v=a(Y,k.props),v.ref=Yr(_,Y,k),v.return=_,_=v;break e}i(_,Y);break}else t(_,Y);Y=Y.sibling}k.type===Qi?(v=Ti(k.props.children,_.mode,j,k.key),v.return=_,_=v):(j=Fs(k.type,k.key,k.props,null,_.mode,j),j.ref=Yr(_,v,k),j.return=_,_=j)}return c(_);case Xi:e:{for(Y=k.key;v!==null;){if(v.key===Y)if(v.tag===4&&v.stateNode.containerInfo===k.containerInfo&&v.stateNode.implementation===k.implementation){i(_,v.sibling),v=a(v,k.children||[]),v.return=_,_=v;break e}else{i(_,v);break}else t(_,v);v=v.sibling}v=Il(k,_.mode,j),v.return=_,_=v}return c(_);case Vn:return Y=k._init,X(_,v,Y(k._payload),j)}if(eo(k))return z(_,v,k,j);if($r(k))return M(_,v,k,j);ks(_,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,v!==null&&v.tag===6?(i(_,v.sibling),v=a(v,k),v.return=_,_=v):(i(_,v),v=Ol(k,_.mode,j),v.return=_,_=v),c(_)):i(_,v)}return X}var _r=ap(!0),lp=ap(!1),na=li(null),ia=null,or=null,uc=null;function cc(){uc=or=ia=null}function dc(e){var t=na.current;Ne(na),e._currentValue=t}function mu(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function fr(e,t){ia=e,uc=or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(uc!==e)if(e={context:e,memoizedValue:t,next:null},or===null){if(ia===null)throw Error(G(308));or=e,ia.dependencies={lanes:0,firstContext:e}}else or=or.next=e;return t}var Ci=null;function fc(e){Ci===null?Ci=[e]:Ci.push(e)}function up(e,t,i,o){var a=t.interleaved;return a===null?(i.next=i,fc(t)):(i.next=a.next,a.next=i),t.interleaved=i,jn(e,o)}function jn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Wn=!1;function hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ti(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,we&2){var a=o.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),o.pending=t,jn(e,i)}return a=o.interleaved,a===null?(t.next=t,fc(o)):(t.next=a.next,a.next=t),o.interleaved=t,jn(e,i)}function zs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,qu(e,i)}}function cf(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var a=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var c={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?a=l=c:l=l.next=c,i=i.next}while(i!==null);l===null?a=l=t:l=l.next=t}else a=l=t;i={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ra(e,t,i,o){var a=e.updateQueue;Wn=!1;var l=a.firstBaseUpdate,c=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var f=p,g=f.next;f.next=null,c===null?l=g:c.next=g,c=f;var S=e.alternate;S!==null&&(S=S.updateQueue,p=S.lastBaseUpdate,p!==c&&(p===null?S.firstBaseUpdate=g:p.next=g,S.lastBaseUpdate=f))}if(l!==null){var w=a.baseState;c=0,S=g=f=null,p=l;do{var x=p.lane,E=p.eventTime;if((o&x)===x){S!==null&&(S=S.next={eventTime:E,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var z=e,M=p;switch(x=t,E=i,M.tag){case 1:if(z=M.payload,typeof z=="function"){w=z.call(E,w,x);break e}w=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=M.payload,x=typeof z=="function"?z.call(E,w,x):z,x==null)break e;w=Ie({},w,x);break e;case 2:Wn=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[p]:x.push(p))}else E={eventTime:E,lane:x,tag:p.tag,payload:p.payload,callback:p.callback,next:null},S===null?(g=S=E,f=w):S=S.next=E,c|=x;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;x=p,p=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(S===null&&(f=w),a.baseState=f,a.firstBaseUpdate=g,a.lastBaseUpdate=S,t=a.shared.interleaved,t!==null){a=t;do c|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Oi|=c,e.lanes=c,e.memoizedState=w}}function df(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],a=o.callback;if(a!==null){if(o.callback=null,o=i,typeof a!="function")throw Error(G(191,a));a.call(o)}}}var Bo={},vn=li(Bo),Eo=li(Bo),Lo=li(Bo);function Pi(e){if(e===Bo)throw Error(G(174));return e}function pc(e,t){switch(Pe(Lo,t),Pe(Eo,e),Pe(vn,Bo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kl(t,e)}Ne(vn),Pe(vn,t)}function yr(){Ne(vn),Ne(Eo),Ne(Lo)}function dp(e){Pi(Lo.current);var t=Pi(vn.current),i=Kl(t,e.type);t!==i&&(Pe(Eo,e),Pe(vn,i))}function mc(e){Eo.current===e&&(Ne(vn),Ne(Eo))}var je=li(0);function oa(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var El=[];function gc(){for(var e=0;e<El.length;e++)El[e]._workInProgressVersionPrimary=null;El.length=0}var Rs=In.ReactCurrentDispatcher,Ll=In.ReactCurrentBatchConfig,ji=0,Oe=null,We=null,qe=null,sa=!1,lo=!1,To=0,h_=0;function rt(){throw Error(G(321))}function vc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ln(e[i],t[i]))return!1;return!0}function _c(e,t,i,o,a,l){if(ji=l,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rs.current=e===null||e.memoizedState===null?v_:__,e=i(o,a),lo){l=0;do{if(lo=!1,To=0,25<=l)throw Error(G(301));l+=1,qe=We=null,t.updateQueue=null,Rs.current=y_,e=i(o,a)}while(lo)}if(Rs.current=aa,t=We!==null&&We.next!==null,ji=0,qe=We=Oe=null,sa=!1,t)throw Error(G(300));return e}function yc(){var e=To!==0;return To=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Oe.memoizedState=qe=e:qe=qe.next=e,qe}function Kt(){if(We===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=qe===null?Oe.memoizedState:qe.next;if(t!==null)qe=t,We=e;else{if(e===null)throw Error(G(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},qe===null?Oe.memoizedState=qe=e:qe=qe.next=e}return qe}function No(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=Kt(),i=t.queue;if(i===null)throw Error(G(311));i.lastRenderedReducer=e;var o=We,a=o.baseQueue,l=i.pending;if(l!==null){if(a!==null){var c=a.next;a.next=l.next,l.next=c}o.baseQueue=a=l,i.pending=null}if(a!==null){l=a.next,o=o.baseState;var p=c=null,f=null,g=l;do{var S=g.lane;if((ji&S)===S)f!==null&&(f=f.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),o=g.hasEagerState?g.eagerState:e(o,g.action);else{var w={lane:S,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};f===null?(p=f=w,c=o):f=f.next=w,Oe.lanes|=S,Oi|=S}g=g.next}while(g!==null&&g!==l);f===null?c=o:f.next=p,ln(o,t.memoizedState)||(St=!0),t.memoizedState=o,t.baseState=c,t.baseQueue=f,i.lastRenderedState=o}if(e=i.interleaved,e!==null){a=e;do l=a.lane,Oe.lanes|=l,Oi|=l,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Nl(e){var t=Kt(),i=t.queue;if(i===null)throw Error(G(311));i.lastRenderedReducer=e;var o=i.dispatch,a=i.pending,l=t.memoizedState;if(a!==null){i.pending=null;var c=a=a.next;do l=e(l,c.action),c=c.next;while(c!==a);ln(l,t.memoizedState)||(St=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),i.lastRenderedState=l}return[l,o]}function fp(){}function hp(e,t){var i=Oe,o=Kt(),a=t(),l=!ln(o.memoizedState,a);if(l&&(o.memoizedState=a,St=!0),o=o.queue,xc(gp.bind(null,i,o,e),[e]),o.getSnapshot!==t||l||qe!==null&&qe.memoizedState.tag&1){if(i.flags|=2048,Mo(9,mp.bind(null,i,o,a,t),void 0,null),Je===null)throw Error(G(349));ji&30||pp(i,t,a)}return a}function pp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function mp(e,t,i,o){t.value=i,t.getSnapshot=o,vp(t)&&_p(e)}function gp(e,t,i){return i(function(){vp(t)&&_p(e)})}function vp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ln(e,i)}catch{return!0}}function _p(e){var t=jn(e,1);t!==null&&an(t,e,1,-1)}function ff(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=g_.bind(null,Oe,e),[t.memoizedState,e]}function Mo(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function yp(){return Kt().memoizedState}function As(e,t,i,o){var a=pn();Oe.flags|=e,a.memoizedState=Mo(1|t,i,void 0,o===void 0?null:o)}function wa(e,t,i,o){var a=Kt();o=o===void 0?null:o;var l=void 0;if(We!==null){var c=We.memoizedState;if(l=c.destroy,o!==null&&vc(o,c.deps)){a.memoizedState=Mo(t,i,l,o);return}}Oe.flags|=e,a.memoizedState=Mo(1|t,i,l,o)}function hf(e,t){return As(8390656,8,e,t)}function xc(e,t){return wa(2048,8,e,t)}function xp(e,t){return wa(4,2,e,t)}function wp(e,t){return wa(4,4,e,t)}function kp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bp(e,t,i){return i=i!=null?i.concat([e]):null,wa(4,4,kp.bind(null,t,e),i)}function wc(){}function Sp(e,t){var i=Kt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&vc(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function Cp(e,t){var i=Kt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&vc(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function Pp(e,t,i){return ji&21?(ln(i,t)||(i=Mh(),Oe.lanes|=i,Oi|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=i)}function p_(e,t){var i=be;be=i!==0&&4>i?i:4,e(!0);var o=Ll.transition;Ll.transition={};try{e(!1),t()}finally{be=i,Ll.transition=o}}function Ep(){return Kt().memoizedState}function m_(e,t,i){var o=ii(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},Lp(e))Tp(t,i);else if(i=up(e,t,i,o),i!==null){var a=pt();an(i,e,o,a),Np(i,t,o)}}function g_(e,t,i){var o=ii(e),a={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(Lp(e))Tp(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var c=t.lastRenderedState,p=l(c,i);if(a.hasEagerState=!0,a.eagerState=p,ln(p,c)){var f=t.interleaved;f===null?(a.next=a,fc(t)):(a.next=f.next,f.next=a),t.interleaved=a;return}}catch{}finally{}i=up(e,t,a,o),i!==null&&(a=pt(),an(i,e,o,a),Np(i,t,o))}}function Lp(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Tp(e,t){lo=sa=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Np(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,qu(e,i)}}var aa={readContext:Yt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},v_={readContext:Yt,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:hf,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,As(4194308,4,kp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){return As(4,2,e,t)},useMemo:function(e,t){var i=pn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=pn();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=m_.bind(null,Oe,e),[o.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:ff,useDebugValue:wc,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=ff(!1),t=e[0];return e=p_.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Oe,a=pn();if(Me){if(i===void 0)throw Error(G(407));i=i()}else{if(i=t(),Je===null)throw Error(G(349));ji&30||pp(o,t,i)}a.memoizedState=i;var l={value:i,getSnapshot:t};return a.queue=l,hf(gp.bind(null,o,l,e),[e]),o.flags|=2048,Mo(9,mp.bind(null,o,l,i,t),void 0,null),i},useId:function(){var e=pn(),t=Je.identifierPrefix;if(Me){var i=Ln,o=En;i=(o&~(1<<32-sn(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=To++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=h_++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},__={readContext:Yt,useCallback:Sp,useContext:Yt,useEffect:xc,useImperativeHandle:bp,useInsertionEffect:xp,useLayoutEffect:wp,useMemo:Cp,useReducer:Tl,useRef:yp,useState:function(){return Tl(No)},useDebugValue:wc,useDeferredValue:function(e){var t=Kt();return Pp(t,We.memoizedState,e)},useTransition:function(){var e=Tl(No)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:fp,useSyncExternalStore:hp,useId:Ep,unstable_isNewReconciler:!1},y_={readContext:Yt,useCallback:Sp,useContext:Yt,useEffect:xc,useImperativeHandle:bp,useInsertionEffect:xp,useLayoutEffect:wp,useMemo:Cp,useReducer:Nl,useRef:yp,useState:function(){return Nl(No)},useDebugValue:wc,useDeferredValue:function(e){var t=Kt();return We===null?t.memoizedState=e:Pp(t,We.memoizedState,e)},useTransition:function(){var e=Nl(No)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:fp,useSyncExternalStore:hp,useId:Ep,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function gu(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:Ie({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ka={isMounted:function(e){return(e=e._reactInternals)?Ri(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=pt(),a=ii(e),l=Tn(o,a);l.payload=t,i!=null&&(l.callback=i),t=ti(e,l,a),t!==null&&(an(t,e,a,o),zs(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=pt(),a=ii(e),l=Tn(o,a);l.tag=1,l.payload=t,i!=null&&(l.callback=i),t=ti(e,l,a),t!==null&&(an(t,e,a,o),zs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=pt(),o=ii(e),a=Tn(i,o);a.tag=2,t!=null&&(a.callback=t),t=ti(e,a,o),t!==null&&(an(t,e,o,i),zs(t,e,o))}};function pf(e,t,i,o,a,l,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,l,c):t.prototype&&t.prototype.isPureReactComponent?!bo(i,o)||!bo(a,l):!0}function Mp(e,t,i){var o=!1,a=si,l=t.contextType;return typeof l=="object"&&l!==null?l=Yt(l):(a=Pt(t)?Ni:at.current,o=t.contextTypes,l=(o=o!=null)?gr(e,a):si),t=new t(i,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ka,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function mf(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&ka.enqueueReplaceState(t,t.state,null)}function vu(e,t,i,o){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},hc(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Yt(l):(l=Pt(t)?Ni:at.current,a.context=gr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(gu(e,t,l,i),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ka.enqueueReplaceState(a,a.state,null),ra(e,i,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,t){try{var i="",o=t;do i+=Gg(o),o=o.return;while(o);var a=i}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Ml(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function _u(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var x_=typeof WeakMap=="function"?WeakMap:Map;function jp(e,t,i){i=Tn(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){ua||(ua=!0,Lu=o),_u(e,t)},i}function Op(e,t,i){i=Tn(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=t.value;i.payload=function(){return o(a)},i.callback=function(){_u(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){_u(e,t),typeof o!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),i}function gf(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new x_;var a=new Set;o.set(t,a)}else a=o.get(t),a===void 0&&(a=new Set,o.set(t,a));a.has(i)||(a.add(i),e=I_.bind(null,e,t,i),t.then(e,e))}function vf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _f(e,t,i,o,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Tn(-1,1),t.tag=2,ti(i,t,1))),i.lanes|=1),e)}var w_=In.ReactCurrentOwner,St=!1;function ht(e,t,i,o){t.child=e===null?lp(t,null,i,o):_r(t,e.child,i,o)}function yf(e,t,i,o,a){i=i.render;var l=t.ref;return fr(t,a),o=_c(e,t,i,o,l,a),i=yc(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,On(e,t,a)):(Me&&i&&sc(t),t.flags|=1,ht(e,t,o,a),t.child)}function xf(e,t,i,o,a){if(e===null){var l=i.type;return typeof l=="function"&&!Tc(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=l,Ip(e,t,l,o,a)):(e=Fs(i.type,null,o,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var c=l.memoizedProps;if(i=i.compare,i=i!==null?i:bo,i(c,o)&&e.ref===t.ref)return On(e,t,a)}return t.flags|=1,e=ri(l,o),e.ref=t.ref,e.return=t,t.child=e}function Ip(e,t,i,o,a){if(e!==null){var l=e.memoizedProps;if(bo(l,o)&&e.ref===t.ref)if(St=!1,t.pendingProps=o=l,(e.lanes&a)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,On(e,t,a)}return yu(e,t,i,o,a)}function zp(e,t,i){var o=t.pendingProps,a=o.children,l=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(ar,jt),jt|=i;else{if(!(i&1073741824))return e=l!==null?l.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(ar,jt),jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=l!==null?l.baseLanes:i,Pe(ar,jt),jt|=o}else l!==null?(o=l.baseLanes|i,t.memoizedState=null):o=i,Pe(ar,jt),jt|=o;return ht(e,t,a,i),t.child}function Rp(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function yu(e,t,i,o,a){var l=Pt(i)?Ni:at.current;return l=gr(t,l),fr(t,a),i=_c(e,t,i,o,l,a),o=yc(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,On(e,t,a)):(Me&&o&&sc(t),t.flags|=1,ht(e,t,i,a),t.child)}function wf(e,t,i,o,a){if(Pt(i)){var l=!0;Js(t)}else l=!1;if(fr(t,a),t.stateNode===null)Ds(e,t),Mp(t,i,o),vu(t,i,o,a),o=!0;else if(e===null){var c=t.stateNode,p=t.memoizedProps;c.props=p;var f=c.context,g=i.contextType;typeof g=="object"&&g!==null?g=Yt(g):(g=Pt(i)?Ni:at.current,g=gr(t,g));var S=i.getDerivedStateFromProps,w=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function";w||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==o||f!==g)&&mf(t,c,o,g),Wn=!1;var x=t.memoizedState;c.state=x,ra(t,o,c,a),f=t.memoizedState,p!==o||x!==f||Ct.current||Wn?(typeof S=="function"&&(gu(t,i,S,o),f=t.memoizedState),(p=Wn||pf(t,i,p,o,x,f,g))?(w||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=f),c.props=o,c.state=f,c.context=g,o=p):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{c=t.stateNode,cp(e,t),p=t.memoizedProps,g=t.type===t.elementType?p:nn(t.type,p),c.props=g,w=t.pendingProps,x=c.context,f=i.contextType,typeof f=="object"&&f!==null?f=Yt(f):(f=Pt(i)?Ni:at.current,f=gr(t,f));var E=i.getDerivedStateFromProps;(S=typeof E=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==w||x!==f)&&mf(t,c,o,f),Wn=!1,x=t.memoizedState,c.state=x,ra(t,o,c,a);var z=t.memoizedState;p!==w||x!==z||Ct.current||Wn?(typeof E=="function"&&(gu(t,i,E,o),z=t.memoizedState),(g=Wn||pf(t,i,g,o,x,z,f)||!1)?(S||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(o,z,f),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(o,z,f)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=z),c.props=o,c.state=z,c.context=f,o=g):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),o=!1)}return xu(e,t,i,o,l,a)}function xu(e,t,i,o,a,l){Rp(e,t);var c=(t.flags&128)!==0;if(!o&&!c)return a&&sf(t,i,!1),On(e,t,l);o=t.stateNode,w_.current=t;var p=c&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&c?(t.child=_r(t,e.child,null,l),t.child=_r(t,null,p,l)):ht(e,t,p,l),t.memoizedState=o.state,a&&sf(t,i,!0),t.child}function Ap(e){var t=e.stateNode;t.pendingContext?of(e,t.pendingContext,t.pendingContext!==t.context):t.context&&of(e,t.context,!1),pc(e,t.containerInfo)}function kf(e,t,i,o,a){return vr(),lc(a),t.flags|=256,ht(e,t,i,o),t.child}var wu={dehydrated:null,treeContext:null,retryLane:0};function ku(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dp(e,t,i){var o=t.pendingProps,a=je.current,l=!1,c=(t.flags&128)!==0,p;if((p=c)||(p=e!==null&&e.memoizedState===null?!1:(a&2)!==0),p?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Pe(je,a&1),e===null)return pu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=o.children,e=o.fallback,l?(o=t.mode,l=t.child,c={mode:"hidden",children:c},!(o&1)&&l!==null?(l.childLanes=0,l.pendingProps=c):l=Ca(c,o,0,null),e=Ti(e,o,i,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ku(i),t.memoizedState=wu,e):kc(t,c));if(a=e.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return k_(e,t,c,o,p,a,i);if(l){l=o.fallback,c=t.mode,a=e.child,p=a.sibling;var f={mode:"hidden",children:o.children};return!(c&1)&&t.child!==a?(o=t.child,o.childLanes=0,o.pendingProps=f,t.deletions=null):(o=ri(a,f),o.subtreeFlags=a.subtreeFlags&14680064),p!==null?l=ri(p,l):(l=Ti(l,c,i,null),l.flags|=2),l.return=t,o.return=t,o.sibling=l,t.child=o,o=l,l=t.child,c=e.child.memoizedState,c=c===null?ku(i):{baseLanes:c.baseLanes|i,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=e.childLanes&~i,t.memoizedState=wu,o}return l=e.child,e=l.sibling,o=ri(l,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function kc(e,t){return t=Ca({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bs(e,t,i,o){return o!==null&&lc(o),_r(t,e.child,null,i),e=kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k_(e,t,i,o,a,l,c){if(i)return t.flags&256?(t.flags&=-257,o=Ml(Error(G(422))),bs(e,t,c,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=o.fallback,a=t.mode,o=Ca({mode:"visible",children:o.children},a,0,null),l=Ti(l,a,c,null),l.flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,t.mode&1&&_r(t,e.child,null,c),t.child.memoizedState=ku(c),t.memoizedState=wu,l);if(!(t.mode&1))return bs(e,t,c,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var p=o.dgst;return o=p,l=Error(G(419)),o=Ml(l,o,void 0),bs(e,t,c,o)}if(p=(c&e.childLanes)!==0,St||p){if(o=Je,o!==null){switch(c&-c){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|c)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,jn(e,a),an(o,e,a,-1))}return Lc(),o=Ml(Error(G(421))),bs(e,t,c,o)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=z_.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Ot=ei(a.nextSibling),It=t,Me=!0,on=null,e!==null&&(Ut[Vt++]=En,Ut[Vt++]=Ln,Ut[Vt++]=Mi,En=e.id,Ln=e.overflow,Mi=t),t=kc(t,o.children),t.flags|=4096,t)}function bf(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),mu(e.return,t,i)}function jl(e,t,i,o,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=o,l.tail=i,l.tailMode=a)}function Bp(e,t,i){var o=t.pendingProps,a=o.revealOrder,l=o.tail;if(ht(e,t,o.children,i),o=je.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bf(e,i,t);else if(e.tag===19)bf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Pe(je,o),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(i=t.child,a=null;i!==null;)e=i.alternate,e!==null&&oa(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=t.child,t.child=null):(a=i.sibling,i.sibling=null),jl(t,!1,a,i,l);break;case"backwards":for(i=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&oa(e)===null){t.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}jl(t,!0,i,null,l);break;case"together":jl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ds(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function On(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Oi|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,i=ri(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ri(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function b_(e,t,i){switch(t.tag){case 3:Ap(t),vr();break;case 5:dp(t);break;case 1:Pt(t.type)&&Js(t);break;case 4:pc(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,a=t.memoizedProps.value;Pe(na,o._currentValue),o._currentValue=a;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Pe(je,je.current&1),t.flags|=128,null):i&t.child.childLanes?Dp(e,t,i):(Pe(je,je.current&1),e=On(e,t,i),e!==null?e.sibling:null);Pe(je,je.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return Bp(e,t,i);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pe(je,je.current),o)break;return null;case 22:case 23:return t.lanes=0,zp(e,t,i)}return On(e,t,i)}var Zp,bu,Fp,Hp;Zp=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};bu=function(){};Fp=function(e,t,i,o){var a=e.memoizedProps;if(a!==o){e=t.stateNode,Pi(vn.current);var l=null;switch(i){case"input":a=Vl(e,a),o=Vl(e,o),l=[];break;case"select":a=Ie({},a,{value:void 0}),o=Ie({},o,{value:void 0}),l=[];break;case"textarea":a=Yl(e,a),o=Yl(e,o),l=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Qs)}Xl(i,o);var c;i=null;for(g in a)if(!o.hasOwnProperty(g)&&a.hasOwnProperty(g)&&a[g]!=null)if(g==="style"){var p=a[g];for(c in p)p.hasOwnProperty(c)&&(i||(i={}),i[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(go.hasOwnProperty(g)?l||(l=[]):(l=l||[]).push(g,null));for(g in o){var f=o[g];if(p=a!=null?a[g]:void 0,o.hasOwnProperty(g)&&f!==p&&(f!=null||p!=null))if(g==="style")if(p){for(c in p)!p.hasOwnProperty(c)||f&&f.hasOwnProperty(c)||(i||(i={}),i[c]="");for(c in f)f.hasOwnProperty(c)&&p[c]!==f[c]&&(i||(i={}),i[c]=f[c])}else i||(l||(l=[]),l.push(g,i)),i=f;else g==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,p=p?p.__html:void 0,f!=null&&p!==f&&(l=l||[]).push(g,f)):g==="children"?typeof f!="string"&&typeof f!="number"||(l=l||[]).push(g,""+f):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(go.hasOwnProperty(g)?(f!=null&&g==="onScroll"&&Te("scroll",e),l||p===f||(l=[])):(l=l||[]).push(g,f))}i&&(l=l||[]).push("style",i);var g=l;(t.updateQueue=g)&&(t.flags|=4)}};Hp=function(e,t,i,o){i!==o&&(t.flags|=4)};function Kr(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function S_(e,t,i){var o=t.pendingProps;switch(ac(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return Pt(t.type)&&qs(),ot(t),null;case 3:return o=t.stateNode,yr(),Ne(Ct),Ne(at),gc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,on!==null&&(Mu(on),on=null))),bu(e,t),ot(t),null;case 5:mc(t);var a=Pi(Lo.current);if(i=t.type,e!==null&&t.stateNode!=null)Fp(e,t,i,o,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(G(166));return ot(t),null}if(e=Pi(vn.current),ws(t)){o=t.stateNode,i=t.type;var l=t.memoizedProps;switch(o[mn]=t,o[Po]=l,e=(t.mode&1)!==0,i){case"dialog":Te("cancel",o),Te("close",o);break;case"iframe":case"object":case"embed":Te("load",o);break;case"video":case"audio":for(a=0;a<no.length;a++)Te(no[a],o);break;case"source":Te("error",o);break;case"img":case"image":case"link":Te("error",o),Te("load",o);break;case"details":Te("toggle",o);break;case"input":Md(o,l),Te("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},Te("invalid",o);break;case"textarea":Od(o,l),Te("invalid",o)}Xl(i,l),a=null;for(var c in l)if(l.hasOwnProperty(c)){var p=l[c];c==="children"?typeof p=="string"?o.textContent!==p&&(l.suppressHydrationWarning!==!0&&xs(o.textContent,p,e),a=["children",p]):typeof p=="number"&&o.textContent!==""+p&&(l.suppressHydrationWarning!==!0&&xs(o.textContent,p,e),a=["children",""+p]):go.hasOwnProperty(c)&&p!=null&&c==="onScroll"&&Te("scroll",o)}switch(i){case"input":fs(o),jd(o,l,!0);break;case"textarea":fs(o),Id(o);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(o.onclick=Qs)}o=a,t.updateQueue=o,o!==null&&(t.flags|=4)}else{c=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gh(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=c.createElement(i,{is:o.is}):(e=c.createElement(i),i==="select"&&(c=e,o.multiple?c.multiple=!0:o.size&&(c.size=o.size))):e=c.createElementNS(e,i),e[mn]=t,e[Po]=o,Zp(e,t,!1,!1),t.stateNode=e;e:{switch(c=Ql(i,o),i){case"dialog":Te("cancel",e),Te("close",e),a=o;break;case"iframe":case"object":case"embed":Te("load",e),a=o;break;case"video":case"audio":for(a=0;a<no.length;a++)Te(no[a],e);a=o;break;case"source":Te("error",e),a=o;break;case"img":case"image":case"link":Te("error",e),Te("load",e),a=o;break;case"details":Te("toggle",e),a=o;break;case"input":Md(e,o),a=Vl(e,o),Te("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=Ie({},o,{value:void 0}),Te("invalid",e);break;case"textarea":Od(e,o),a=Yl(e,o),Te("invalid",e);break;default:a=o}Xl(i,a),p=a;for(l in p)if(p.hasOwnProperty(l)){var f=p[l];l==="style"?yh(e,f):l==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&vh(e,f)):l==="children"?typeof f=="string"?(i!=="textarea"||f!=="")&&vo(e,f):typeof f=="number"&&vo(e,""+f):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(go.hasOwnProperty(l)?f!=null&&l==="onScroll"&&Te("scroll",e):f!=null&&Wu(e,l,f,c))}switch(i){case"input":fs(e),jd(e,o,!1);break;case"textarea":fs(e),Id(e);break;case"option":o.value!=null&&e.setAttribute("value",""+oi(o.value));break;case"select":e.multiple=!!o.multiple,l=o.value,l!=null?lr(e,!!o.multiple,l,!1):o.defaultValue!=null&&lr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Qs)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)Hp(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(G(166));if(i=Pi(Lo.current),Pi(vn.current),ws(t)){if(o=t.stateNode,i=t.memoizedProps,o[mn]=t,(l=o.nodeValue!==i)&&(e=It,e!==null))switch(e.tag){case 3:xs(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xs(o.nodeValue,i,(e.mode&1)!==0)}l&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[mn]=t,t.stateNode=o}return ot(t),null;case 13:if(Ne(je),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Ot!==null&&t.mode&1&&!(t.flags&128))sp(),vr(),t.flags|=98560,l=!1;else if(l=ws(t),o!==null&&o.dehydrated!==null){if(e===null){if(!l)throw Error(G(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(G(317));l[mn]=t}else vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),l=!1}else on!==null&&(Mu(on),on=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Ge===0&&(Ge=3):Lc())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return yr(),bu(e,t),e===null&&So(t.stateNode.containerInfo),ot(t),null;case 10:return dc(t.type._context),ot(t),null;case 17:return Pt(t.type)&&qs(),ot(t),null;case 19:if(Ne(je),l=t.memoizedState,l===null)return ot(t),null;if(o=(t.flags&128)!==0,c=l.rendering,c===null)if(o)Kr(l,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=oa(e),c!==null){for(t.flags|=128,Kr(l,!1),o=c.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)l=i,e=o,l.flags&=14680066,c=l.alternate,c===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,e=c.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Pe(je,je.current&1|2),t.child}e=e.sibling}l.tail!==null&&De()>wr&&(t.flags|=128,o=!0,Kr(l,!1),t.lanes=4194304)}else{if(!o)if(e=oa(c),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Kr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Me)return ot(t),null}else 2*De()-l.renderingStartTime>wr&&i!==1073741824&&(t.flags|=128,o=!0,Kr(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(i=l.last,i!==null?i.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=De(),t.sibling=null,i=je.current,Pe(je,o?i&1|2:i&1),t):(ot(t),null);case 22:case 23:return Ec(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?jt&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function C_(e,t){switch(ac(t),t.tag){case 1:return Pt(t.type)&&qs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(),Ne(Ct),Ne(at),gc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mc(t),null;case 13:if(Ne(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(je),null;case 4:return yr(),null;case 10:return dc(t.type._context),null;case 22:case 23:return Ec(),null;case 24:return null;default:return null}}var Ss=!1,st=!1,P_=typeof WeakSet=="function"?WeakSet:Set,re=null;function sr(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Re(e,t,o)}else i.current=null}function Su(e,t,i){try{i()}catch(o){Re(e,t,o)}}var Sf=!1;function E_(e,t){if(au=Ys,e=Gh(),oc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var a=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var c=0,p=-1,f=-1,g=0,S=0,w=e,x=null;t:for(;;){for(var E;w!==i||a!==0&&w.nodeType!==3||(p=c+a),w!==l||o!==0&&w.nodeType!==3||(f=c+o),w.nodeType===3&&(c+=w.nodeValue.length),(E=w.firstChild)!==null;)x=w,w=E;for(;;){if(w===e)break t;if(x===i&&++g===a&&(p=c),x===l&&++S===o&&(f=c),(E=w.nextSibling)!==null)break;w=x,x=w.parentNode}w=E}i=p===-1||f===-1?null:{start:p,end:f}}else i=null}i=i||{start:0,end:0}}else i=null;for(lu={focusedElem:e,selectionRange:i},Ys=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var M=z.memoizedProps,X=z.memoizedState,_=t.stateNode,v=_.getSnapshotBeforeUpdate(t.elementType===t.type?M:nn(t.type,M),X);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){Re(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return z=Sf,Sf=!1,z}function uo(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Su(t,i,l)}a=a.next}while(a!==o)}}function ba(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Cu(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function $p(e){var t=e.alternate;t!==null&&(e.alternate=null,$p(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[Po],delete t[du],delete t[u_],delete t[c_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Up(e){return e.tag===5||e.tag===3||e.tag===4}function Cf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pu(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Qs));else if(o!==4&&(e=e.child,e!==null))for(Pu(e,t,i),e=e.sibling;e!==null;)Pu(e,t,i),e=e.sibling}function Eu(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Eu(e,t,i),e=e.sibling;e!==null;)Eu(e,t,i),e=e.sibling}var tt=null,rn=!1;function Un(e,t,i){for(i=i.child;i!==null;)Vp(e,t,i),i=i.sibling}function Vp(e,t,i){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ma,i)}catch{}switch(i.tag){case 5:st||sr(i,t);case 6:var o=tt,a=rn;tt=null,Un(e,t,i),tt=o,rn=a,tt!==null&&(rn?(e=tt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):tt.removeChild(i.stateNode));break;case 18:tt!==null&&(rn?(e=tt,i=i.stateNode,e.nodeType===8?Cl(e.parentNode,i):e.nodeType===1&&Cl(e,i),wo(e)):Cl(tt,i.stateNode));break;case 4:o=tt,a=rn,tt=i.stateNode.containerInfo,rn=!0,Un(e,t,i),tt=o,rn=a;break;case 0:case 11:case 14:case 15:if(!st&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var l=a,c=l.destroy;l=l.tag,c!==void 0&&(l&2||l&4)&&Su(i,t,c),a=a.next}while(a!==o)}Un(e,t,i);break;case 1:if(!st&&(sr(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(p){Re(i,t,p)}Un(e,t,i);break;case 21:Un(e,t,i);break;case 22:i.mode&1?(st=(o=st)||i.memoizedState!==null,Un(e,t,i),st=o):Un(e,t,i);break;default:Un(e,t,i)}}function Pf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new P_),t.forEach(function(o){var a=R_.bind(null,e,o);i.has(o)||(i.add(o),o.then(a,a))})}}function tn(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var a=i[o];try{var l=e,c=t,p=c;e:for(;p!==null;){switch(p.tag){case 5:tt=p.stateNode,rn=!1;break e;case 3:tt=p.stateNode.containerInfo,rn=!0;break e;case 4:tt=p.stateNode.containerInfo,rn=!0;break e}p=p.return}if(tt===null)throw Error(G(160));Vp(l,c,a),tt=null,rn=!1;var f=a.alternate;f!==null&&(f.return=null),a.return=null}catch(g){Re(a,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wp(t,e),t=t.sibling}function Wp(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),hn(e),o&4){try{uo(3,e,e.return),ba(3,e)}catch(M){Re(e,e.return,M)}try{uo(5,e,e.return)}catch(M){Re(e,e.return,M)}}break;case 1:tn(t,e),hn(e),o&512&&i!==null&&sr(i,i.return);break;case 5:if(tn(t,e),hn(e),o&512&&i!==null&&sr(i,i.return),e.flags&32){var a=e.stateNode;try{vo(a,"")}catch(M){Re(e,e.return,M)}}if(o&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,c=i!==null?i.memoizedProps:l,p=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{p==="input"&&l.type==="radio"&&l.name!=null&&ph(a,l),Ql(p,c);var g=Ql(p,l);for(c=0;c<f.length;c+=2){var S=f[c],w=f[c+1];S==="style"?yh(a,w):S==="dangerouslySetInnerHTML"?vh(a,w):S==="children"?vo(a,w):Wu(a,S,w,g)}switch(p){case"input":Wl(a,l);break;case"textarea":mh(a,l);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var E=l.value;E!=null?lr(a,!!l.multiple,E,!1):x!==!!l.multiple&&(l.defaultValue!=null?lr(a,!!l.multiple,l.defaultValue,!0):lr(a,!!l.multiple,l.multiple?[]:"",!1))}a[Po]=l}catch(M){Re(e,e.return,M)}}break;case 6:if(tn(t,e),hn(e),o&4){if(e.stateNode===null)throw Error(G(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(M){Re(e,e.return,M)}}break;case 3:if(tn(t,e),hn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{wo(t.containerInfo)}catch(M){Re(e,e.return,M)}break;case 4:tn(t,e),hn(e);break;case 13:tn(t,e),hn(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Cc=De())),o&4&&Pf(e);break;case 22:if(S=i!==null&&i.memoizedState!==null,e.mode&1?(st=(g=st)||S,tn(t,e),st=g):tn(t,e),hn(e),o&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!S&&e.mode&1)for(re=e,S=e.child;S!==null;){for(w=re=S;re!==null;){switch(x=re,E=x.child,x.tag){case 0:case 11:case 14:case 15:uo(4,x,x.return);break;case 1:sr(x,x.return);var z=x.stateNode;if(typeof z.componentWillUnmount=="function"){o=x,i=x.return;try{t=o,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(M){Re(o,i,M)}}break;case 5:sr(x,x.return);break;case 22:if(x.memoizedState!==null){Lf(w);continue}}E!==null?(E.return=x,re=E):Lf(w)}S=S.sibling}e:for(S=null,w=e;;){if(w.tag===5){if(S===null){S=w;try{a=w.stateNode,g?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(p=w.stateNode,f=w.memoizedProps.style,c=f!=null&&f.hasOwnProperty("display")?f.display:null,p.style.display=_h("display",c))}catch(M){Re(e,e.return,M)}}}else if(w.tag===6){if(S===null)try{w.stateNode.nodeValue=g?"":w.memoizedProps}catch(M){Re(e,e.return,M)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;S===w&&(S=null),w=w.return}S===w&&(S=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:tn(t,e),hn(e),o&4&&Pf(e);break;case 21:break;default:tn(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Up(i)){var o=i;break e}i=i.return}throw Error(G(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(vo(a,""),o.flags&=-33);var l=Cf(e);Eu(e,l,a);break;case 3:case 4:var c=o.stateNode.containerInfo,p=Cf(e);Pu(e,p,c);break;default:throw Error(G(161))}}catch(f){Re(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L_(e,t,i){re=e,Gp(e)}function Gp(e,t,i){for(var o=(e.mode&1)!==0;re!==null;){var a=re,l=a.child;if(a.tag===22&&o){var c=a.memoizedState!==null||Ss;if(!c){var p=a.alternate,f=p!==null&&p.memoizedState!==null||st;p=Ss;var g=st;if(Ss=c,(st=f)&&!g)for(re=a;re!==null;)c=re,f=c.child,c.tag===22&&c.memoizedState!==null?Tf(a):f!==null?(f.return=c,re=f):Tf(a);for(;l!==null;)re=l,Gp(l),l=l.sibling;re=a,Ss=p,st=g}Ef(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,re=l):Ef(e)}}function Ef(e){for(;re!==null;){var t=re;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:st||ba(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!st)if(i===null)o.componentDidMount();else{var a=t.elementType===t.type?i.memoizedProps:nn(t.type,i.memoizedProps);o.componentDidUpdate(a,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&df(t,l,o);break;case 3:var c=t.updateQueue;if(c!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}df(t,c,i)}break;case 5:var p=t.stateNode;if(i===null&&t.flags&4){i=p;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&i.focus();break;case"img":f.src&&(i.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var S=g.memoizedState;if(S!==null){var w=S.dehydrated;w!==null&&wo(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}st||t.flags&512&&Cu(t)}catch(x){Re(t,t.return,x)}}if(t===e){re=null;break}if(i=t.sibling,i!==null){i.return=t.return,re=i;break}re=t.return}}function Lf(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var i=t.sibling;if(i!==null){i.return=t.return,re=i;break}re=t.return}}function Tf(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{ba(4,t)}catch(f){Re(t,i,f)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var a=t.return;try{o.componentDidMount()}catch(f){Re(t,a,f)}}var l=t.return;try{Cu(t)}catch(f){Re(t,l,f)}break;case 5:var c=t.return;try{Cu(t)}catch(f){Re(t,c,f)}}}catch(f){Re(t,t.return,f)}if(t===e){re=null;break}var p=t.sibling;if(p!==null){p.return=t.return,re=p;break}re=t.return}}var T_=Math.ceil,la=In.ReactCurrentDispatcher,bc=In.ReactCurrentOwner,Gt=In.ReactCurrentBatchConfig,we=0,Je=null,$e=null,nt=0,jt=0,ar=li(0),Ge=0,jo=null,Oi=0,Sa=0,Sc=0,co=null,bt=null,Cc=0,wr=1/0,Cn=null,ua=!1,Lu=null,ni=null,Cs=!1,Xn=null,ca=0,fo=0,Tu=null,Bs=-1,Zs=0;function pt(){return we&6?De():Bs!==-1?Bs:Bs=De()}function ii(e){return e.mode&1?we&2&&nt!==0?nt&-nt:f_.transition!==null?(Zs===0&&(Zs=Mh()),Zs):(e=be,e!==0||(e=window.event,e=e===void 0?16:Dh(e.type)),e):1}function an(e,t,i,o){if(50<fo)throw fo=0,Tu=null,Error(G(185));Ro(e,i,o),(!(we&2)||e!==Je)&&(e===Je&&(!(we&2)&&(Sa|=i),Ge===4&&Yn(e,nt)),Et(e,o),i===1&&we===0&&!(t.mode&1)&&(wr=De()+500,xa&&ui()))}function Et(e,t){var i=e.callbackNode;fv(e,t);var o=Gs(e,e===Je?nt:0);if(o===0)i!==null&&Ad(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&Ad(i),t===1)e.tag===0?d_(Nf.bind(null,e)):ip(Nf.bind(null,e)),a_(function(){!(we&6)&&ui()}),i=null;else{switch(jh(o)){case 1:i=Qu;break;case 4:i=Th;break;case 16:i=Ws;break;case 536870912:i=Nh;break;default:i=Ws}i=tm(i,Yp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Yp(e,t){if(Bs=-1,Zs=0,we&6)throw Error(G(327));var i=e.callbackNode;if(hr()&&e.callbackNode!==i)return null;var o=Gs(e,e===Je?nt:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=da(e,o);else{t=o;var a=we;we|=2;var l=Xp();(Je!==e||nt!==t)&&(Cn=null,wr=De()+500,Li(e,t));do try{j_();break}catch(p){Kp(e,p)}while(!0);cc(),la.current=l,we=a,$e!==null?t=0:(Je=null,nt=0,t=Ge)}if(t!==0){if(t===2&&(a=nu(e),a!==0&&(o=a,t=Nu(e,a))),t===1)throw i=jo,Li(e,0),Yn(e,o),Et(e,De()),i;if(t===6)Yn(e,o);else{if(a=e.current.alternate,!(o&30)&&!N_(a)&&(t=da(e,o),t===2&&(l=nu(e),l!==0&&(o=l,t=Nu(e,l))),t===1))throw i=jo,Li(e,0),Yn(e,o),Et(e,De()),i;switch(e.finishedWork=a,e.finishedLanes=o,t){case 0:case 1:throw Error(G(345));case 2:bi(e,bt,Cn);break;case 3:if(Yn(e,o),(o&130023424)===o&&(t=Cc+500-De(),10<t)){if(Gs(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){pt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=cu(bi.bind(null,e,bt,Cn),t);break}bi(e,bt,Cn);break;case 4:if(Yn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,a=-1;0<o;){var c=31-sn(o);l=1<<c,c=t[c],c>a&&(a=c),o&=~l}if(o=a,o=De()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*T_(o/1960))-o,10<o){e.timeoutHandle=cu(bi.bind(null,e,bt,Cn),o);break}bi(e,bt,Cn);break;case 5:bi(e,bt,Cn);break;default:throw Error(G(329))}}}return Et(e,De()),e.callbackNode===i?Yp.bind(null,e):null}function Nu(e,t){var i=co;return e.current.memoizedState.isDehydrated&&(Li(e,t).flags|=256),e=da(e,t),e!==2&&(t=bt,bt=i,t!==null&&Mu(t)),e}function Mu(e){bt===null?bt=e:bt.push.apply(bt,e)}function N_(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var a=i[o],l=a.getSnapshot;a=a.value;try{if(!ln(l(),a))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t){for(t&=~Sc,t&=~Sa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-sn(t),o=1<<i;e[i]=-1,t&=~o}}function Nf(e){if(we&6)throw Error(G(327));hr();var t=Gs(e,0);if(!(t&1))return Et(e,De()),null;var i=da(e,t);if(e.tag!==0&&i===2){var o=nu(e);o!==0&&(t=o,i=Nu(e,o))}if(i===1)throw i=jo,Li(e,0),Yn(e,t),Et(e,De()),i;if(i===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bi(e,bt,Cn),Et(e,De()),null}function Pc(e,t){var i=we;we|=1;try{return e(t)}finally{we=i,we===0&&(wr=De()+500,xa&&ui())}}function Ii(e){Xn!==null&&Xn.tag===0&&!(we&6)&&hr();var t=we;we|=1;var i=Gt.transition,o=be;try{if(Gt.transition=null,be=1,e)return e()}finally{be=o,Gt.transition=i,we=t,!(we&6)&&ui()}}function Ec(){jt=ar.current,Ne(ar)}function Li(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,s_(i)),$e!==null)for(i=$e.return;i!==null;){var o=i;switch(ac(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&qs();break;case 3:yr(),Ne(Ct),Ne(at),gc();break;case 5:mc(o);break;case 4:yr();break;case 13:Ne(je);break;case 19:Ne(je);break;case 10:dc(o.type._context);break;case 22:case 23:Ec()}i=i.return}if(Je=e,$e=e=ri(e.current,null),nt=jt=t,Ge=0,jo=null,Sc=Sa=Oi=0,bt=co=null,Ci!==null){for(t=0;t<Ci.length;t++)if(i=Ci[t],o=i.interleaved,o!==null){i.interleaved=null;var a=o.next,l=i.pending;if(l!==null){var c=l.next;l.next=a,o.next=c}i.pending=o}Ci=null}return e}function Kp(e,t){do{var i=$e;try{if(cc(),Rs.current=aa,sa){for(var o=Oe.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}sa=!1}if(ji=0,qe=We=Oe=null,lo=!1,To=0,bc.current=null,i===null||i.return===null){Ge=1,jo=t,$e=null;break}e:{var l=e,c=i.return,p=i,f=t;if(t=nt,p.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var g=f,S=p,w=S.tag;if(!(S.mode&1)&&(w===0||w===11||w===15)){var x=S.alternate;x?(S.updateQueue=x.updateQueue,S.memoizedState=x.memoizedState,S.lanes=x.lanes):(S.updateQueue=null,S.memoizedState=null)}var E=vf(c);if(E!==null){E.flags&=-257,_f(E,c,p,l,t),E.mode&1&&gf(l,g,t),t=E,f=g;var z=t.updateQueue;if(z===null){var M=new Set;M.add(f),t.updateQueue=M}else z.add(f);break e}else{if(!(t&1)){gf(l,g,t),Lc();break e}f=Error(G(426))}}else if(Me&&p.mode&1){var X=vf(c);if(X!==null){!(X.flags&65536)&&(X.flags|=256),_f(X,c,p,l,t),lc(xr(f,p));break e}}l=f=xr(f,p),Ge!==4&&(Ge=2),co===null?co=[l]:co.push(l),l=c;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var _=jp(l,f,t);cf(l,_);break e;case 1:p=f;var v=l.type,k=l.stateNode;if(!(l.flags&128)&&(typeof v.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ni===null||!ni.has(k)))){l.flags|=65536,t&=-t,l.lanes|=t;var j=Op(l,p,t);cf(l,j);break e}}l=l.return}while(l!==null)}qp(i)}catch(H){t=H,$e===i&&i!==null&&($e=i=i.return);continue}break}while(!0)}function Xp(){var e=la.current;return la.current=aa,e===null?aa:e}function Lc(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Je===null||!(Oi&268435455)&&!(Sa&268435455)||Yn(Je,nt)}function da(e,t){var i=we;we|=2;var o=Xp();(Je!==e||nt!==t)&&(Cn=null,Li(e,t));do try{M_();break}catch(a){Kp(e,a)}while(!0);if(cc(),we=i,la.current=o,$e!==null)throw Error(G(261));return Je=null,nt=0,Ge}function M_(){for(;$e!==null;)Qp($e)}function j_(){for(;$e!==null&&!iv();)Qp($e)}function Qp(e){var t=em(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?qp(e):$e=t,bc.current=null}function qp(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=C_(i,t),i!==null){i.flags&=32767,$e=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,$e=null;return}}else if(i=S_(i,t,jt),i!==null){$e=i;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Ge===0&&(Ge=5)}function bi(e,t,i){var o=be,a=Gt.transition;try{Gt.transition=null,be=1,O_(e,t,i,o)}finally{Gt.transition=a,be=o}return null}function O_(e,t,i,o){do hr();while(Xn!==null);if(we&6)throw Error(G(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var l=i.lanes|i.childLanes;if(hv(e,l),e===Je&&($e=Je=null,nt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Cs||(Cs=!0,tm(Ws,function(){return hr(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=Gt.transition,Gt.transition=null;var c=be;be=1;var p=we;we|=4,bc.current=null,E_(e,i),Wp(i,e),Jv(lu),Ys=!!au,lu=au=null,e.current=i,L_(i),rv(),we=p,be=c,Gt.transition=l}else e.current=i;if(Cs&&(Cs=!1,Xn=e,ca=a),l=e.pendingLanes,l===0&&(ni=null),av(i.stateNode),Et(e,De()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)a=t[i],o(a.value,{componentStack:a.stack,digest:a.digest});if(ua)throw ua=!1,e=Lu,Lu=null,e;return ca&1&&e.tag!==0&&hr(),l=e.pendingLanes,l&1?e===Tu?fo++:(fo=0,Tu=e):fo=0,ui(),null}function hr(){if(Xn!==null){var e=jh(ca),t=Gt.transition,i=be;try{if(Gt.transition=null,be=16>e?16:e,Xn===null)var o=!1;else{if(e=Xn,Xn=null,ca=0,we&6)throw Error(G(331));var a=we;for(we|=4,re=e.current;re!==null;){var l=re,c=l.child;if(re.flags&16){var p=l.deletions;if(p!==null){for(var f=0;f<p.length;f++){var g=p[f];for(re=g;re!==null;){var S=re;switch(S.tag){case 0:case 11:case 15:uo(8,S,l)}var w=S.child;if(w!==null)w.return=S,re=w;else for(;re!==null;){S=re;var x=S.sibling,E=S.return;if($p(S),S===g){re=null;break}if(x!==null){x.return=E,re=x;break}re=E}}}var z=l.alternate;if(z!==null){var M=z.child;if(M!==null){z.child=null;do{var X=M.sibling;M.sibling=null,M=X}while(M!==null)}}re=l}}if(l.subtreeFlags&2064&&c!==null)c.return=l,re=c;else e:for(;re!==null;){if(l=re,l.flags&2048)switch(l.tag){case 0:case 11:case 15:uo(9,l,l.return)}var _=l.sibling;if(_!==null){_.return=l.return,re=_;break e}re=l.return}}var v=e.current;for(re=v;re!==null;){c=re;var k=c.child;if(c.subtreeFlags&2064&&k!==null)k.return=c,re=k;else e:for(c=v;re!==null;){if(p=re,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:ba(9,p)}}catch(H){Re(p,p.return,H)}if(p===c){re=null;break e}var j=p.sibling;if(j!==null){j.return=p.return,re=j;break e}re=p.return}}if(we=a,ui(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ma,e)}catch{}o=!0}return o}finally{be=i,Gt.transition=t}}return!1}function Mf(e,t,i){t=xr(i,t),t=jp(e,t,1),e=ti(e,t,1),t=pt(),e!==null&&(Ro(e,1,t),Et(e,t))}function Re(e,t,i){if(e.tag===3)Mf(e,e,i);else for(;t!==null;){if(t.tag===3){Mf(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ni===null||!ni.has(o))){e=xr(i,e),e=Op(t,e,1),t=ti(t,e,1),e=pt(),t!==null&&(Ro(t,1,e),Et(t,e));break}}t=t.return}}function I_(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&i,Je===e&&(nt&i)===i&&(Ge===4||Ge===3&&(nt&130023424)===nt&&500>De()-Cc?Li(e,0):Sc|=i),Et(e,t)}function Jp(e,t){t===0&&(e.mode&1?(t=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):t=1);var i=pt();e=jn(e,t),e!==null&&(Ro(e,t,i),Et(e,i))}function z_(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Jp(e,i)}function R_(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(G(314))}o!==null&&o.delete(t),Jp(e,i)}var em;em=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)St=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return St=!1,b_(e,t,i);St=!!(e.flags&131072)}else St=!1,Me&&t.flags&1048576&&rp(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Ds(e,t),e=t.pendingProps;var a=gr(t,at.current);fr(t,i),a=_c(null,t,o,e,a,i);var l=yc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(o)?(l=!0,Js(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,hc(t),a.updater=ka,t.stateNode=a,a._reactInternals=t,vu(t,o,e,i),t=xu(null,t,o,!0,l,i)):(t.tag=0,Me&&l&&sc(t),ht(null,t,a,i),t=t.child),t;case 16:o=t.elementType;e:{switch(Ds(e,t),e=t.pendingProps,a=o._init,o=a(o._payload),t.type=o,a=t.tag=D_(o),e=nn(o,e),a){case 0:t=yu(null,t,o,e,i);break e;case 1:t=wf(null,t,o,e,i);break e;case 11:t=yf(null,t,o,e,i);break e;case 14:t=xf(null,t,o,nn(o.type,e),i);break e}throw Error(G(306,o,""))}return t;case 0:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:nn(o,a),yu(e,t,o,a,i);case 1:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:nn(o,a),wf(e,t,o,a,i);case 3:e:{if(Ap(t),e===null)throw Error(G(387));o=t.pendingProps,l=t.memoizedState,a=l.element,cp(e,t),ra(t,o,null,i);var c=t.memoizedState;if(o=c.element,l.isDehydrated)if(l={element:o,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=xr(Error(G(423)),t),t=kf(e,t,o,i,a);break e}else if(o!==a){a=xr(Error(G(424)),t),t=kf(e,t,o,i,a);break e}else for(Ot=ei(t.stateNode.containerInfo.firstChild),It=t,Me=!0,on=null,i=lp(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(vr(),o===a){t=On(e,t,i);break e}ht(e,t,o,i)}t=t.child}return t;case 5:return dp(t),e===null&&pu(t),o=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,c=a.children,uu(o,a)?c=null:l!==null&&uu(o,l)&&(t.flags|=32),Rp(e,t),ht(e,t,c,i),t.child;case 6:return e===null&&pu(t),null;case 13:return Dp(e,t,i);case 4:return pc(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=_r(t,null,o,i):ht(e,t,o,i),t.child;case 11:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:nn(o,a),yf(e,t,o,a,i);case 7:return ht(e,t,t.pendingProps,i),t.child;case 8:return ht(e,t,t.pendingProps.children,i),t.child;case 12:return ht(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,a=t.pendingProps,l=t.memoizedProps,c=a.value,Pe(na,o._currentValue),o._currentValue=c,l!==null)if(ln(l.value,c)){if(l.children===a.children&&!Ct.current){t=On(e,t,i);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var p=l.dependencies;if(p!==null){c=l.child;for(var f=p.firstContext;f!==null;){if(f.context===o){if(l.tag===1){f=Tn(-1,i&-i),f.tag=2;var g=l.updateQueue;if(g!==null){g=g.shared;var S=g.pending;S===null?f.next=f:(f.next=S.next,S.next=f),g.pending=f}}l.lanes|=i,f=l.alternate,f!==null&&(f.lanes|=i),mu(l.return,i,t),p.lanes|=i;break}f=f.next}}else if(l.tag===10)c=l.type===t.type?null:l.child;else if(l.tag===18){if(c=l.return,c===null)throw Error(G(341));c.lanes|=i,p=c.alternate,p!==null&&(p.lanes|=i),mu(c,i,t),c=l.sibling}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===t){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}ht(e,t,a.children,i),t=t.child}return t;case 9:return a=t.type,o=t.pendingProps.children,fr(t,i),a=Yt(a),o=o(a),t.flags|=1,ht(e,t,o,i),t.child;case 14:return o=t.type,a=nn(o,t.pendingProps),a=nn(o.type,a),xf(e,t,o,a,i);case 15:return Ip(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:nn(o,a),Ds(e,t),t.tag=1,Pt(o)?(e=!0,Js(t)):e=!1,fr(t,i),Mp(t,o,a),vu(t,o,a,i),xu(null,t,o,!0,e,i);case 19:return Bp(e,t,i);case 22:return zp(e,t,i)}throw Error(G(156,t.tag))};function tm(e,t){return Lh(e,t)}function A_(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,i,o){return new A_(e,t,i,o)}function Tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D_(e){if(typeof e=="function")return Tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yu)return 11;if(e===Ku)return 14}return 2}function ri(e,t){var i=e.alternate;return i===null?(i=Wt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Fs(e,t,i,o,a,l){var c=2;if(o=e,typeof e=="function")Tc(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Qi:return Ti(i.children,a,l,t);case Gu:c=8,a|=8;break;case Fl:return e=Wt(12,i,t,a|2),e.elementType=Fl,e.lanes=l,e;case Hl:return e=Wt(13,i,t,a),e.elementType=Hl,e.lanes=l,e;case $l:return e=Wt(19,i,t,a),e.elementType=$l,e.lanes=l,e;case dh:return Ca(i,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uh:c=10;break e;case ch:c=9;break e;case Yu:c=11;break e;case Ku:c=14;break e;case Vn:c=16,o=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Wt(c,i,t,a),t.elementType=e,t.type=o,t.lanes=l,t}function Ti(e,t,i,o){return e=Wt(7,e,o,t),e.lanes=i,e}function Ca(e,t,i,o){return e=Wt(22,e,o,t),e.elementType=dh,e.lanes=i,e.stateNode={isHidden:!1},e}function Ol(e,t,i){return e=Wt(6,e,null,t),e.lanes=i,e}function Il(e,t,i){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function B_(e,t,i,o,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Nc(e,t,i,o,a,l,c,p,f){return e=new B_(e,t,i,p,f),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Wt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},hc(l),e}function Z_(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xi,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function nm(e){if(!e)return si;e=e._reactInternals;e:{if(Ri(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var i=e.type;if(Pt(i))return np(e,i,t)}return t}function im(e,t,i,o,a,l,c,p,f){return e=Nc(i,o,!0,e,a,l,c,p,f),e.context=nm(null),i=e.current,o=pt(),a=ii(i),l=Tn(o,a),l.callback=t??null,ti(i,l,a),e.current.lanes=a,Ro(e,a,o),Et(e,o),e}function Pa(e,t,i,o){var a=t.current,l=pt(),c=ii(a);return i=nm(i),t.context===null?t.context=i:t.pendingContext=i,t=Tn(l,c),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=ti(a,t,c),e!==null&&(an(e,a,c,l),zs(e,a,c)),c}function fa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Mc(e,t){jf(e,t),(e=e.alternate)&&jf(e,t)}function F_(){return null}var rm=typeof reportError=="function"?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}Ea.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Pa(e,t,null,null)};Ea.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ii(function(){Pa(null,e,null,null)}),t[Mn]=null}};function Ea(e){this._internalRoot=e}Ea.prototype.unstable_scheduleHydration=function(e){if(e){var t=zh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Gn.length&&t!==0&&t<Gn[i].priority;i++);Gn.splice(i,0,e),i===0&&Ah(e)}};function Oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function La(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Of(){}function H_(e,t,i,o,a){if(a){if(typeof o=="function"){var l=o;o=function(){var g=fa(c);l.call(g)}}var c=im(t,o,e,0,null,!1,!1,"",Of);return e._reactRootContainer=c,e[Mn]=c.current,So(e.nodeType===8?e.parentNode:e),Ii(),c}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var p=o;o=function(){var g=fa(f);p.call(g)}}var f=Nc(e,0,!1,null,null,!1,!1,"",Of);return e._reactRootContainer=f,e[Mn]=f.current,So(e.nodeType===8?e.parentNode:e),Ii(function(){Pa(t,f,i,o)}),f}function Ta(e,t,i,o,a){var l=i._reactRootContainer;if(l){var c=l;if(typeof a=="function"){var p=a;a=function(){var f=fa(c);p.call(f)}}Pa(t,c,e,a)}else c=H_(i,t,e,a,o);return fa(c)}Oh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=to(t.pendingLanes);i!==0&&(qu(t,i|1),Et(t,De()),!(we&6)&&(wr=De()+500,ui()))}break;case 13:Ii(function(){var o=jn(e,1);if(o!==null){var a=pt();an(o,e,1,a)}}),Mc(e,1)}};Ju=function(e){if(e.tag===13){var t=jn(e,134217728);if(t!==null){var i=pt();an(t,e,134217728,i)}Mc(e,134217728)}};Ih=function(e){if(e.tag===13){var t=ii(e),i=jn(e,t);if(i!==null){var o=pt();an(i,e,t,o)}Mc(e,t)}};zh=function(){return be};Rh=function(e,t){var i=be;try{return be=e,t()}finally{be=i}};Jl=function(e,t,i){switch(t){case"input":if(Wl(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var a=ya(o);if(!a)throw Error(G(90));hh(o),Wl(o,a)}}}break;case"textarea":mh(e,i);break;case"select":t=i.value,t!=null&&lr(e,!!i.multiple,t,!1)}};kh=Pc;bh=Ii;var $_={usingClientEntryPoint:!1,Events:[Do,tr,ya,xh,wh,Pc]},Xr={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U_={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ph(e),e===null?null:e.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||F_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ps.isDisabled&&Ps.supportsFiber)try{ma=Ps.inject(U_),gn=Ps}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$_;Rt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oc(t))throw Error(G(200));return Z_(e,t,null,i)};Rt.createRoot=function(e,t){if(!Oc(e))throw Error(G(299));var i=!1,o="",a=rm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Nc(e,1,!1,null,null,i,!1,o,a),e[Mn]=t.current,So(e.nodeType===8?e.parentNode:e),new jc(t)};Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=Ph(t),e=e===null?null:e.stateNode,e};Rt.flushSync=function(e){return Ii(e)};Rt.hydrate=function(e,t,i){if(!La(t))throw Error(G(200));return Ta(null,e,t,!0,i)};Rt.hydrateRoot=function(e,t,i){if(!Oc(e))throw Error(G(405));var o=i!=null&&i.hydratedSources||null,a=!1,l="",c=rm;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),t=im(t,null,e,1,i??null,a,!1,l,c),e[Mn]=t.current,So(e),o)for(e=0;e<o.length;e++)i=o[e],a=i._getVersion,a=a(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,a]:t.mutableSourceEagerHydrationData.push(i,a);return new Ea(t)};Rt.render=function(e,t,i){if(!La(t))throw Error(G(200));return Ta(null,e,t,!1,i)};Rt.unmountComponentAtNode=function(e){if(!La(e))throw Error(G(40));return e._reactRootContainer?(Ii(function(){Ta(null,null,e,!1,function(){e._reactRootContainer=null,e[Mn]=null})}),!0):!1};Rt.unstable_batchedUpdates=Pc;Rt.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!La(i))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Ta(e,t,i,!1,o)};Rt.version="18.3.1-next-f1338f8080-20240426";function om(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(om)}catch(e){console.error(e)}}om(),oh.exports=Rt;var V_=oh.exports,If=V_;Bl.createRoot=If.createRoot,Bl.hydrateRoot=If.hydrateRoot;var ju={exports:{}};/*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License */(function(e,t){(function(i,o){o(t)})(Du,function(i){var o="dnd-poly-",a=["none","copy","copyLink","copyMove","link","linkMove","move","all"],l=["none","copy","move","link"];function c(){var N=!1;try{var B=Object.defineProperty({},"passive",{get:function(){N=!0}});window.addEventListener("test",null,B)}catch{}return N}var p=c();function f(N){return N&&N.tagName}function g(N,B,Q){document.addEventListener(N,B,!!p&&{passive:Q})}function S(N,B){document.removeEventListener(N,B)}function w(N,B,Q,K){K===void 0&&(K=!1);var ee=p?{passive:!0,capture:K}:K;return N.addEventListener(B,Q,ee),{off:function(){N.removeEventListener(B,Q,ee)}}}function x(N){return N.length===0?0:N.reduce(function(B,Q){return Q+B},0)/N.length}function E(N,B){for(var Q=0;Q<N.changedTouches.length;Q++)if(N.changedTouches[Q].identifier===B)return!0;return!1}function z(N,B,Q){for(var K=[],ee=[],C=0;C<B.touches.length;C++){var U=B.touches[C];K.push(U[N+"X"]),ee.push(U[N+"Y"])}Q.x=x(K),Q.y=x(ee)}var M=["","-webkit-"];function X(N,U,Q,K,ee){var C=U.x,U=U.y;K&&(C+=K.x,U+=K.y),(ee=ee===void 0||ee)&&(C-=parseInt(N.offsetWidth,10)/2,U-=parseInt(N.offsetHeight,10)/2);for(var A="translate3d("+C+"px,"+U+"px, 0)",W=0;W<M.length;W++){var ae=M[W]+"transform";N.style[ae]=A+" "+Q[W]}}var _=(Object.defineProperty(v.prototype,"dropEffect",{get:function(){return this.t},set:function(N){this.i.mode!==0&&-1<a.indexOf(N)&&(this.t=N)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"types",{get:function(){if(this.i.mode!==0)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(N){this.i.mode===2&&-1<a.indexOf(N)&&(this.i.effectAllowed=N)},enumerable:!1,configurable:!0}),v.prototype.setData=function(N,B){if(this.i.mode===2){if(-1<N.indexOf(" "))throw new Error("illegal arg: type contains space");this.i.data[N]=B,this.i.types.indexOf(N)===-1&&this.i.types.push(N)}},v.prototype.getData=function(N){if(this.i.mode===1||this.i.mode===2)return this.i.data[N]||""},v.prototype.clearData=function(N){this.i.mode===2&&(N&&this.i.data[N]?(delete this.i.data[N],-1<(N=this.i.types.indexOf(N))&&this.i.types.splice(N,1)):(this.i.data={},this.i.types=[]))},v.prototype.setDragImage=function(N,B,Q){this.i.mode===2&&this.h(N,B,Q)},v);function v(N,B){this.i=N,this.h=B,this.t=l[0]}function k(N,B){return N?N===a[0]?l[0]:N.indexOf(a[1])===0||N===a[7]?l[1]:N.indexOf(a[4])===0?l[3]:N===a[6]?l[2]:l[1]:B.nodeType===3&&B.tagName==="A"?l[3]:l[1]}function j(N,B,Q,K,ee,C,U){return U===void 0&&(U=null),ee=function(A,W,ae,me,J,te,le){U===void 0&&(le=null);var he=Q.changedTouches[0],me=new Event(N,{bubbles:!0,cancelable:me});return me.dataTransfer=te,me.relatedTarget=le,me.screenX=he.screenX,me.screenY=he.screenY,me.clientX=he.clientX,me.clientY=he.clientY,me.pageX=he.pageX,me.pageY=he.pageY,A=A.getBoundingClientRect(),me.offsetX=me.clientX-A.left,me.offsetY=me.clientY-A.top,me}(B,0,0,C=C===void 0||C,document.defaultView,ee,U),ee=!B.dispatchEvent(ee),K.mode=0,ee}function H(N,B){if(!N||N===a[7])return B;if(B===l[1]){if(N.indexOf(l[1])===0)return l[1]}else if(B===l[3]){if(N.indexOf(l[3])===0||-1<N.indexOf("Link"))return l[3]}else if(B===l[2]&&(N.indexOf(l[2])===0||-1<N.indexOf("Move")))return l[2];return l[0]}var Y=(V.prototype.o=function(){var N=this;this.u=1,this.l=l[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var B=this.m;if(this.I=new _(this.v,function(C,U,A){B=C,typeof U!="number"&&typeof A!="number"||(N.j={x:U||0,y:A||0})}),this.v.mode=2,this.I.dropEffect=l[0],j("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;z("page",this.k,this.g);var Q,K,ee=this.S.dragImageSetup(B);return this.A=(Q=ee,M.map(function(C){return C=Q.style[C+"transform"],C&&C!=="none"?C.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),ee.style.position="absolute",ee.style.left="0px",ee.style.top="0px",ee.style.zIndex="999999",ee.classList.add("dnd-poly-drag-image"),ee.classList.add("dnd-poly-icon"),this.O=ee,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(K=getComputedStyle(B),this.j={x:0-parseInt(K.marginLeft,10),y:0-parseInt(K.marginTop,10)}):(ee=B.getBoundingClientRect(),K=getComputedStyle(B),this.j={x:ee.left-this.M.clientX-parseInt(K.marginLeft,10)+ee.width/2,y:ee.top-this.M.clientY-parseInt(K.marginTop,10)+ee.height/2})),X(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){N.F||(N.F=!0,N.N(),N.F=!1)},this.S.iterationInterval),!0},V.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),S("touchmove",this.P),S("touchend",this.T),S("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},V.prototype._=function(N){var B=this;if(E(N,this.M.identifier)!==!1){if(this.k=N,this.u===0){var Q=void 0;if(this.S.dragStartConditionOverride)try{Q=this.S.dragStartConditionOverride(N)}catch{Q=!1}else Q=N.touches.length===1;return Q?void(this.o()===!0&&(this.H.preventDefault(),N.preventDefault())):void this.C()}if(N.preventDefault(),z("client",N,this.p),z("page",N,this.g),this.S.dragImageTranslateOverride)try{var K=!1;if(this.S.dragImageTranslateOverride(N,{x:this.p.x,y:this.p.y},this.V,function(ee,C){B.O&&(K=!0,B.p.x+=ee,B.p.y+=C,B.g.x+=ee,B.g.y+=C,X(B.O,B.g,B.A,B.j,B.S.dragImageCenterOnTouch))}),K)return}catch{}X(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},V.prototype.X=function(N){if(E(N,this.M.identifier)!==!1){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch{}this.u!==0?(N.preventDefault(),this.u=N.type==="touchcancel"?3:2):this.C()}},V.prototype.N=function(){var N=this,B=this.l;this.v.mode=3,this.I.dropEffect=l[0];var Q,K,ee,C,U,A=j("drag",this.m,this.k,this.v,this.I);if(A&&(this.l=l[0]),A||this.u===2||this.u===3)return this.Y(this.u)?(C=this.m,Q=this.O,K=this.A,ae=function(){N.q()},void((U=getComputedStyle(C)).visibility!=="hidden"&&U.display!=="none"?(Q.classList.add("dnd-poly-snapback"),ee=getComputedStyle(Q),A=parseFloat(ee.transitionDuration),isNaN(A)||A===0?ae():((C={x:(W=C.getBoundingClientRect()).left,y:W.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,C.y+=document.body.scrollTop||document.documentElement.scrollTop,C.x-=parseInt(U.marginLeft,10),C.y-=parseInt(U.marginTop,10),W=parseFloat(ee.transitionDelay),W=Math.round(1e3*(A+W)),X(Q,C,K,void 0,!1),setTimeout(ae,W))):ae())):void this.q();var W=this.S.elementFromPoint(this.p.x,this.p.y),ae=this.B;W!==this.V&&W!==this.B&&(this.V=W,this.B!==null&&(this.v.mode=3,this.I.dropEffect=l[0],j("dragexit",this.B,this.k,this.v,this.I,!1)),this.V===null?this.B=this.V:(this.v.mode=3,this.I.dropEffect=k(this.v.effectAllowed,this.m),j("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=H(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),ae!==this.B&&f(ae)&&(this.v.mode=3,this.I.dropEffect=l[0],j("dragleave",ae,this.k,this.v,this.I,!1,this.B)),f(this.B)&&(this.v.mode=3,this.I.dropEffect=k(this.v.effectAllowed,this.m),j("dragover",this.B,this.k,this.v,this.I)===!1?this.l=l[0]:this.l=H(this.I.effectAllowed,this.I.dropEffect)),B!==this.l&&this.O.classList.remove(o+B),B=o+this.l,this.O.classList.add(B)},V.prototype.Y=function(N){return N=this.l===l[0]||this.B===null||N===3,N?f(this.B)&&(this.v.mode=3,this.I.dropEffect=l[0],j("dragleave",this.B,this.k,this.v,this.I,!1)):f(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,j("drop",this.B,this.k,this.v,this.I)===!0?this.l=this.I.dropEffect:this.l=l[0]),N},V.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,j("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},V);function V(N,B,Q,K){this.H=N,this.S=B,this.m=Q,this.L=K,this.u=0,this.V=null,this.B=null,this.k=N,this.M=N.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),g("touchmove",this.P,!1),g("touchend",this.T,!1),g("touchcancel",this.T,!1)}var R,I={iterationInterval:150,tryFindDraggableTarget:function(N){for(var B=0,Q=N.composedPath();B<Q.length;B++){var K=Q[B];do if(K.draggable!==!1&&(K.draggable===!0||K.getAttribute&&K.getAttribute("draggable")==="true"))return K;while((K=K.parentNode)&&K!==document.body)}},dragImageSetup:function(N){var B=N.cloneNode(!0);return function Q(K,ee){if(K.nodeType===1){for(var C,U,A=getComputedStyle(K),W=0;W<A.length;W++){var ae=A[W];ee.style.setProperty(ae,A.getPropertyValue(ae),A.getPropertyPriority(ae))}ee.style.pointerEvents="none",ee.removeAttribute("id"),ee.removeAttribute("class"),ee.removeAttribute("draggable"),ee.nodeName==="CANVAS"&&(C=ee,U=(U=K).getContext("2d").getImageData(0,0,U.width,U.height),C.getContext("2d").putImageData(U,0,0))}if(K.hasChildNodes())for(W=0;W<K.childNodes.length;W++)Q(K.childNodes[W],ee.childNodes[W]);(function pe(J){if(J instanceof HTMLElement&&(J.style.pointerEvents="none"),J.children&&J.children.length)for(var te=0;te<J.children.length;te++)pe(J.children[te]);if(J.shadowRoot&&J.shadowRoot.children.length)for(te=0;te<J.shadowRoot.children.length;te++)pe(J.shadowRoot.children[te])})(ee)}(N,B),B},elementFromPoint:function(N,B){var Q=document.elementFromPoint(N,B);if(Q){for(;Q.shadowRoot;){var K=Q.shadowRoot.elementFromPoint(N,B);if(K===null||K===Q)break;Q=K}return Q}}};function D(N){if(!R){var B=I.tryFindDraggableTarget(N);if(B)try{R=new Y(N,I,B,q)}catch(Q){throw q(I,N,3),Q}}}function F(N){function B(W){ee.off(),C.off(),U.off(),A.off(),Q&&Q.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(K)}var Q=N.target;Q&&Q.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var K=window.setTimeout(function(){ee.off(),C.off(),U.off(),A.off(),D(N)},I.holdToDrag),ee=w(Q,"touchend",B),C=w(Q,"touchcancel",B),U=w(Q,"touchmove",B),A=w(window,"scroll",B,!0)}function q(N,B,Q){if(Q===0&&N.defaultActionOverride)try{N.defaultActionOverride(B),B.defaultPrevented}catch{}R=null}i.polyfill=function(N){if(N&&Object.keys(N).forEach(function(Q){I[Q]=N[Q]}),!I.forceApply&&(B=(B=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||B&&"ontouchstart"in document.documentElement)}),B.userAgentSupportingNativeDnD&&B.draggable&&B.dragEvents))return!1;var B;return I.holdToDrag?g("touchstart",F,!1):g("touchstart",D,!1),!0},i.supportsPassiveEventListener=c,Object.defineProperty(i,"G",{value:!0})})})(ju,ju.exports);var W_=ju.exports,Ou={exports:{}};(function(e,t){(function(i,o){o(t)})(Du,function(i){function o(I){return I===document.body||I===document.documentElement}function a(I,D){var F;if(o(I))F=D===0?I.clientLeft:I.clientTop;else{var q=I.getBoundingClientRect();F=D===0?q.left:q.top}return F}function l(I,D){var F;return o(I)?F=D===0?window.innerWidth:window.innerHeight:F=D===0?I.clientWidth:I.clientHeight,F}function c(I,D,F){var q=D===0?"scrollLeft":"scrollTop",N=o(I);if(arguments.length===2)return N?document.body[q]||document.documentElement[q]:I[q];N?(document.documentElement[q]+=F,document.body[q]+=F):I[q]+=F}function p(I){var D=getComputedStyle(I);return I.scrollHeight>I.clientHeight&&(D.overflowY==="scroll"||D.overflowY==="auto")||I.scrollWidth>I.clientWidth&&(D.overflowX==="scroll"||D.overflowX==="auto")}function f(I){do{if(!I)return;if(p(I))return I;if(I===document.documentElement)return null}while(I=I.parentNode);return null}function g(I,D,F){return I<F?-1:D-I<F?1:0}function S(I,D,F,q){return I===-1?Math.abs(D-q):I===1?Math.abs(F-D-q):0}function w(I,D,F){var q=I===0?F.scrollX:F.scrollY;if(D===1){var N=I===0?F.scrollWidth-F.width:F.scrollHeight-F.height;return q>=N}else if(D===-1)return q<=0;return!0}var x={threshold:75,velocityFn:function(I,D){var F=I/D,q=F*F*F;return q*D}},E={horizontal:0,vertical:0},z={x:0,y:0},M,X,_,v,k;function j(I,D,F,q){X=D,k=q,_!==F&&(_=F,v=f(_));var N=V(X,v,x.threshold,E,z);N?H():M&&(window.cancelAnimationFrame(M),M=null)}function H(){M||(M=window.requestAnimationFrame(Y))}function Y(){var I=0,D=0,F=o(v);E.horizontal!==0&&(I=Math.round(x.velocityFn(z.x,x.threshold)*E.horizontal),c(v,0,I)),E.vertical!==0&&(D=Math.round(x.velocityFn(z.y,x.threshold)*E.vertical),c(v,1,D)),F?k(I,D):k(0,0),M=null,V(X,v,x.threshold,E,z)&&H()}function V(I,D,F,q,N){if(!I||!D)return!1;var B={x:a(D,0),y:a(D,1),width:l(D,0),height:l(D,1),scrollX:c(D,0),scrollY:c(D,1),scrollWidth:D.scrollWidth,scrollHeight:D.scrollHeight},Q={x:I.x-B.x,y:I.y-B.y};return q.horizontal=g(Q.x,B.width,F),q.vertical=g(Q.y,B.height,F),q.horizontal&&w(0,q.horizontal,B)?q.horizontal=0:q.horizontal&&(N.x=S(q.horizontal,Q.x,B.width,F)),q.vertical&&w(1,q.vertical,B)?q.vertical=0:q.vertical&&(N.y=S(q.vertical,Q.y,B.height,F)),!!(q.horizontal||q.vertical)}var R=j;i.scrollBehaviourDragImageTranslateOverride=R,Object.defineProperty(i,"__esModule",{value:!0})})})(Ou,Ou.exports);var G_=Ou.exports;const Y_=""+new URL("compass-DjuYXV7z.png",import.meta.url).href,K_=""+new URL("layer-tgRGCNyO.png",import.meta.url).href,X_=""+new URL("menu-CTekbRYg.png",import.meta.url).href,Q_=""+new URL("route-oCgy4FtE.png",import.meta.url).href,q_=""+new URL("settings-DL-iSASc.png",import.meta.url).href,J_=""+new URL("zoom-BsLudKLj.png",import.meta.url).href;function e0(e,t){const i=b.useRef(t);b.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const t0=1;function n0(e){return Object.freeze({__version:t0,map:e})}function sm(e,t){return Object.freeze({...e,...t})}const am=b.createContext(null),lm=am.Provider;function Na(){const e=b.useContext(am);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function um(e){function t(i,o){const{instance:a,context:l}=e(i).current;return b.useImperativeHandle(o,()=>a),i.children==null?null:mo.createElement(lm,{value:l},i.children)}return b.forwardRef(t)}function cm(e){function t(i,o){const{instance:a}=e(i).current;return b.useImperativeHandle(o,()=>a),null}return b.forwardRef(t)}function i0(e){return function(i){const o=Na(),a=e(i,o),{instance:l}=a.current,c=b.useRef(i.position),{position:p}=i;return b.useEffect(function(){return l.addTo(o.map),function(){l.remove()}},[o.map,l]),b.useEffect(function(){p!=null&&p!==c.current&&(l.setPosition(p),c.current=p)},[l,p]),a}}function dm(e,t){const i=b.useRef();b.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function Ic(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}var Iu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,o){o(t)})(Du,function(i){var o="1.9.4";function a(n){var r,s,u,d;for(s=1,u=arguments.length;s<u;s++){d=arguments[s];for(r in d)n[r]=d[r]}return n}var l=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function c(n,r){var s=Array.prototype.slice;if(n.bind)return n.bind.apply(n,s.call(arguments,1));var u=s.call(arguments,2);return function(){return n.apply(r,u.length?u.concat(s.call(arguments)):arguments)}}var p=0;function f(n){return"_leaflet_id"in n||(n._leaflet_id=++p),n._leaflet_id}function g(n,r,s){var u,d,m,y;return y=function(){u=!1,d&&(m.apply(s,d),d=!1)},m=function(){u?d=arguments:(n.apply(s,arguments),setTimeout(y,r),u=!0)},m}function S(n,r,s){var u=r[1],d=r[0],m=u-d;return n===u&&s?n:((n-d)%m+m)%m+d}function w(){return!1}function x(n,r){if(r===!1)return n;var s=Math.pow(10,r===void 0?6:r);return Math.round(n*s)/s}function E(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function z(n){return E(n).split(/\s+/)}function M(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?l(n.options):{});for(var s in r)n.options[s]=r[s];return n.options}function X(n,r,s){var u=[];for(var d in n)u.push(encodeURIComponent(s?d.toUpperCase():d)+"="+encodeURIComponent(n[d]));return(!r||r.indexOf("?")===-1?"?":"&")+u.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function v(n,r){return n.replace(_,function(s,u){var d=r[u];if(d===void 0)throw new Error("No value provided for variable "+s);return typeof d=="function"&&(d=d(r)),d})}var k=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function j(n,r){for(var s=0;s<n.length;s++)if(n[s]===r)return s;return-1}var H="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var V=0;function R(n){var r=+new Date,s=Math.max(0,16-(r-V));return V=r+s,window.setTimeout(n,s)}var I=window.requestAnimationFrame||Y("RequestAnimationFrame")||R,D=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function F(n,r,s){if(s&&I===R)n.call(r);else return I.call(window,c(n,r))}function q(n){n&&D.call(window,n)}var N={__proto__:null,extend:a,create:l,bind:c,get lastId(){return p},stamp:f,throttle:g,wrapNum:S,falseFn:w,formatNum:x,trim:E,splitWords:z,setOptions:M,getParamString:X,template:v,isArray:k,indexOf:j,emptyImageUrl:H,requestFn:I,cancelFn:D,requestAnimFrame:F,cancelAnimFrame:q};function B(){}B.extend=function(n){var r=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=r.__super__=this.prototype,u=l(s);u.constructor=r,r.prototype=u;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(r[d]=this[d]);return n.statics&&a(r,n.statics),n.includes&&(Q(n.includes),a.apply(null,[u].concat(n.includes))),a(u,n),delete u.statics,delete u.includes,u.options&&(u.options=s.options?l(s.options):{},a(u.options,n.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,y=u._initHooks.length;m<y;m++)u._initHooks[m].call(this)}},r},B.include=function(n){var r=this.prototype.options;return a(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},B.mergeOptions=function(n){return a(this.prototype.options,n),this},B.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),s=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};function Q(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=k(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(n,r,s){if(typeof n=="object")for(var u in n)this._on(u,n[u],r);else{n=z(n);for(var d=0,m=n.length;d<m;d++)this._on(n[d],r,s)}return this},off:function(n,r,s){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var u in n)this._off(u,n[u],r);else{n=z(n);for(var d=arguments.length===1,m=0,y=n.length;m<y;m++)d?this._off(n[m]):this._off(n[m],r,s)}return this},_on:function(n,r,s,u){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,s)===!1){s===this&&(s=void 0);var d={fn:r,ctx:s};u&&(d.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(d)}},_off:function(n,r,s){var u,d,m;if(this._events&&(u=this._events[n],!!u)){if(arguments.length===1){if(this._firingCount)for(d=0,m=u.length;d<m;d++)u[d].fn=w;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var y=this._listens(n,r,s);if(y!==!1){var P=u[y];this._firingCount&&(P.fn=w,this._events[n]=u=u.slice()),u.splice(y,1)}}},fire:function(n,r,s){if(!this.listens(n,s))return this;var u=a({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var d=this._events[n];if(d){this._firingCount=this._firingCount+1||1;for(var m=0,y=d.length;m<y;m++){var P=d[m],O=P.fn;P.once&&this.off(n,O,P.ctx),O.call(P.ctx||this,u)}this._firingCount--}}return s&&this._propagateEvent(u),this},listens:function(n,r,s,u){typeof n!="string"&&console.warn('"string" type argument expected');var d=r;typeof r!="function"&&(u=!!r,d=void 0,s=void 0);var m=this._events&&this._events[n];if(m&&m.length&&this._listens(n,d,s)!==!1)return!0;if(u){for(var y in this._eventParents)if(this._eventParents[y].listens(n,r,s,u))return!0}return!1},_listens:function(n,r,s){if(!this._events)return!1;var u=this._events[n]||[];if(!r)return!!u.length;s===this&&(s=void 0);for(var d=0,m=u.length;d<m;d++)if(u[d].fn===r&&u[d].ctx===s)return d;return!1},once:function(n,r,s){if(typeof n=="object")for(var u in n)this._on(u,n[u],r,!0);else{n=z(n);for(var d=0,m=n.length;d<m;d++)this._on(n[d],r,s,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[f(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[f(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,a({layer:n.target,propagatedFrom:n.target},n),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var ee=B.extend(K);function C(n,r,s){this.x=s?Math.round(n):n,this.y=s?Math.round(r):r}var U=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};C.prototype={clone:function(){return new C(this.x,this.y)},add:function(n){return this.clone()._add(A(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(A(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new C(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new C(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=U(this.x),this.y=U(this.y),this},distanceTo:function(n){n=A(n);var r=n.x-this.x,s=n.y-this.y;return Math.sqrt(r*r+s*s)},equals:function(n){return n=A(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=A(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function A(n,r,s){return n instanceof C?n:k(n)?new C(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new C(n.x,n.y):new C(n,r,s)}function W(n,r){if(n)for(var s=r?[n,r]:n,u=0,d=s.length;u<d;u++)this.extend(s[u])}W.prototype={extend:function(n){var r,s;if(!n)return this;if(n instanceof C||typeof n[0]=="number"||"x"in n)r=s=A(n);else if(n=ae(n),r=n.min,s=n.max,!r||!s)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=s.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)),this},getCenter:function(n){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,s;return typeof n[0]=="number"||n instanceof C?n=A(n):n=ae(n),n instanceof W?(r=n.min,s=n.max):r=s=n,r.x>=this.min.x&&s.x<=this.max.x&&r.y>=this.min.y&&s.y<=this.max.y},intersects:function(n){n=ae(n);var r=this.min,s=this.max,u=n.min,d=n.max,m=d.x>=r.x&&u.x<=s.x,y=d.y>=r.y&&u.y<=s.y;return m&&y},overlaps:function(n){n=ae(n);var r=this.min,s=this.max,u=n.min,d=n.max,m=d.x>r.x&&u.x<s.x,y=d.y>r.y&&u.y<s.y;return m&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,s=this.max,u=Math.abs(r.x-s.x)*n,d=Math.abs(r.y-s.y)*n;return ae(A(r.x-u,r.y-d),A(s.x+u,s.y+d))},equals:function(n){return n?(n=ae(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function ae(n,r){return!n||n instanceof W?n:new W(n,r)}function pe(n,r){if(n)for(var s=r?[n,r]:n,u=0,d=s.length;u<d;u++)this.extend(s[u])}pe.prototype={extend:function(n){var r=this._southWest,s=this._northEast,u,d;if(n instanceof te)u=n,d=n;else if(n instanceof pe){if(u=n._southWest,d=n._northEast,!u||!d)return this}else return n?this.extend(le(n)||J(n)):this;return!r&&!s?(this._southWest=new te(u.lat,u.lng),this._northEast=new te(d.lat,d.lng)):(r.lat=Math.min(u.lat,r.lat),r.lng=Math.min(u.lng,r.lng),s.lat=Math.max(d.lat,s.lat),s.lng=Math.max(d.lng,s.lng)),this},pad:function(n){var r=this._southWest,s=this._northEast,u=Math.abs(r.lat-s.lat)*n,d=Math.abs(r.lng-s.lng)*n;return new pe(new te(r.lat-u,r.lng-d),new te(s.lat+u,s.lng+d))},getCenter:function(){return new te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new te(this.getNorth(),this.getWest())},getSouthEast:function(){return new te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof te||"lat"in n?n=le(n):n=J(n);var r=this._southWest,s=this._northEast,u,d;return n instanceof pe?(u=n.getSouthWest(),d=n.getNorthEast()):u=d=n,u.lat>=r.lat&&d.lat<=s.lat&&u.lng>=r.lng&&d.lng<=s.lng},intersects:function(n){n=J(n);var r=this._southWest,s=this._northEast,u=n.getSouthWest(),d=n.getNorthEast(),m=d.lat>=r.lat&&u.lat<=s.lat,y=d.lng>=r.lng&&u.lng<=s.lng;return m&&y},overlaps:function(n){n=J(n);var r=this._southWest,s=this._northEast,u=n.getSouthWest(),d=n.getNorthEast(),m=d.lat>r.lat&&u.lat<s.lat,y=d.lng>r.lng&&u.lng<s.lng;return m&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=J(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function J(n,r){return n instanceof pe?n:new pe(n,r)}function te(n,r,s){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,s!==void 0&&(this.alt=+s)}te.prototype={equals:function(n,r){if(!n)return!1;n=le(n);var s=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return s<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+x(this.lat,n)+", "+x(this.lng,n)+")"},distanceTo:function(n){return me.distance(this,le(n))},wrap:function(){return me.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,s=r/Math.cos(Math.PI/180*this.lat);return J([this.lat-r,this.lng-s],[this.lat+r,this.lng+s])},clone:function(){return new te(this.lat,this.lng,this.alt)}};function le(n,r,s){return n instanceof te?n:k(n)&&typeof n[0]!="object"?n.length===3?new te(n[0],n[1],n[2]):n.length===2?new te(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new te(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new te(n,r,s)}var he={latLngToPoint:function(n,r){var s=this.projection.project(n),u=this.scale(r);return this.transformation._transform(s,u)},pointToLatLng:function(n,r){var s=this.scale(r),u=this.transformation.untransform(n,s);return this.projection.unproject(u)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,s=this.scale(n),u=this.transformation.transform(r.min,s),d=this.transformation.transform(r.max,s);return new W(u,d)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?S(n.lng,this.wrapLng,!0):n.lng,s=this.wrapLat?S(n.lat,this.wrapLat,!0):n.lat,u=n.alt;return new te(s,r,u)},wrapLatLngBounds:function(n){var r=n.getCenter(),s=this.wrapLatLng(r),u=r.lat-s.lat,d=r.lng-s.lng;if(u===0&&d===0)return n;var m=n.getSouthWest(),y=n.getNorthEast(),P=new te(m.lat-u,m.lng-d),O=new te(y.lat-u,y.lng-d);return new pe(P,O)}},me=a({},he,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var s=Math.PI/180,u=n.lat*s,d=r.lat*s,m=Math.sin((r.lat-n.lat)*s/2),y=Math.sin((r.lng-n.lng)*s/2),P=m*m+Math.cos(u)*Math.cos(d)*y*y,O=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*O}}),Dt=6378137,Bt={R:Dt,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,s=this.MAX_LATITUDE,u=Math.max(Math.min(s,n.lat),-s),d=Math.sin(u*r);return new C(this.R*n.lng*r,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(n){var r=180/Math.PI;return new te((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=Dt*Math.PI;return new W([-n,-n],[n,n])}()};function Zt(n,r,s,u){if(k(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=s,this._d=u}Zt.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new C((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function Ue(n,r,s,u){return new Zt(n,r,s,u)}var vt=a({},me,{code:"EPSG:3857",projection:Bt,transformation:function(){var n=.5/(Math.PI*Bt.R);return Ue(n,.5,-n,.5)}()}),Xt=a({},vt,{code:"EPSG:900913"});function _t(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Ye(n,r){var s="",u,d,m,y,P,O;for(u=0,m=n.length;u<m;u++){for(P=n[u],d=0,y=P.length;d<y;d++)O=P[d],s+=(d?"L":"M")+O.x+" "+O.y;s+=r?oe.svg?"z":"x":""}return s||"M0 0"}var ue=document.documentElement.style,Ee="ActiveXObject"in window,Ke=Ee&&!document.addEventListener,yt="msLaunchUri"in navigator&&!("documentMode"in document),Ae=Ft("webkit"),Qt=Ft("android"),zn=Ft("android 2")||Ft("android 3"),xt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=Qt&&Ft("Google")&&xt<537&&!("AudioNode"in window),Lt=!!window.opera,un=!yt&&Ft("chrome"),Rn=Ft("gecko")&&!Ae&&!Lt&&!Ee,ut=!un&&Ft("safari"),ne=Ft("phantom"),de="OTransition"in ue,Se=navigator.platform.indexOf("Win")===0,ce=Ee&&"transition"in ue,ct="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zn,_n="MozPerspective"in ue,Ia=!window.L_DISABLE_3D&&(ce||ct||_n)&&!de&&!ne,Be=typeof orientation<"u"||Ft("mobile"),za=Be&&Ae,Ra=Be&&ct,ci=!window.PointerEvent&&window.MSPointerEvent,Fo=!!(window.PointerEvent||ci),di="ontouchstart"in window||!!window.TouchEvent,wt=!window.L_NO_TOUCH&&(di||Fo),fi=Be&&Lt,Ho=Be&&Rn,Ai=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$o=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",w,r),window.removeEventListener("testPassiveEventSupport",w,r)}catch{}return n}(),Lr=function(){return!!document.createElement("canvas").getContext}(),An=!!(document.createElementNS&&_t("svg").createSVGRect),Di=!!An&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Aa=!An&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Tr=navigator.platform.indexOf("Mac")===0,Da=navigator.platform.indexOf("Linux")===0;function Ft(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var oe={ie:Ee,ielt9:Ke,edge:yt,webkit:Ae,android:Qt,android23:zn,androidStock:lt,opera:Lt,chrome:un,gecko:Rn,safari:ut,phantom:ne,opera12:de,win:Se,ie3d:ce,webkit3d:ct,gecko3d:_n,any3d:Ia,mobile:Be,mobileWebkit:za,mobileWebkit3d:Ra,msPointer:ci,pointer:Fo,touch:wt,touchNative:di,mobileOpera:fi,mobileGecko:Ho,retina:Ai,passiveEvents:$o,canvas:Lr,svg:An,vml:Aa,inlineSvg:Di,mac:Tr,linux:Da},Bi=oe.msPointer?"MSPointerDown":"pointerdown",Nr=oe.msPointer?"MSPointerMove":"pointermove",Ze=oe.msPointer?"MSPointerUp":"pointerup",Uo=oe.msPointer?"MSPointerCancel":"pointercancel",Zi={touchstart:Bi,touchmove:Nr,touchend:Ze,touchcancel:Uo},Mr={touchstart:$a,touchmove:pi,touchend:pi,touchcancel:pi},Dn={},Vo=!1;function Ba(n,r,s){return r==="touchstart"&&Ha(),Mr[r]?(s=Mr[r].bind(this,s),n.addEventListener(Zi[r],s,!1),s):(console.warn("wrong event specified:",r),w)}function Za(n,r,s){if(!Zi[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(Zi[r],s,!1)}function hi(n){Dn[n.pointerId]=n}function Fa(n){Dn[n.pointerId]&&(Dn[n.pointerId]=n)}function Wo(n){delete Dn[n.pointerId]}function Ha(){Vo||(document.addEventListener(Bi,hi,!0),document.addEventListener(Nr,Fa,!0),document.addEventListener(Ze,Wo,!0),document.addEventListener(Uo,Wo,!0),Vo=!0)}function pi(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var s in Dn)r.touches.push(Dn[s]);r.changedTouches=[r],n(r)}}function $a(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&et(r),pi(n,r)}function Go(n){var r={},s,u;for(u in n)s=n[u],r[u]=s&&s.bind?s.bind(n):s;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Yo=200;function Ua(n,r){n.addEventListener("dblclick",r);var s=0,u;function d(m){if(m.detail!==1){u=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var y=Fc(m);if(!(y.some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!y.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement}))){var P=Date.now();P-s<=Yo?(u++,u===2&&r(Go(m))):u=1,s=P}}}return n.addEventListener("click",d),{dblclick:r,simDblclick:d}}function Va(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var jr=vi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mi=vi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ko=mi==="webkitTransition"||mi==="OTransition"?mi+"End":"transitionend";function Xo(n){return typeof n=="string"?document.getElementById(n):n}function gi(n,r){var s=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!s||s==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(n,null);s=u?u[r]:null}return s==="auto"?null:s}function ye(n,r,s){var u=document.createElement(n);return u.className=r||"",s&&s.appendChild(u),u}function Le(n){var r=n.parentNode;r&&r.removeChild(n)}function Bn(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Zn(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function yn(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function T(n,r){if(n.classList!==void 0)return n.classList.contains(r);var s=Tt(n);return s.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(s)}function Z(n,r){if(n.classList!==void 0)for(var s=z(r),u=0,d=s.length;u<d;u++)n.classList.add(s[u]);else if(!T(n,r)){var m=Tt(n);Fe(n,(m?m+" ":"")+r)}}function se(n,r){n.classList!==void 0?n.classList.remove(r):Fe(n,E((" "+Tt(n)+" ").replace(" "+r+" "," ")))}function Fe(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function Tt(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function dt(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&Or(n,r)}function Or(n,r){var s=!1,u="DXImageTransform.Microsoft.Alpha";try{s=n.filters.item(u)}catch{if(r===1)return}r=Math.round(r*100),s?(s.Enabled=r!==100,s.Opacity=r):n.style.filter+=" progid:"+u+"(opacity="+r+")"}function vi(n){for(var r=document.documentElement.style,s=0;s<n.length;s++)if(n[s]in r)return n[s];return!1}function ze(n,r,s){var u=r||new C(0,0);n.style[jr]=(oe.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(s?" scale("+s+")":"")}function ke(n,r){n._leaflet_pos=r,oe.any3d?ze(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function Xe(n){return n._leaflet_pos||new C(0,0)}var Nt,qt,_i;if("onselectstart"in document)Nt=function(){ge(window,"selectstart",et)},qt=function(){Ce(window,"selectstart",et)};else{var Mt=vi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nt=function(){if(Mt){var n=document.documentElement.style;_i=n[Mt],n[Mt]="none"}},qt=function(){Mt&&(document.documentElement.style[Mt]=_i,_i=void 0)}}function xn(){ge(window,"dragstart",et)}function Ve(){Ce(window,"dragstart",et)}var Fn,Ir;function zr(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Qo(),Fn=n,Ir=n.style.outlineStyle,n.style.outlineStyle="none",ge(window,"keydown",Qo))}function Qo(){Fn&&(Fn.style.outlineStyle=Ir,Fn=void 0,Ir=void 0,Ce(window,"keydown",Qo))}function Bc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Wa(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var Pm={__proto__:null,TRANSFORM:jr,TRANSITION:mi,TRANSITION_END:Ko,get:Xo,getStyle:gi,create:ye,remove:Le,empty:Bn,toFront:Zn,toBack:yn,hasClass:T,addClass:Z,removeClass:se,setClass:Fe,getClass:Tt,setOpacity:dt,testProp:vi,setTransform:ze,setPosition:ke,getPosition:Xe,get disableTextSelection(){return Nt},get enableTextSelection(){return qt},disableImageDrag:xn,enableImageDrag:Ve,preventOutline:zr,restoreOutline:Qo,getSizedParentNode:Bc,getScale:Wa};function ge(n,r,s,u){if(r&&typeof r=="object")for(var d in r)Ya(n,d,r[d],s);else{r=z(r);for(var m=0,y=r.length;m<y;m++)Ya(n,r[m],s,u)}return this}var cn="_leaflet_events";function Ce(n,r,s,u){if(arguments.length===1)Zc(n),delete n[cn];else if(r&&typeof r=="object")for(var d in r)Ka(n,d,r[d],s);else if(r=z(r),arguments.length===2)Zc(n,function(P){return j(r,P)!==-1});else for(var m=0,y=r.length;m<y;m++)Ka(n,r[m],s,u);return this}function Zc(n,r){for(var s in n[cn]){var u=s.split(/\d/)[0];(!r||r(u))&&Ka(n,u,null,null,s)}}var Ga={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ya(n,r,s,u){var d=r+f(s)+(u?"_"+f(u):"");if(n[cn]&&n[cn][d])return this;var m=function(P){return s.call(u||n,P||window.event)},y=m;!oe.touchNative&&oe.pointer&&r.indexOf("touch")===0?m=Ba(n,r,m):oe.touch&&r==="dblclick"?m=Ua(n,m):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(Ga[r]||r,m,oe.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(m=function(P){P=P||window.event,Qa(n,P)&&y(P)},n.addEventListener(Ga[r],m,!1)):n.addEventListener(r,y,!1):n.attachEvent("on"+r,m),n[cn]=n[cn]||{},n[cn][d]=m}function Ka(n,r,s,u,d){d=d||r+f(s)+(u?"_"+f(u):"");var m=n[cn]&&n[cn][d];if(!m)return this;!oe.touchNative&&oe.pointer&&r.indexOf("touch")===0?Za(n,r,m):oe.touch&&r==="dblclick"?Va(n,m):"removeEventListener"in n?n.removeEventListener(Ga[r]||r,m,!1):n.detachEvent("on"+r,m),n[cn][d]=null}function yi(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Xa(n){return Ya(n,"wheel",yi),this}function Rr(n){return ge(n,"mousedown touchstart dblclick contextmenu",yi),n._leaflet_disable_click=!0,this}function et(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function xi(n){return et(n),yi(n),this}function Fc(n){if(n.composedPath)return n.composedPath();for(var r=[],s=n.target;s;)r.push(s),s=s.parentNode;return r}function Hc(n,r){if(!r)return new C(n.clientX,n.clientY);var s=Wa(r),u=s.boundingClientRect;return new C((n.clientX-u.left)/s.x-r.clientLeft,(n.clientY-u.top)/s.y-r.clientTop)}var Em=oe.linux&&oe.chrome?window.devicePixelRatio:oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $c(n){return oe.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Em:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Qa(n,r){var s=r.relatedTarget;if(!s)return!0;try{for(;s&&s!==n;)s=s.parentNode}catch{return!1}return s!==n}var Lm={__proto__:null,on:ge,off:Ce,stopPropagation:yi,disableScrollPropagation:Xa,disableClickPropagation:Rr,preventDefault:et,stop:xi,getPropagationPath:Fc,getMousePosition:Hc,getWheelDelta:$c,isExternalTarget:Qa,addListener:ge,removeListener:Ce},Uc=ee.extend({run:function(n,r,s,u){this.stop(),this._el=n,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=Xe(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,s=this._duration*1e3;r<s?this._runFrame(this._easeOut(r/s),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var s=this._startPos.add(this._offset.multiplyBy(n));r&&s._round(),ke(this._el,s),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),xe=ee.extend({options:{crs:vt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=M(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(le(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mi&&oe.any3d&&!oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ge(this._proxy,Ko,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,s){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(le(n),r,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==void 0&&(s.zoom=a({animate:s.animate},s.zoom),s.pan=a({animate:s.animate,duration:s.duration},s.pan));var u=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,s.zoom):this._tryAnimatedPan(n,s.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,s.pan&&s.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,s){var u=this.getZoomScale(r),d=this.getSize().divideBy(2),m=n instanceof C?n:this.latLngToContainerPoint(n),y=m.subtract(d).multiplyBy(1-1/u),P=this.containerPointToLatLng(d.add(y));return this.setView(P,r,{zoom:s})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():J(n);var s=A(r.paddingTopLeft||r.padding||[0,0]),u=A(r.paddingBottomRight||r.padding||[0,0]),d=this.getBoundsZoom(n,!1,s.add(u));if(d=typeof r.maxZoom=="number"?Math.min(r.maxZoom,d):d,d===1/0)return{center:n.getCenter(),zoom:d};var m=u.subtract(s).divideBy(2),y=this.project(n.getSouthWest(),d),P=this.project(n.getNorthEast(),d),O=this.unproject(y.add(P).divideBy(2).add(m),d);return{center:O,zoom:d}},fitBounds:function(n,r){if(n=J(n),!n.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(n,r);return this.setView(s.center,s.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=A(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Uc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){Z(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,s,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,s){if(s=s||{},s.animate===!1||!oe.any3d)return this.setView(n,r,s);this._stop();var u=this.project(this.getCenter()),d=this.project(n),m=this.getSize(),y=this._zoom;n=le(n),r=r===void 0?y:r;var P=Math.max(m.x,m.y),O=P*this.getZoomScale(y,r),$=d.distanceTo(u)||1,ie=1.42,fe=ie*ie;function ve(He){var us=He?-1:1,gg=He?O:P,vg=O*O-P*P+us*fe*fe*$*$,_g=2*gg*fe*$,ll=vg/_g,Sd=Math.sqrt(ll*ll+1)-ll,yg=Sd<1e-9?-18:Math.log(Sd);return yg}function ft(He){return(Math.exp(He)-Math.exp(-He))/2}function Qe(He){return(Math.exp(He)+Math.exp(-He))/2}function $t(He){return ft(He)/Qe(He)}var kt=ve(0);function Wi(He){return P*(Qe(kt)/Qe(kt+ie*He))}function fg(He){return P*(Qe(kt)*$t(kt+ie*He)-ft(kt))/fe}function hg(He){return 1-Math.pow(1-He,1.5)}var pg=Date.now(),kd=(ve(1)-kt)/ie,mg=s.duration?1e3*s.duration:1e3*kd*.8;function bd(){var He=(Date.now()-pg)/mg,us=hg(He)*kd;He<=1?(this._flyToFrame=F(bd,this),this._move(this.unproject(u.add(d.subtract(u).multiplyBy(fg(us)/$)),y),this.getScaleZoom(P/Wi(us),y),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),bd.call(this),this},flyToBounds:function(n,r){var s=this._getBoundsCenterZoom(n,r);return this.flyTo(s.center,s.zoom,r)},setMaxBounds:function(n){return n=J(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var s=this.getCenter(),u=this._limitCenter(s,this._zoom,J(n));return s.equals(u)||this.panTo(u,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var s=A(r.paddingTopLeft||r.padding||[0,0]),u=A(r.paddingBottomRight||r.padding||[0,0]),d=this.project(this.getCenter()),m=this.project(n),y=this.getPixelBounds(),P=ae([y.min.add(s),y.max.subtract(u)]),O=P.getSize();if(!P.contains(m)){this._enforcingBounds=!0;var $=m.subtract(P.getCenter()),ie=P.extend(m).getSize().subtract(O);d.x+=$.x<0?-ie.x:ie.x,d.y+=$.y<0?-ie.y:ie.y,this.panTo(this.unproject(d),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=a({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),u=r.divideBy(2).round(),d=s.divideBy(2).round(),m=u.subtract(d);return!m.x&&!m.y?this:(n.animate&&n.pan?this.panBy(m):(n.pan&&this._rawPanBy(m),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:s}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=a({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=c(this._handleGeolocationResponse,this),s=c(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,s,n):navigator.geolocation.getCurrentPosition(r,s,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,s=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+s+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,s=n.coords.longitude,u=new te(r,s),d=u.toBounds(n.coords.accuracy*2),m=this._locateOptions;if(m.setView){var y=this.getBoundsZoom(d);this.setView(u,m.maxZoom?Math.min(y,m.maxZoom):y)}var P={latlng:u,bounds:d,timestamp:n.timestamp};for(var O in n.coords)typeof n.coords[O]=="number"&&(P[O]=n.coords[O]);this.fire("locationfound",P)}},addHandler:function(n,r){if(!r)return this;var s=this[n]=new r(this);return this._handlers.push(s),this.options[n]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Le(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Le(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var s="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),u=ye("div",s,r||this._mapPane);return n&&(this._panes[n]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),s=this.unproject(n.getTopRight());return new pe(r,s)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,s){n=J(n),s=A(s||[0,0]);var u=this.getZoom()||0,d=this.getMinZoom(),m=this.getMaxZoom(),y=n.getNorthWest(),P=n.getSouthEast(),O=this.getSize().subtract(s),$=ae(this.project(P,u),this.project(y,u)).getSize(),ie=oe.any3d?this.options.zoomSnap:1,fe=O.x/$.x,ve=O.y/$.y,ft=r?Math.max(fe,ve):Math.min(fe,ve);return u=this.getScaleZoom(ft,u),ie&&(u=Math.round(u/(ie/100))*(ie/100),u=r?Math.ceil(u/ie)*ie:Math.floor(u/ie)*ie),Math.max(d,Math.min(m,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new C(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var s=this._getTopLeftPoint(n,r);return new W(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var s=this.options.crs;return r=r===void 0?this._zoom:r,s.scale(n)/s.scale(r)},getScaleZoom:function(n,r){var s=this.options.crs;r=r===void 0?this._zoom:r;var u=s.zoom(n*s.scale(r));return isNaN(u)?1/0:u},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(le(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(A(n),r)},layerPointToLatLng:function(n){var r=A(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(le(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(le(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(J(n))},distance:function(n,r){return this.options.crs.distance(le(n),le(r))},containerPointToLayerPoint:function(n){return A(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return A(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(A(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(le(n)))},mouseEventToContainerPoint:function(n){return Hc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=Xo(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ge(r,"scroll",this._onScroll,this),this._containerId=f(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&oe.any3d,Z(n,"leaflet-container"+(oe.touch?" leaflet-touch":"")+(oe.retina?" leaflet-retina":"")+(oe.ielt9?" leaflet-oldie":"")+(oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=gi(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ke(this._mapPane,new C(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Z(n.markerPane,"leaflet-zoom-hide"),Z(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,s){ke(this._mapPane,new C(0,0));var u=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var d=this._zoom!==r;this._moveStart(d,s)._move(n,r)._moveEnd(d),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,s,u){r===void 0&&(r=this._zoom);var d=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),u?s&&s.pinch&&this.fire("zoom",s):((d||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){ke(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[f(this._container)]=this;var r=n?Ce:ge;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),oe.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var s=[],u,d=r==="mouseout"||r==="mouseover",m=n.target||n.srcElement,y=!1;m;){if(u=this._targets[f(m)],u&&(r==="click"||r==="preclick")&&this._draggableMoved(u)){y=!0;break}if(u&&u.listens(r,!0)&&(d&&!Qa(m,n)||(s.push(u),d))||m===this._container)break;m=m.parentNode}return!s.length&&!y&&!d&&this.listens(r,!0)&&(s=[this]),s},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var s=n.type;s==="mousedown"&&zr(r),this._fireDOMEvent(n,s)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,s){if(n.type==="click"){var u=a({},n);u.type="preclick",this._fireDOMEvent(u,u.type,s)}var d=this._findEventTargets(n,r);if(s){for(var m=[],y=0;y<s.length;y++)s[y].listens(r,!0)&&m.push(s[y]);d=m.concat(d)}if(d.length){r==="contextmenu"&&et(n);var P=d[0],O={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var $=P.getLatLng&&(!P._radius||P._radius<=10);O.containerPoint=$?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(n),O.layerPoint=this.containerPointToLayerPoint(O.containerPoint),O.latlng=$?P.getLatLng():this.layerPointToLatLng(O.layerPoint)}for(y=0;y<d.length;y++)if(d[y].fire(r,O,!0),O.originalEvent._stopped||d[y].options.bubblingMouseEvents===!1&&j(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return Xe(this._mapPane)||new C(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var s=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var s=this.getSize()._divideBy(2);return this.project(n,r)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,s){var u=this._getNewPixelOrigin(s,r);return this.project(n,r)._subtract(u)},_latLngBoundsToNewLayerBounds:function(n,r,s){var u=this._getNewPixelOrigin(s,r);return ae([this.project(n.getSouthWest(),r)._subtract(u),this.project(n.getNorthWest(),r)._subtract(u),this.project(n.getSouthEast(),r)._subtract(u),this.project(n.getNorthEast(),r)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,s){if(!s)return n;var u=this.project(n,r),d=this.getSize().divideBy(2),m=new W(u.subtract(d),u.add(d)),y=this._getBoundsOffset(m,s,r);return Math.abs(y.x)<=1&&Math.abs(y.y)<=1?n:this.unproject(u.add(y),r)},_limitOffset:function(n,r){if(!r)return n;var s=this.getPixelBounds(),u=new W(s.min.add(n),s.max.add(n));return n.add(this._getBoundsOffset(u,r))},_getBoundsOffset:function(n,r,s){var u=ae(this.project(r.getNorthEast(),s),this.project(r.getSouthWest(),s)),d=u.min.subtract(n.min),m=u.max.subtract(n.max),y=this._rebound(d.x,-m.x),P=this._rebound(d.y,-m.y);return new C(y,P)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),s=this.getMaxZoom(),u=oe.any3d?this.options.zoomSnap:1;return u&&(n=Math.round(n/u)*u),Math.max(r,Math.min(s,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){se(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var s=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,r),!0)},_createAnimProxy:function(){var n=this._proxy=ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var s=jr,u=this._proxy.style[s];ze(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),u===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Le(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();ze(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(r),d=this._getCenterOffset(n)._divideBy(1-1/u);return s.animate!==!0&&!this.getSize().contains(d)?!1:(F(function(){this._moveStart(!0,s.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,s,u){this._mapPane&&(s&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,Z(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&se(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Tm(n,r){return new xe(n,r)}var Jt=B.extend({options:{position:"topright"},initialize:function(n){M(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),s=this.getPosition(),u=n._controlCorners[s];return Z(r,"leaflet-control"),s.indexOf("bottom")!==-1?u.insertBefore(r,u.firstChild):u.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Le(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Ar=function(n){return new Jt(n)};xe.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",s=this._controlContainer=ye("div",r+"control-container",this._container);function u(d,m){var y=r+d+" "+r+m;n[d+m]=ye("div",y,s)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Le(this._controlCorners[n]);Le(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vc=Jt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,s,u){return s<u?-1:u<s?1:0}},initialize:function(n,r,s){M(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in n)this._addLayer(n[u],u);for(u in r)this._addLayer(r[u],u,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Jt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(f(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Z(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Z(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):se(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return se(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=ye("div",n),s=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Rr(r),Xa(r);var u=this._section=ye("section",n+"-list");s&&(this._map.on("click",this.collapse,this),ge(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=ye("a",n+"-toggle",r);d.href="#",d.title="Layers",d.setAttribute("role","button"),ge(d,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){et(m),this._expandSafely()}},this),s||this.expand(),this._baseLayersList=ye("div",n+"-base",u),this._separator=ye("div",n+"-separator",u),this._overlaysList=ye("div",n+"-overlays",u),r.appendChild(u)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&f(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,s){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:s}),this.options.sortLayers&&this._layers.sort(c(function(u,d){return this.options.sortFunction(u.layer,d.layer,u.name,d.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Bn(this._baseLayersList),Bn(this._overlaysList),this._layerControlInputs=[];var n,r,s,u,d=0;for(s=0;s<this._layers.length;s++)u=this._layers[s],this._addItem(u),r=r||u.overlay,n=n||!u.overlay,d+=u.overlay?0:1;return this.options.hideSingleBase&&(n=n&&d>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(f(n.target)),s=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;s&&this._map.fire(s,r)},_createRadioElement:function(n,r){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=s,u.firstChild},_addItem:function(n){var r=document.createElement("label"),s=this._map.hasLayer(n.layer),u;n.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=s):u=this._createRadioElement("leaflet-base-layers_"+f(this),s),this._layerControlInputs.push(u),u.layerId=f(n.layer),ge(u,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+n.name;var m=document.createElement("span");r.appendChild(m),m.appendChild(u),m.appendChild(d);var y=n.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,s,u=[],d=[];this._handlingClick=!0;for(var m=n.length-1;m>=0;m--)r=n[m],s=this._getLayer(r.layerId).layer,r.checked?u.push(s):r.checked||d.push(s);for(m=0;m<d.length;m++)this._map.hasLayer(d[m])&&this._map.removeLayer(d[m]);for(m=0;m<u.length;m++)this._map.hasLayer(u[m])||this._map.addLayer(u[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,s,u=this._map.getZoom(),d=n.length-1;d>=0;d--)r=n[d],s=this._getLayer(r.layerId).layer,r.disabled=s.options.minZoom!==void 0&&u<s.options.minZoom||s.options.maxZoom!==void 0&&u>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,ge(n,"click",et),this.expand();var r=this;setTimeout(function(){Ce(n,"click",et),r._preventClick=!1})}}),Nm=function(n,r,s){return new Vc(n,r,s)},qa=Jt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",s=ye("div",r+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,r+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,r+"-out",s,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,s,u,d){var m=ye("a",s,u);return m.innerHTML=n,m.href="#",m.title=r,m.setAttribute("role","button"),m.setAttribute("aria-label",r),Rr(m),ge(m,"click",xi),ge(m,"click",d,this),ge(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";se(this._zoomInButton,r),se(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Z(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Z(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});xe.mergeOptions({zoomControl:!0}),xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qa,this.addControl(this.zoomControl))});var Mm=function(n){return new qa(n)},Wc=Jt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",s=ye("div",r),u=this.options;return this._addScales(u,r+"-line",s),n.on(u.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),s},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,s){n.metric&&(this._mScale=ye("div",r,s)),n.imperial&&(this._iScale=ye("div",r,s))},_update:function(){var n=this._map,r=n.getSize().y/2,s=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(s)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),s=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,s,r/n)},_updateImperial:function(n){var r=n*3.2808399,s,u,d;r>5280?(s=r/5280,u=this._getRoundNum(s),this._updateScale(this._iScale,u+" mi",u/s)):(d=this._getRoundNum(r),this._updateScale(this._iScale,d+" ft",d/r))},_updateScale:function(n,r,s){n.style.width=Math.round(this.options.maxWidth*s)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),s=n/r;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,r*s}}),jm=function(n){return new Wc(n)},Om='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ja=Jt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(oe.inlineSvg?Om+" ":"")+"Leaflet</a>"},initialize:function(n){M(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=ye("div","leaflet-control-attribution"),Rr(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var s=[];this.options.prefix&&s.push(this.options.prefix),n.length&&s.push(n.join(", ")),this._container.innerHTML=s.join(' <span aria-hidden="true">|</span> ')}}});xe.mergeOptions({attributionControl:!0}),xe.addInitHook(function(){this.options.attributionControl&&new Ja().addTo(this)});var Im=function(n){return new Ja(n)};Jt.Layers=Vc,Jt.Zoom=qa,Jt.Scale=Wc,Jt.Attribution=Ja,Ar.layers=Nm,Ar.zoom=Mm,Ar.scale=jm,Ar.attribution=Im;var dn=B.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});dn.addTo=function(n,r){return n.addHandler(r,this),this};var zm={Events:K},Gc=oe.touch?"touchstart mousedown":"mousedown",Hn=ee.extend({options:{clickTolerance:3},initialize:function(n,r,s,u){M(this,u),this._element=n,this._dragStartTarget=r||n,this._preventOutline=s},enable:function(){this._enabled||(ge(this._dragStartTarget,Gc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Hn._dragging===this&&this.finishDrag(!0),Ce(this._dragStartTarget,Gc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!T(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Hn._dragging===this&&this.finishDrag();return}if(!(Hn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Hn._dragging=this,this._preventOutline&&zr(this._element),xn(),Nt(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,s=Bc(this._element);this._startPoint=new C(r.clientX,r.clientY),this._startPos=Xe(this._element),this._parentScale=Wa(s);var u=n.type==="mousedown";ge(document,u?"mousemove":"touchmove",this._onMove,this),ge(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,s=new C(r.clientX,r.clientY)._subtract(this._startPoint);!s.x&&!s.y||Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,et(n),this._moved||(this.fire("dragstart"),this._moved=!0,Z(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Z(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),ke(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){se(document.body,"leaflet-dragging"),this._lastTarget&&(se(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ce(document,"mousemove touchmove",this._onMove,this),Ce(document,"mouseup touchend touchcancel",this._onUp,this),Ve(),qt();var r=this._moved&&this._moving;this._moving=!1,Hn._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Yc(n,r,s){var u,d=[1,4,2,8],m,y,P,O,$,ie,fe,ve;for(m=0,ie=n.length;m<ie;m++)n[m]._code=wi(n[m],r);for(P=0;P<4;P++){for(fe=d[P],u=[],m=0,ie=n.length,y=ie-1;m<ie;y=m++)O=n[m],$=n[y],O._code&fe?$._code&fe||(ve=qo($,O,fe,r,s),ve._code=wi(ve,r),u.push(ve)):($._code&fe&&(ve=qo($,O,fe,r,s),ve._code=wi(ve,r),u.push(ve)),u.push(O));n=u}return n}function Kc(n,r){var s,u,d,m,y,P,O,$,ie;if(!n||n.length===0)throw new Error("latlngs not passed");Ht(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var fe=le([0,0]),ve=J(n),ft=ve.getNorthWest().distanceTo(ve.getSouthWest())*ve.getNorthEast().distanceTo(ve.getNorthWest());ft<1700&&(fe=el(n));var Qe=n.length,$t=[];for(s=0;s<Qe;s++){var kt=le(n[s]);$t.push(r.project(le([kt.lat-fe.lat,kt.lng-fe.lng])))}for(P=O=$=0,s=0,u=Qe-1;s<Qe;u=s++)d=$t[s],m=$t[u],y=d.y*m.x-m.y*d.x,O+=(d.x+m.x)*y,$+=(d.y+m.y)*y,P+=y*3;P===0?ie=$t[0]:ie=[O/P,$/P];var Wi=r.unproject(A(ie));return le([Wi.lat+fe.lat,Wi.lng+fe.lng])}function el(n){for(var r=0,s=0,u=0,d=0;d<n.length;d++){var m=le(n[d]);r+=m.lat,s+=m.lng,u++}return le([r/u,s/u])}var Rm={__proto__:null,clipPolygon:Yc,polygonCenter:Kc,centroid:el};function Xc(n,r){if(!r||!n.length)return n.slice();var s=r*r;return n=Bm(n,s),n=Dm(n,s),n}function Qc(n,r,s){return Math.sqrt(Dr(n,r,s,!0))}function Am(n,r,s){return Dr(n,r,s)}function Dm(n,r){var s=n.length,u=typeof Uint8Array<"u"?Uint8Array:Array,d=new u(s);d[0]=d[s-1]=1,tl(n,d,r,0,s-1);var m,y=[];for(m=0;m<s;m++)d[m]&&y.push(n[m]);return y}function tl(n,r,s,u,d){var m=0,y,P,O;for(P=u+1;P<=d-1;P++)O=Dr(n[P],n[u],n[d],!0),O>m&&(y=P,m=O);m>s&&(r[y]=1,tl(n,r,s,u,y),tl(n,r,s,y,d))}function Bm(n,r){for(var s=[n[0]],u=1,d=0,m=n.length;u<m;u++)Zm(n[u],n[d])>r&&(s.push(n[u]),d=u);return d<m-1&&s.push(n[m-1]),s}var qc;function Jc(n,r,s,u,d){var m=u?qc:wi(n,s),y=wi(r,s),P,O,$;for(qc=y;;){if(!(m|y))return[n,r];if(m&y)return!1;P=m||y,O=qo(n,r,P,s,d),$=wi(O,s),P===m?(n=O,m=$):(r=O,y=$)}}function qo(n,r,s,u,d){var m=r.x-n.x,y=r.y-n.y,P=u.min,O=u.max,$,ie;return s&8?($=n.x+m*(O.y-n.y)/y,ie=O.y):s&4?($=n.x+m*(P.y-n.y)/y,ie=P.y):s&2?($=O.x,ie=n.y+y*(O.x-n.x)/m):s&1&&($=P.x,ie=n.y+y*(P.x-n.x)/m),new C($,ie,d)}function wi(n,r){var s=0;return n.x<r.min.x?s|=1:n.x>r.max.x&&(s|=2),n.y<r.min.y?s|=4:n.y>r.max.y&&(s|=8),s}function Zm(n,r){var s=r.x-n.x,u=r.y-n.y;return s*s+u*u}function Dr(n,r,s,u){var d=r.x,m=r.y,y=s.x-d,P=s.y-m,O=y*y+P*P,$;return O>0&&($=((n.x-d)*y+(n.y-m)*P)/O,$>1?(d=s.x,m=s.y):$>0&&(d+=y*$,m+=P*$)),y=n.x-d,P=n.y-m,u?y*y+P*P:new C(d,m)}function Ht(n){return!k(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function ed(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ht(n)}function td(n,r){var s,u,d,m,y,P,O,$;if(!n||n.length===0)throw new Error("latlngs not passed");Ht(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ie=le([0,0]),fe=J(n),ve=fe.getNorthWest().distanceTo(fe.getSouthWest())*fe.getNorthEast().distanceTo(fe.getNorthWest());ve<1700&&(ie=el(n));var ft=n.length,Qe=[];for(s=0;s<ft;s++){var $t=le(n[s]);Qe.push(r.project(le([$t.lat-ie.lat,$t.lng-ie.lng])))}for(s=0,u=0;s<ft-1;s++)u+=Qe[s].distanceTo(Qe[s+1])/2;if(u===0)$=Qe[0];else for(s=0,m=0;s<ft-1;s++)if(y=Qe[s],P=Qe[s+1],d=y.distanceTo(P),m+=d,m>u){O=(m-u)/d,$=[P.x-O*(P.x-y.x),P.y-O*(P.y-y.y)];break}var kt=r.unproject(A($));return le([kt.lat+ie.lat,kt.lng+ie.lng])}var Fm={__proto__:null,simplify:Xc,pointToSegmentDistance:Qc,closestPointOnSegment:Am,clipSegment:Jc,_getEdgeIntersection:qo,_getBitCode:wi,_sqClosestPointOnSegment:Dr,isFlat:Ht,_flat:ed,polylineCenter:td},nl={project:function(n){return new C(n.lng,n.lat)},unproject:function(n){return new te(n.y,n.x)},bounds:new W([-180,-90],[180,90])},il={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,s=this.R,u=n.lat*r,d=this.R_MINOR/s,m=Math.sqrt(1-d*d),y=m*Math.sin(u),P=Math.tan(Math.PI/4-u/2)/Math.pow((1-y)/(1+y),m/2);return u=-s*Math.log(Math.max(P,1e-10)),new C(n.lng*r*s,u)},unproject:function(n){for(var r=180/Math.PI,s=this.R,u=this.R_MINOR/s,d=Math.sqrt(1-u*u),m=Math.exp(-n.y/s),y=Math.PI/2-2*Math.atan(m),P=0,O=.1,$;P<15&&Math.abs(O)>1e-7;P++)$=d*Math.sin(y),$=Math.pow((1-$)/(1+$),d/2),O=Math.PI/2-2*Math.atan(m*$)-y,y+=O;return new te(y*r,n.x*r/s)}},Hm={__proto__:null,LonLat:nl,Mercator:il,SphericalMercator:Bt},$m=a({},me,{code:"EPSG:3395",projection:il,transformation:function(){var n=.5/(Math.PI*il.R);return Ue(n,.5,-n,.5)}()}),nd=a({},me,{code:"EPSG:4326",projection:nl,transformation:Ue(1/180,1,-1/180,.5)}),Um=a({},he,{projection:nl,transformation:Ue(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var s=r.lng-n.lng,u=r.lat-n.lat;return Math.sqrt(s*s+u*u)},infinite:!0});he.Earth=me,he.EPSG3395=$m,he.EPSG3857=vt,he.EPSG900913=Xt,he.EPSG4326=nd,he.Simple=Um;var en=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[f(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[f(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var s=this.getEvents();r.on(s,this),this.once("remove",function(){r.off(s,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});xe.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=f(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=f(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return f(n)in this._layers},eachLayer:function(n,r){for(var s in this._layers)n.call(r,this._layers[s]);return this},_addLayers:function(n){n=n?k(n)?n:[n]:[];for(var r=0,s=n.length;r<s;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[f(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=f(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,s=this._getZoomSpan();for(var u in this._zoomBoundLayers){var d=this._zoomBoundLayers[u].options;n=d.minZoom===void 0?n:Math.min(n,d.minZoom),r=d.maxZoom===void 0?r:Math.max(r,d.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fi=en.extend({initialize:function(n,r){M(this,r),this._layers={};var s,u;if(n)for(s=0,u=n.length;s<u;s++)this.addLayer(n[s])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),s,u;for(s in this._layers)u=this._layers[s],u[n]&&u[n].apply(u,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var s in this._layers)n.call(r,this._layers[s]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return f(n)}}),Vm=function(n,r){return new Fi(n,r)},wn=Fi.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Fi.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Fi.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new pe;for(var r in this._layers){var s=this._layers[r];n.extend(s.getBounds?s.getBounds():s.getLatLng())}return n}}),Wm=function(n,r){return new wn(n,r)},Hi=B.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){M(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var s=this._getIconUrl(n);if(!s){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(s,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(u,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(n,r){var s=this.options,u=s[r+"Size"];typeof u=="number"&&(u=[u,u]);var d=A(u),m=A(r==="shadow"&&s.shadowAnchor||s.iconAnchor||d&&d.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(s.className||""),m&&(n.style.marginLeft=-m.x+"px",n.style.marginTop=-m.y+"px"),d&&(n.style.width=d.x+"px",n.style.height=d.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return oe.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Gm(n){return new Hi(n)}var Br=Hi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Br.imagePath!="string"&&(Br.imagePath=this._detectIconPath()),(this.options.imagePath||Br.imagePath)+Hi.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(s,u,d){var m=u.exec(s);return m&&m[d]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=ye("div","leaflet-default-icon-path",document.body),r=gi(n,"background-image")||gi(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var s=document.querySelector('link[href$="leaflet.css"]');return s?s.href.substring(0,s.href.length-11-1):""}}),id=dn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Hn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Z(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&se(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,s=r._map,u=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,m=Xe(r._icon),y=s.getPixelBounds(),P=s.getPixelOrigin(),O=ae(y.min._subtract(P).add(d),y.max._subtract(P).subtract(d));if(!O.contains(m)){var $=A((Math.max(O.max.x,m.x)-O.max.x)/(y.max.x-O.max.x)-(Math.min(O.min.x,m.x)-O.min.x)/(y.min.x-O.min.x),(Math.max(O.max.y,m.y)-O.max.y)/(y.max.y-O.max.y)-(Math.min(O.min.y,m.y)-O.min.y)/(y.min.y-O.min.y)).multiplyBy(u);s.panBy($,{animate:!1}),this._draggable._newPos._add($),this._draggable._startPos._add($),ke(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=F(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,s=r._shadow,u=Xe(r._icon),d=r._map.layerPointToLatLng(u);s&&ke(s,u),r._latlng=d,n.latlng=d,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Jo=en.extend({options:{icon:new Br,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){M(this,r),this._latlng=le(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=le(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=n.icon.createIcon(this._icon),u=!1;s!==this._icon&&(this._icon&&this._removeIcon(),u=!0,n.title&&(s.title=n.title),s.tagName==="IMG"&&(s.alt=n.alt||"")),Z(s,r),n.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(s,"focus",this._panOnFocus,this);var d=n.icon.createShadow(this._shadow),m=!1;d!==this._shadow&&(this._removeShadow(),m=!0),d&&(Z(d,r),d.alt=""),this._shadow=d,n.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&m&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ce(this._icon,"focus",this._panOnFocus,this),Le(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Le(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&ke(this._icon,n),this._shadow&&ke(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Z(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),id)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new id(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&dt(this._icon,n),this._shadow&&dt(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,s=r.iconSize?A(r.iconSize):A(0,0),u=r.iconAnchor?A(r.iconAnchor):A(0,0);n.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:s.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ym(n,r){return new Jo(n,r)}var $n=en.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return M(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),es=$n.extend({options:{fill:!0,radius:10},initialize:function(n,r){M(this,r),this._latlng=le(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=le(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return $n.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,s=this._clickTolerance(),u=[n+s,r+s];this._pxBounds=new W(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Km(n,r){return new es(n,r)}var rl=es.extend({initialize:function(n,r,s){if(typeof r=="number"&&(r=a({},s,{radius:r})),M(this,r),this._latlng=le(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new pe(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:$n.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,s=this._map,u=s.options.crs;if(u.distance===me.distance){var d=Math.PI/180,m=this._mRadius/me.R/d,y=s.project([r+m,n]),P=s.project([r-m,n]),O=y.add(P).divideBy(2),$=s.unproject(O).lat,ie=Math.acos((Math.cos(m*d)-Math.sin(r*d)*Math.sin($*d))/(Math.cos(r*d)*Math.cos($*d)))/d;(isNaN(ie)||ie===0)&&(ie=m/Math.cos(Math.PI/180*r)),this._point=O.subtract(s.getPixelOrigin()),this._radius=isNaN(ie)?0:O.x-s.project([$,n-ie]).x,this._radiusY=O.y-y.y}else{var fe=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(fe).x}this._updateBounds()}});function Xm(n,r,s){return new rl(n,r,s)}var kn=$n.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){M(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,s=null,u=Dr,d,m,y=0,P=this._parts.length;y<P;y++)for(var O=this._parts[y],$=1,ie=O.length;$<ie;$++){d=O[$-1],m=O[$];var fe=u(n,d,m,!0);fe<r&&(r=fe,s=u(n,d,m))}return s&&(s.distance=Math.sqrt(r)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return td(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=le(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new pe,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Ht(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],s=Ht(n),u=0,d=n.length;u<d;u++)s?(r[u]=le(n[u]),this._bounds.extend(r[u])):r[u]=this._convertLatLngs(n[u]);return r},_project:function(){var n=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new C(n,n);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,s){var u=n[0]instanceof te,d=n.length,m,y;if(u){for(y=[],m=0;m<d;m++)y[m]=this._map.latLngToLayerPoint(n[m]),s.extend(y[m]);r.push(y)}else for(m=0;m<d;m++)this._projectLatlngs(n[m],r,s)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,s,u,d,m,y,P,O;for(s=0,d=0,m=this._rings.length;s<m;s++)for(O=this._rings[s],u=0,y=O.length;u<y-1;u++)P=Jc(O[u],O[u+1],n,u,!0),P&&(r[d]=r[d]||[],r[d].push(P[0]),(P[1]!==O[u+1]||u===y-2)&&(r[d].push(P[1]),d++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,s=0,u=n.length;s<u;s++)n[s]=Xc(n[s],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var s,u,d,m,y,P,O=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(s=0,m=this._parts.length;s<m;s++)for(P=this._parts[s],u=0,y=P.length,d=y-1;u<y;d=u++)if(!(!r&&u===0)&&Qc(n,P[d],P[u])<=O)return!0;return!1}});function Qm(n,r){return new kn(n,r)}kn._flat=ed;var $i=kn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Kc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=kn.prototype._convertLatLngs.call(this,n),s=r.length;return s>=2&&r[0]instanceof te&&r[0].equals(r[s-1])&&r.pop(),r},_setLatLngs:function(n){kn.prototype._setLatLngs.call(this,n),Ht(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ht(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,s=new C(r,r);if(n=new W(n.min.subtract(s),n.max.add(s)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,d=this._rings.length,m;u<d;u++)m=Yc(this._rings[u],n,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,s,u,d,m,y,P,O,$;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(m=0,O=this._parts.length;m<O;m++)for(s=this._parts[m],y=0,$=s.length,P=$-1;y<$;P=y++)u=s[y],d=s[P],u.y>n.y!=d.y>n.y&&n.x<(d.x-u.x)*(n.y-u.y)/(d.y-u.y)+u.x&&(r=!r);return r||kn.prototype._containsPoint.call(this,n,!0)}});function qm(n,r){return new $i(n,r)}var bn=wn.extend({initialize:function(n,r){M(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=k(n)?n:n.features,s,u,d;if(r){for(s=0,u=r.length;s<u;s++)d=r[s],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var m=this.options;if(m.filter&&!m.filter(n))return this;var y=ts(n,m);return y?(y.feature=rs(n),y.defaultOptions=y.options,this.resetStyle(y),m.onEachFeature&&m.onEachFeature(n,y),this.addLayer(y)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=a({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function ts(n,r){var s=n.type==="Feature"?n.geometry:n,u=s?s.coordinates:null,d=[],m=r&&r.pointToLayer,y=r&&r.coordsToLatLng||ol,P,O,$,ie;if(!u&&!s)return null;switch(s.type){case"Point":return P=y(u),rd(m,n,P,r);case"MultiPoint":for($=0,ie=u.length;$<ie;$++)P=y(u[$]),d.push(rd(m,n,P,r));return new wn(d);case"LineString":case"MultiLineString":return O=ns(u,s.type==="LineString"?0:1,y),new kn(O,r);case"Polygon":case"MultiPolygon":return O=ns(u,s.type==="Polygon"?1:2,y),new $i(O,r);case"GeometryCollection":for($=0,ie=s.geometries.length;$<ie;$++){var fe=ts({geometry:s.geometries[$],type:"Feature",properties:n.properties},r);fe&&d.push(fe)}return new wn(d);case"FeatureCollection":for($=0,ie=s.features.length;$<ie;$++){var ve=ts(s.features[$],r);ve&&d.push(ve)}return new wn(d);default:throw new Error("Invalid GeoJSON object.")}}function rd(n,r,s,u){return n?n(r,s):new Jo(s,u&&u.markersInheritOptions&&u)}function ol(n){return new te(n[1],n[0],n[2])}function ns(n,r,s){for(var u=[],d=0,m=n.length,y;d<m;d++)y=r?ns(n[d],r-1,s):(s||ol)(n[d]),u.push(y);return u}function sl(n,r){return n=le(n),n.alt!==void 0?[x(n.lng,r),x(n.lat,r),x(n.alt,r)]:[x(n.lng,r),x(n.lat,r)]}function is(n,r,s,u){for(var d=[],m=0,y=n.length;m<y;m++)d.push(r?is(n[m],Ht(n[m])?0:r-1,s,u):sl(n[m],u));return!r&&s&&d.length>0&&d.push(d[0].slice()),d}function Ui(n,r){return n.feature?a({},n.feature,{geometry:r}):rs(r)}function rs(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var al={toGeoJSON:function(n){return Ui(this,{type:"Point",coordinates:sl(this.getLatLng(),n)})}};Jo.include(al),rl.include(al),es.include(al),kn.include({toGeoJSON:function(n){var r=!Ht(this._latlngs),s=is(this._latlngs,r?1:0,!1,n);return Ui(this,{type:(r?"Multi":"")+"LineString",coordinates:s})}}),$i.include({toGeoJSON:function(n){var r=!Ht(this._latlngs),s=r&&!Ht(this._latlngs[0]),u=is(this._latlngs,s?2:r?1:0,!0,n);return r||(u=[u]),Ui(this,{type:(s?"Multi":"")+"Polygon",coordinates:u})}}),Fi.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(s){r.push(s.toGeoJSON(n).geometry.coordinates)}),Ui(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var s=r==="GeometryCollection",u=[];return this.eachLayer(function(d){if(d.toGeoJSON){var m=d.toGeoJSON(n);if(s)u.push(m.geometry);else{var y=rs(m);y.type==="FeatureCollection"?u.push.apply(u,y.features):u.push(y)}}}),s?Ui(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function od(n,r){return new bn(n,r)}var Jm=od,os=en.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,s){this._url=n,this._bounds=J(r),M(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Z(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Le(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Zn(this._image),this},bringToBack:function(){return this._map&&yn(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=J(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:ye("img");if(Z(r,"leaflet-image-layer"),this._zoomAnimated&&Z(r,"leaflet-zoom-animated"),this.options.className&&Z(r,this.options.className),r.onselectstart=w,r.onmousemove=w,r.onload=c(this.fire,this,"load"),r.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;ze(this._image,s,r)},_reset:function(){var n=this._image,r=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=r.getSize();ke(n,r.min),n.style.width=s.x+"px",n.style.height=s.y+"px"},_updateOpacity:function(){dt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),eg=function(n,r,s){return new os(n,r,s)},sd=os.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:ye("video");if(Z(r,"leaflet-image-layer"),this._zoomAnimated&&Z(r,"leaflet-zoom-animated"),this.options.className&&Z(r,this.options.className),r.onselectstart=w,r.onmousemove=w,r.onloadeddata=c(this.fire,this,"load"),n){for(var s=r.getElementsByTagName("source"),u=[],d=0;d<s.length;d++)u.push(s[d].src);this._url=s.length>0?u:[r.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var y=ye("source");y.src=this._url[m],r.appendChild(y)}}});function tg(n,r,s){return new sd(n,r,s)}var ad=os.extend({_initImage:function(){var n=this._image=this._url;Z(n,"leaflet-image-layer"),this._zoomAnimated&&Z(n,"leaflet-zoom-animated"),this.options.className&&Z(n,this.options.className),n.onselectstart=w,n.onmousemove=w}});function ng(n,r,s){return new ad(n,r,s)}var fn=en.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof te||k(n))?(this._latlng=le(n),M(this,r)):(M(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&dt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&dt(this._container,1),this.bringToFront(),this.options.interactive&&(Z(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(dt(this._container,0),this._removeTimeout=setTimeout(c(Le,void 0,this._container),200)):Le(this._container),this.options.interactive&&(se(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=le(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zn(this._container),this},bringToBack:function(){return this._map&&yn(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof wn){r=null;var s=this._source._layers;for(var u in s)if(s[u]._map){r=s[u];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=A(this.options.offset),s=this._getAnchor();this._zoomAnimated?ke(this._container,n.add(s)):r=r.add(n).add(s);var u=this._containerBottom=-r.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=u+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});xe.include({_initOverlay:function(n,r,s,u){var d=r;return d instanceof n||(d=new n(u).setContent(r)),s&&d.setLatLng(s),d}}),en.include({_initOverlay:function(n,r,s,u){var d=s;return d instanceof n?(M(d,u),d._source=this):(d=r&&!u?r:new n(u,this),d.setContent(s)),d}});var ss=fn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,fn.prototype.openOn.call(this,n)},onAdd:function(n){fn.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $n||this._source.on("preclick",yi))},onRemove:function(n){fn.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $n||this._source.off("preclick",yi))},getEvents:function(){var n=fn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=ye("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=ye("div",n+"-content-wrapper",r);if(this._contentNode=ye("div",n+"-content",s),Rr(r),Xa(this._contentNode),ge(r,"contextmenu",yi),this._tipContainer=ye("div",n+"-tip-container",r),this._tip=ye("div",n+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=ye("a",n+"-close-button",r);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',ge(u,"click",function(d){et(d),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var s=n.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),r.width=s+1+"px",r.whiteSpace="",r.height="";var u=n.offsetHeight,d=this.options.maxHeight,m="leaflet-popup-scrolled";d&&u>d?(r.height=d+"px",Z(n,m)):se(n,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),s=this._getAnchor();ke(this._container,r.add(s))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(gi(this._container,"marginBottom"),10)||0,s=this._container.offsetHeight+r,u=this._containerWidth,d=new C(this._containerLeft,-s-this._containerBottom);d._add(Xe(this._container));var m=n.layerPointToContainerPoint(d),y=A(this.options.autoPanPadding),P=A(this.options.autoPanPaddingTopLeft||y),O=A(this.options.autoPanPaddingBottomRight||y),$=n.getSize(),ie=0,fe=0;m.x+u+O.x>$.x&&(ie=m.x+u-$.x+O.x),m.x-ie-P.x<0&&(ie=m.x-P.x),m.y+s+O.y>$.y&&(fe=m.y+s-$.y+O.y),m.y-fe-P.y<0&&(fe=m.y-P.y),(ie||fe)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ie,fe]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ig=function(n,r){return new ss(n,r)};xe.mergeOptions({closePopupOnClick:!0}),xe.include({openPopup:function(n,r,s){return this._initOverlay(ss,n,r,s).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),en.include({bindPopup:function(n,r){return this._popup=this._initOverlay(ss,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof wn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){xi(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof $n)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var as=fn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){fn.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){fn.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=fn.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ye("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,s,u=this._map,d=this._container,m=u.latLngToContainerPoint(u.getCenter()),y=u.layerPointToContainerPoint(n),P=this.options.direction,O=d.offsetWidth,$=d.offsetHeight,ie=A(this.options.offset),fe=this._getAnchor();P==="top"?(r=O/2,s=$):P==="bottom"?(r=O/2,s=0):P==="center"?(r=O/2,s=$/2):P==="right"?(r=0,s=$/2):P==="left"?(r=O,s=$/2):y.x<m.x?(P="right",r=0,s=$/2):(P="left",r=O+(ie.x+fe.x)*2,s=$/2),n=n.subtract(A(r,s,!0)).add(ie).add(fe),se(d,"leaflet-tooltip-right"),se(d,"leaflet-tooltip-left"),se(d,"leaflet-tooltip-top"),se(d,"leaflet-tooltip-bottom"),Z(d,"leaflet-tooltip-"+P),ke(d,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&dt(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rg=function(n,r){return new as(n,r)};xe.include({openTooltip:function(n,r,s){return this._initOverlay(as,n,r,s).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),en.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(as,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,s.click=this._openTooltip,this._map?this._addFocusListeners():s.add=this._addFocusListeners),this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),this[r](s),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof wn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(ge(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),ge(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,s,u;this._tooltip.options.sticky&&n.originalEvent&&(s=this._map.mouseEventToContainerPoint(n.originalEvent),u=this._map.containerPointToLayerPoint(s),r=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(r)}});var ld=Hi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),s=this.options;if(s.html instanceof Element?(Bn(r),r.appendChild(s.html)):r.innerHTML=s.html!==!1?s.html:"",s.bgPos){var u=A(s.bgPos);r.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function og(n){return new ld(n)}Hi.Default=Br;var Zr=en.extend({options:{tileSize:256,opacity:1,updateWhenIdle:oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){M(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Le(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof C?n:new C(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,s=-n(-1/0,1/0),u=0,d=r.length,m;u<d;u++)m=r[u].style.zIndex,r[u]!==this._container&&m&&(s=n(s,+m));isFinite(s)&&(this.options.zIndex=s+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!oe.ielt9){dt(this._container,this.options.opacity);var n=+new Date,r=!1,s=!1;for(var u in this._tiles){var d=this._tiles[u];if(!(!d.current||!d.loaded)){var m=Math.min(1,(n-d.loaded)/200);dt(d.el,m),m<1?r=!0:(d.active?s=!0:this._onOpaqueTile(d),d.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),r&&(q(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===n?(this._levels[s].el.style.zIndex=r-Math.abs(n-s),this._onUpdateLevel(s)):(Le(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var u=this._levels[n],d=this._map;return u||(u=this._levels[n]={},u.el=ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=r,u.origin=d.project(d.unproject(d.getPixelOrigin()),n).round(),u.zoom=n,this._setZoomTransform(u,d.getCenter(),d.getZoom()),w(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var n,r,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var u=r.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Le(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,s,u){var d=Math.floor(n/2),m=Math.floor(r/2),y=s-1,P=new C(+d,+m);P.z=+y;var O=this._tileCoordsToKey(P),$=this._tiles[O];return $&&$.active?($.retain=!0,!0):($&&$.loaded&&($.retain=!0),y>u?this._retainParent(d,m,y,u):!1)},_retainChildren:function(n,r,s,u){for(var d=2*n;d<2*n+2;d++)for(var m=2*r;m<2*r+2;m++){var y=new C(d,m);y.z=s+1;var P=this._tileCoordsToKey(y),O=this._tiles[P];if(O&&O.active){O.retain=!0;continue}else O&&O.loaded&&(O.retain=!0);s+1<u&&this._retainChildren(d,m,s+1,u)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,s,u){var d=Math.round(r);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var m=this.options.updateWhenZooming&&d!==this._tileZoom;(!u||m)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(n),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var s in this._levels)this._setZoomTransform(this._levels[s],n,r)},_setZoomTransform:function(n,r,s){var u=this._map.getZoomScale(s,n.zoom),d=n.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(r,s)).round();oe.any3d?ze(n.el,d,u):ke(n.el,d)},_resetGrid:function(){var n=this._map,r=n.options.crs,s=this._tileSize=this.getTileSize(),u=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],u).x/s.x),Math.ceil(n.project([0,r.wrapLng[1]],u).x/s.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],u).y/s.x),Math.ceil(n.project([r.wrapLat[1],0],u).y/s.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,s=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),u=r.getZoomScale(s,this._tileZoom),d=r.project(n,this._tileZoom).floor(),m=r.getSize().divideBy(u*2);return new W(d.subtract(m),d.add(m))},_update:function(n){var r=this._map;if(r){var s=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(n),d=this._pxBoundsToTileRange(u),m=d.getCenter(),y=[],P=this.options.keepBuffer,O=new W(d.getBottomLeft().subtract([P,-P]),d.getTopRight().add([P,-P]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $ in this._tiles){var ie=this._tiles[$].coords;(ie.z!==this._tileZoom||!O.contains(new C(ie.x,ie.y)))&&(this._tiles[$].current=!1)}if(Math.abs(s-this._tileZoom)>1){this._setView(n,s);return}for(var fe=d.min.y;fe<=d.max.y;fe++)for(var ve=d.min.x;ve<=d.max.x;ve++){var ft=new C(ve,fe);if(ft.z=this._tileZoom,!!this._isValidTile(ft)){var Qe=this._tiles[this._tileCoordsToKey(ft)];Qe?Qe.current=!0:y.push(ft)}}if(y.sort(function(kt,Wi){return kt.distanceTo(m)-Wi.distanceTo(m)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $t=document.createDocumentFragment();for(ve=0;ve<y.length;ve++)this._addTile(y[ve],$t);this._level.el.appendChild($t)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var s=this._globalTileRange;if(!r.wrapLng&&(n.x<s.min.x||n.x>s.max.x)||!r.wrapLat&&(n.y<s.min.y||n.y>s.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(n);return J(this.options.bounds).overlaps(u)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,s=this.getTileSize(),u=n.scaleBy(s),d=u.add(s),m=r.unproject(u,n.z),y=r.unproject(d,n.z);return[m,y]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),s=new pe(r[0],r[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),s=new C(+r[0],+r[1]);return s.z=+r[2],s},_removeTile:function(n){var r=this._tiles[n];r&&(Le(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Z(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=w,n.onmousemove=w,oe.ielt9&&this.options.opacity<1&&dt(n,this.options.opacity)},_addTile:function(n,r){var s=this._getTilePos(n),u=this._tileCoordsToKey(n),d=this.createTile(this._wrapCoords(n),c(this._tileReady,this,n));this._initTile(d),this.createTile.length<2&&F(c(this._tileReady,this,n,null,d)),ke(d,s),this._tiles[u]={el:d,coords:n,current:!0},r.appendChild(d),this.fire("tileloadstart",{tile:d,coords:n})},_tileReady:function(n,r,s){r&&this.fire("tileerror",{error:r,tile:s,coords:n});var u=this._tileCoordsToKey(n);s=this._tiles[u],s&&(s.loaded=+new Date,this._map._fadeAnimated?(dt(s.el,0),q(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),r||(Z(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),oe.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new C(this._wrapX?S(n.x,this._wrapX):n.x,this._wrapY?S(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new W(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function sg(n){return new Zr(n)}var Vi=Zr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=M(this,r),r.detectRetina&&oe.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var s=document.createElement("img");return ge(s,"load",c(this._tileOnLoad,this,r,s)),ge(s,"error",c(this._tileOnError,this,r,s)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(s.referrerPolicy=this.options.referrerPolicy),s.alt="",s.src=this.getTileUrl(n),s},getTileUrl:function(n){var r={r:oe.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=s),r["-y"]=s}return v(this._url,a(r,this.options))},_tileOnLoad:function(n,r){oe.ielt9?setTimeout(c(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,s){var u=this.options.errorTileUrl;u&&r.getAttribute("src")!==u&&(r.src=u),n(s,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,s=this.options.zoomReverse,u=this.options.zoomOffset;return s&&(n=r-n),n+u},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=w,r.onerror=w,!r.complete)){r.src=H;var s=this._tiles[n].coords;Le(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:s})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",H),Zr.prototype._removeTile.call(this,n)},_tileReady:function(n,r,s){if(!(!this._map||s&&s.getAttribute("src")===H))return Zr.prototype._tileReady.call(this,n,r,s)}});function ud(n,r){return new Vi(n,r)}var cd=Vi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var s=a({},this.defaultWmsParams);for(var u in r)u in this.options||(s[u]=r[u]);r=M(this,r);var d=r.detectRetina&&oe.retina?2:1,m=this.getTileSize();s.width=m.x*d,s.height=m.y*d,this.wmsParams=s},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Vi.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),s=this._crs,u=ae(s.project(r[0]),s.project(r[1])),d=u.min,m=u.max,y=(this._wmsVersion>=1.3&&this._crs===nd?[d.y,d.x,m.y,m.x]:[d.x,d.y,m.x,m.y]).join(","),P=Vi.prototype.getTileUrl.call(this,n);return P+X(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(n,r){return a(this.wmsParams,n),r||this.redraw(),this}});function ag(n,r){return new cd(n,r)}Vi.WMS=cd,ud.wms=ag;var Sn=en.extend({options:{padding:.1},initialize:function(n){M(this,n),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Z(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var s=this._map.getZoomScale(r,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,r),m=u.multiplyBy(-s).add(d).subtract(this._map._getNewPixelOrigin(n,r));oe.any3d?ze(this._container,m,s):ke(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),s=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new W(s,s.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),dd=Sn.extend({options:{tolerance:0},getEvents:function(){var n=Sn.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Sn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");ge(n,"mousemove",this._onMouseMove,this),ge(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ge(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,Le(this._container),Ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sn.prototype._update.call(this);var n=this._bounds,r=this._container,s=n.getSize(),u=oe.retina?2:1;ke(r,n.min),r.width=u*s.x,r.height=u*s.y,r.style.width=s.x+"px",r.style.height=s.y+"px",oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Sn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[f(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,s=r.next,u=r.prev;s?s.prev=u:this._drawLast=u,u?u.next=s:this._drawFirst=s,delete n._order,delete this._layers[f(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),s=[],u,d;for(d=0;d<r.length;d++){if(u=Number(r[d]),isNaN(u))return;s.push(u)}n.options._dashArray=s}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var s=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)n=u.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var s,u,d,m,y=n._parts,P=y.length,O=this._ctx;if(P){for(O.beginPath(),s=0;s<P;s++){for(u=0,d=y[s].length;u<d;u++)m=y[s][u],O[u?"lineTo":"moveTo"](m.x,m.y);r&&O.closePath()}this._fillStroke(O,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,s=this._ctx,u=Math.max(Math.round(n._radius),1),d=(Math.max(Math.round(n._radiusY),1)||u)/u;d!==1&&(s.save(),s.scale(1,d)),s.beginPath(),s.arc(r.x,r.y/d,u,0,Math.PI*2,!1),d!==1&&s.restore(),this._fillStroke(s,n)}},_fillStroke:function(n,r){var s=r.options;s.fill&&(n.globalAlpha=s.fillOpacity,n.fillStyle=s.fillColor||s.color,n.fill(s.fillRule||"evenodd")),s.stroke&&s.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=s.opacity,n.lineWidth=s.weight,n.strokeStyle=s.color,n.lineCap=s.lineCap,n.lineJoin=s.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),s,u,d=this._drawFirst;d;d=d.next)s=d.layer,s.options.interactive&&s._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(s))&&(u=s);this._fireEvent(u?[u]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(se(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var s,u,d=this._drawFirst;d;d=d.next)s=d.layer,s.options.interactive&&s._containsPoint(r)&&(u=s);u!==this._hoveredLayer&&(this._handleMouseOut(n),u&&(Z(this._container,"leaflet-interactive"),this._fireEvent([u],n,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,s){this._map._fireDOMEvent(r,s||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var s=r.next,u=r.prev;if(s)s.prev=u;else return;u?u.next=s:s&&(this._drawFirst=s),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var s=r.next,u=r.prev;if(u)u.next=s;else return;s?s.prev=u:u&&(this._drawLast=u),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function fd(n){return oe.canvas?new dd(n):null}var Fr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),lg={_initContainer:function(){this._container=ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Sn.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=Fr("shape");Z(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=Fr("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[f(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;Le(r),n.removeInteractiveTarget(r),delete this._layers[f(n)]},_updateStyle:function(n){var r=n._stroke,s=n._fill,u=n.options,d=n._container;d.stroked=!!u.stroke,d.filled=!!u.fill,u.stroke?(r||(r=n._stroke=Fr("stroke")),d.appendChild(r),r.weight=u.weight+"px",r.color=u.color,r.opacity=u.opacity,u.dashArray?r.dashStyle=k(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=u.lineCap.replace("butt","flat"),r.joinstyle=u.lineJoin):r&&(d.removeChild(r),n._stroke=null),u.fill?(s||(s=n._fill=Fr("fill")),d.appendChild(s),s.color=u.fillColor||u.color,s.opacity=u.fillOpacity):s&&(d.removeChild(s),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),s=Math.round(n._radius),u=Math.round(n._radiusY||s);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+s+","+u+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){Zn(n._container)},_bringToBack:function(n){yn(n._container)}},ls=oe.vml?Fr:_t,Hr=Sn.extend({_initContainer:function(){this._container=ls("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ls("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Le(this._container),Ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Sn.prototype._update.call(this);var n=this._bounds,r=n.getSize(),s=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,s.setAttribute("width",r.x),s.setAttribute("height",r.y)),ke(s,n.min),s.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=ls("path");n.options.className&&Z(r,n.options.className),n.options.interactive&&Z(r,"leaflet-interactive"),this._updateStyle(n),this._layers[f(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Le(n._path),n.removeInteractiveTarget(n._path),delete this._layers[f(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,s=n.options;r&&(s.stroke?(r.setAttribute("stroke",s.color),r.setAttribute("stroke-opacity",s.opacity),r.setAttribute("stroke-width",s.weight),r.setAttribute("stroke-linecap",s.lineCap),r.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?r.setAttribute("stroke-dasharray",s.dashArray):r.removeAttribute("stroke-dasharray"),s.dashOffset?r.setAttribute("stroke-dashoffset",s.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),s.fill?(r.setAttribute("fill",s.fillColor||s.color),r.setAttribute("fill-opacity",s.fillOpacity),r.setAttribute("fill-rule",s.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,Ye(n._parts,r))},_updateCircle:function(n){var r=n._point,s=Math.max(Math.round(n._radius),1),u=Math.max(Math.round(n._radiusY),1)||s,d="a"+s+","+u+" 0 1,0 ",m=n._empty()?"M0 0":"M"+(r.x-s)+","+r.y+d+s*2+",0 "+d+-s*2+",0 ";this._setPath(n,m)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){Zn(n._path)},_bringToBack:function(n){yn(n._path)}});oe.vml&&Hr.include(lg);function hd(n){return oe.svg||oe.vml?new Hr(n):null}xe.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&fd(n)||hd(n)}});var pd=$i.extend({initialize:function(n,r){$i.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=J(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function ug(n,r){return new pd(n,r)}Hr.create=ls,Hr.pointsToPath=Ye,bn.geometryToLayer=ts,bn.coordsToLatLng=ol,bn.coordsToLatLngs=ns,bn.latLngToCoords=sl,bn.latLngsToCoords=is,bn.getFeature=Ui,bn.asFeature=rs,xe.mergeOptions({boxZoom:!0});var md=dn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Le(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nt(),xn(),this._startPoint=this._map.mouseEventToContainerPoint(n),ge(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=ye("div","leaflet-zoom-box",this._container),Z(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new W(this._point,this._startPoint),s=r.getSize();ke(this._box,r.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(Le(this._box),se(this._container,"leaflet-crosshair")),qt(),Ve(),Ce(document,{contextmenu:xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var r=new pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xe.addInitHook("addHandler","boxZoom",md),xe.mergeOptions({doubleClickZoom:!0});var gd=dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,s=r.getZoom(),u=r.options.zoomDelta,d=n.originalEvent.shiftKey?s-u:s+u;r.options.doubleClickZoom==="center"?r.setZoom(d):r.setZoomAround(n.containerPoint,d)}});xe.addInitHook("addHandler","doubleClickZoom",gd),xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vd=dn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Hn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Z(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){se(this._map._container,"leaflet-grab"),se(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=J(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),s=this._initialWorldOffset,u=this._draggable._newPos.x,d=(u-r+s)%n+r-s,m=(u+r+s)%n-r-s,y=Math.abs(d+s)<Math.abs(m+s)?d:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(n){var r=this._map,s=r.options,u=!s.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),u)r.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,y=s.easeLinearity,P=d.multiplyBy(y/m),O=P.distanceTo([0,0]),$=Math.min(s.inertiaMaxSpeed,O),ie=P.multiplyBy($/O),fe=$/(s.inertiaDeceleration*y),ve=ie.multiplyBy(-fe/2).round();!ve.x&&!ve.y?r.fire("moveend"):(ve=r._limitOffset(ve,r.options.maxBounds),F(function(){r.panBy(ve,{duration:fe,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});xe.addInitHook("addHandler","dragging",vd),xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _d=dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),ge(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,s=n.scrollTop||r.scrollTop,u=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(u,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},s=this.keyCodes,u,d;for(u=0,d=s.left.length;u<d;u++)r[s.left[u]]=[-1*n,0];for(u=0,d=s.right.length;u<d;u++)r[s.right[u]]=[n,0];for(u=0,d=s.down.length;u<d;u++)r[s.down[u]]=[0,n];for(u=0,d=s.up.length;u<d;u++)r[s.up[u]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},s=this.keyCodes,u,d;for(u=0,d=s.zoomIn.length;u<d;u++)r[s.zoomIn[u]]=n;for(u=0,d=s.zoomOut.length;u<d;u++)r[s.zoomOut[u]]=-n},_addHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,s=this._map,u;if(r in this._panKeys){if(!s._panAnim||!s._panAnim._inProgress)if(u=this._panKeys[r],n.shiftKey&&(u=A(u).multiplyBy(3)),s.options.maxBounds&&(u=s._limitOffset(A(u),s.options.maxBounds)),s.options.worldCopyJump){var d=s.wrapLatLng(s.unproject(s.project(s.getCenter()).add(u)));s.panTo(d)}else s.panBy(u)}else if(r in this._zoomKeys)s.setZoom(s.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&s._popup&&s._popup.options.closeOnEscapeKey)s.closePopup();else return;xi(n)}}});xe.addInitHook("addHandler","keyboard",_d),xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yd=dn.extend({addHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=$c(n),s=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var u=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),u),xi(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),s=this._map.options.zoomSnap||0;n._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,m=s?Math.ceil(d/s)*s:d,y=n._limitZoom(r+(this._delta>0?m:-m))-r;this._delta=0,this._startTime=null,y&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+y):n.setZoomAround(this._lastMousePos,r+y))}});xe.addInitHook("addHandler","scrollWheelZoom",yd);var cg=600;xe.mergeOptions({tapHold:oe.touchNative&&oe.safari&&oe.mobile,tapTolerance:15});var xd=dn.extend({addHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new C(r.clientX,r.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ge(document,"touchend",et),ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),cg),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Ce(document,"touchend",et),Ce(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Ce(document,"touchend touchcancel contextmenu",this._cancel,this),Ce(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new C(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var s=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});s._simulated=!0,r.target.dispatchEvent(s)}});xe.addInitHook("addHandler","tapHold",xd),xe.mergeOptions({touchZoom:oe.touch,bounceAtZoomLimits:!0});var wd=dn.extend({addHooks:function(){Z(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){se(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var s=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(s.add(u)._divideBy(2))),this._startDist=s.distanceTo(u),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),et(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,s=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]),d=s.distanceTo(u)/this._startDist;if(this._zoom=r.getScaleZoom(d,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&d<1||this._zoom>r.getMaxZoom()&&d>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var m=s._add(u)._divideBy(2)._subtract(this._centerPoint);if(d===1&&m.x===0&&m.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var y=c(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(y,this,!0),et(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),Ce(document,"touchmove",this._onTouchMove,this),Ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xe.addInitHook("addHandler","touchZoom",wd),xe.BoxZoom=md,xe.DoubleClickZoom=gd,xe.Drag=vd,xe.Keyboard=_d,xe.ScrollWheelZoom=yd,xe.TapHold=xd,xe.TouchZoom=wd,i.Bounds=W,i.Browser=oe,i.CRS=he,i.Canvas=dd,i.Circle=rl,i.CircleMarker=es,i.Class=B,i.Control=Jt,i.DivIcon=ld,i.DivOverlay=fn,i.DomEvent=Lm,i.DomUtil=Pm,i.Draggable=Hn,i.Evented=ee,i.FeatureGroup=wn,i.GeoJSON=bn,i.GridLayer=Zr,i.Handler=dn,i.Icon=Hi,i.ImageOverlay=os,i.LatLng=te,i.LatLngBounds=pe,i.Layer=en,i.LayerGroup=Fi,i.LineUtil=Fm,i.Map=xe,i.Marker=Jo,i.Mixin=zm,i.Path=$n,i.Point=C,i.PolyUtil=Rm,i.Polygon=$i,i.Polyline=kn,i.Popup=ss,i.PosAnimation=Uc,i.Projection=Hm,i.Rectangle=pd,i.Renderer=Sn,i.SVG=Hr,i.SVGOverlay=ad,i.TileLayer=Vi,i.Tooltip=as,i.Transformation=Zt,i.Util=N,i.VideoOverlay=sd,i.bind=c,i.bounds=ae,i.canvas=fd,i.circle=Xm,i.circleMarker=Km,i.control=Ar,i.divIcon=og,i.extend=a,i.featureGroup=Wm,i.geoJSON=od,i.geoJson=Jm,i.gridLayer=sg,i.icon=Gm,i.imageOverlay=eg,i.latLng=le,i.latLngBounds=J,i.layerGroup=Vm,i.map=Tm,i.marker=Ym,i.point=A,i.polygon=qm,i.polyline=Qm,i.popup=ig,i.rectangle=ug,i.setOptions=M,i.stamp=f,i.svg=hd,i.svgOverlay=ng,i.tileLayer=ud,i.tooltip=rg,i.transformation=Ue,i.version=o,i.videoOverlay=tg;var dg=window.L;i.noConflict=function(){return window.L=dg,this},window.L=i})})(Iu,Iu.exports);var Pr=Iu.exports;const zc=Bu(Pr);function Ma(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function ja(e,t){return t==null?function(o,a){const l=b.useRef();return l.current||(l.current=e(o,a)),l}:function(o,a){const l=b.useRef();l.current||(l.current=e(o,a));const c=b.useRef(o),{instance:p}=l.current;return b.useEffect(function(){c.current!==o&&(t(p,o,c.current),c.current=o)},[p,o,a]),l}}function fm(e,t){b.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function hm(e){return function(i){const o=Na(),a=e(Ic(i,o),o);return e0(o.map,i.attribution),dm(a.current,i.eventHandlers),fm(a.current,o),a}}function r0(e,t){const i=b.useRef();b.useEffect(function(){if(t.pathOptions!==i.current){const a=t.pathOptions??{};e.instance.setStyle(a),i.current=a}},[e,t])}function o0(e){return function(i){const o=Na(),a=e(Ic(i,o),o);return dm(a.current,i.eventHandlers),fm(a.current,o),r0(a.current,i),a}}function s0(e){function t(a,l){return Ma(e(a),l)}const i=ja(t),o=i0(i);return cm(o)}function a0(e,t){const i=ja(e,t),o=hm(i);return um(o)}function l0(e,t){const i=ja(e,t),o=o0(i);return um(o)}function u0(e,t){const i=ja(e,t),o=hm(i);return cm(o)}function c0(e,t,i){const{opacity:o,zIndex:a}=t;o!=null&&o!==i.opacity&&e.setOpacity(o),a!=null&&a!==i.zIndex&&e.setZIndex(a)}function pm(){return Na().map}function d0(e){const t=pm();return b.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const f0=s0(function(t){return new Pr.Control.Attribution(t)});function zu(){return zu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},zu.apply(this,arguments)}function h0({bounds:e,boundsOptions:t,center:i,children:o,className:a,id:l,placeholder:c,style:p,whenReady:f,zoom:g,...S},w){const[x]=b.useState({className:a,id:l,style:p}),[E,z]=b.useState(null);b.useImperativeHandle(w,()=>(E==null?void 0:E.map)??null,[E]);const M=b.useCallback(_=>{if(_!==null&&E===null){const v=new Pr.Map(_,S);i!=null&&g!=null?v.setView(i,g):e!=null&&v.fitBounds(e,t),f!=null&&v.whenReady(f),z(n0(v))}},[]);b.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const X=E?mo.createElement(lm,{value:E},o):c??null;return mo.createElement("div",zu({},x,{ref:M}),X)}const p0=b.forwardRef(h0),zl=a0(function({position:t,...i},o){const a=new Pr.Marker(t,i);return Ma(a,sm(o,{overlayContainer:a}))},function(t,i,o){i.position!==o.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),Es=l0(function({positions:t,...i},o){const a=new Pr.Polyline(t,i);return Ma(a,sm(o,{overlayContainer:a}))},function(t,i,o){i.positions!==o.positions&&t.setLatLngs(i.positions)}),m0=u0(function({url:t,...i},o){const a=new Pr.TileLayer(t,Ic(i,o));return Ma(a,o)},function(t,i,o){c0(t,i,o);const{url:a}=i;a!=null&&a!==o.url&&t.setUrl(a)}),g0={},zf=e=>{let t;const i=new Set,o=(S,w)=>{const x=typeof S=="function"?S(t):S;if(!Object.is(x,t)){const E=t;t=w??(typeof x!="object"||x===null)?x:Object.assign({},t,x),i.forEach(z=>z(t,E))}},a=()=>t,f={setState:o,getState:a,getInitialState:()=>g,subscribe:S=>(i.add(S),()=>i.delete(S)),destroy:()=>{(g0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},g=t=e(o,a,f);return f},v0=e=>e?zf(e):zf;var mm={exports:{}},gm={},vm={exports:{}},_m={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kr=b;function _0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var y0=typeof Object.is=="function"?Object.is:_0,x0=kr.useState,w0=kr.useEffect,k0=kr.useLayoutEffect,b0=kr.useDebugValue;function S0(e,t){var i=t(),o=x0({inst:{value:i,getSnapshot:t}}),a=o[0].inst,l=o[1];return k0(function(){a.value=i,a.getSnapshot=t,Rl(a)&&l({inst:a})},[e,i,t]),w0(function(){return Rl(a)&&l({inst:a}),e(function(){Rl(a)&&l({inst:a})})},[e]),b0(i),i}function Rl(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!y0(e,i)}catch{return!0}}function C0(e,t){return t()}var P0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C0:S0;_m.useSyncExternalStore=kr.useSyncExternalStore!==void 0?kr.useSyncExternalStore:P0;vm.exports=_m;var E0=vm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=b,L0=E0;function T0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var N0=typeof Object.is=="function"?Object.is:T0,M0=L0.useSyncExternalStore,j0=Oa.useRef,O0=Oa.useEffect,I0=Oa.useMemo,z0=Oa.useDebugValue;gm.useSyncExternalStoreWithSelector=function(e,t,i,o,a){var l=j0(null);if(l.current===null){var c={hasValue:!1,value:null};l.current=c}else c=l.current;l=I0(function(){function f(E){if(!g){if(g=!0,S=E,E=o(E),a!==void 0&&c.hasValue){var z=c.value;if(a(z,E))return w=z}return w=E}if(z=w,N0(S,E))return z;var M=o(E);return a!==void 0&&a(z,M)?(S=E,z):(S=E,w=M)}var g=!1,S,w,x=i===void 0?null:i;return[function(){return f(t())},x===null?void 0:function(){return f(x())}]},[t,i,o,a]);var p=M0(e,l[0],l[1]);return O0(function(){c.hasValue=!0,c.value=p},[p]),z0(p),p};mm.exports=gm;var R0=mm.exports;const A0=Bu(R0),ym={},{useDebugValue:D0}=mo,{useSyncExternalStoreWithSelector:B0}=A0;let Rf=!1;const Z0=e=>e;function F0(e,t=Z0,i){(ym?"production":void 0)!=="production"&&i&&!Rf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Rf=!0);const o=B0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,i);return D0(o),o}const Af=e=>{(ym?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?v0(e):e,i=(o,a)=>F0(t,o,a);return Object.assign(i,t),i},xm=e=>e?Af(e):Af,wm=e=>{if(typeof globalThis<"u"&&typeof globalThis.atob=="function")return globalThis.atob(e);if(typeof Buffer<"u")return Buffer.from(e,"base64").toString("utf-8");throw new Error("Base64 decoding is not supported in this environment.")},H0=e=>{const t=new Uint8Array(e.length);for(let i=0;i<e.length;i+=1)t[i]=e.charCodeAt(i);return t},$0=e=>{const t=e.replace(/-/g,"+").replace(/_/g,"/"),i=t.length%4===0?"":"=".repeat(4-t.length%4),o=wm(`${t}${i}`);return H0(o)},Df=e=>Math.round(e*1e6)/1e6,Bf=e=>typeof e=="number"&&Number.isFinite(e),Ki=e=>{if(!e||typeof e!="object")return null;const t=Number(e.lat),i=Number(e.lng);return!Bf(t)||!Bf(i)||t<-90||t>90||i<-180||i>180?null:{lat:Df(t),lng:Df(i)}},Oo=4,Yi=1e5,ha="#38bdf8",ho=e=>{if(!e||typeof e!="object")return null;const t=typeof e.version=="number"?e.version:Oo;if(t<3){let l=[],c="direct";if(t===1){c=e.connectVia==="route"?"route":"direct";const p=Ki(e.start),f=Ki(e.end),g=Array.isArray(e.checkpoints)?e.checkpoints.map(Ki).filter(Boolean):[];p&&l.push(p),l.push(...g),f&&l.push(f)}else c=e.connectVia==="route"?"route":"direct",l=Array.isArray(e.checkpoints)?e.checkpoints.map(Ki).filter(Boolean):[];return{version:3,connectVia:c,checkpoints:l,routes:[{name:"Route 1",color:"#38bdf8",indices:l.map((p,f)=>f),isVisible:!0}]}}if(t>Oo)return null;const i=e.connectVia==="route"?"route":"direct",o=Array.isArray(e.checkpoints)?e.checkpoints.map(Ki).filter(Boolean):[],a=Array.isArray(e.routes)?e.routes.map(l=>({name:typeof l.name=="string"?l.name.slice(0,20):"Route",color:typeof l.color=="string"?l.color:ha,indices:Array.isArray(l.indices)?l.indices.filter(c=>typeof c=="number"&&c>=0&&c<o.length):[],isVisible:typeof l.isVisible=="boolean"?l.isVisible:!0})):[];return{version:t,connectVia:i,checkpoints:o,routes:a}},U0=({checkpointMap:e,routes:t,connectVia:i,includeNames:o=!1})=>{const a=new Set;t.forEach(f=>{Array.isArray(f.items)&&f.items.forEach(g=>a.add(g))});const l=[],c={};Array.from(a).forEach(f=>{const g=e[f];g&&g.position&&(c[f]=l.length,l.push(g.position))});const p=t.map(f=>({name:o?f.name:"",color:f.color,isVisible:f.isVisible,indices:(f.items||[]).map(g=>c[g]).filter(g=>typeof g=="number")}));return{version:Oo,connectVia:i,checkpoints:l,routes:p}},V0=e=>{try{const t=$0(e);if(t.length<4)return null;const i=new DataView(t.buffer,t.byteOffset,t.byteLength);let o=0;const a=i.getUint8(o);if(o+=1,a<1||a>Oo)return null;if(a<3){let w="direct";const x=[];if(a===1){const E=i.getUint8(o);o+=1,w=i.getUint8(o)===1?"route":"direct",o+=1;const z=i.getUint16(o,!1);o+=2;const M=()=>{const X=i.getInt32(o,!1)/Yi;o+=4;const _=i.getInt32(o,!1)/Yi;return o+=4,{lat:X,lng:_}};E&1&&x.push(M());for(let X=0;X<z;X+=1)x.push(M());E&2&&x.push(M())}else{w=i.getUint8(o)===1?"route":"direct",o+=1;const E=i.getUint16(o,!1);o+=2;for(let z=0;z<E;z+=1){const M=i.getInt32(o,!1)/Yi;o+=4;const X=i.getInt32(o,!1)/Yi;o+=4,x.push({lat:M,lng:X})}}return{version:3,connectVia:w,checkpoints:x,routes:[{name:"Route 1",color:ha,isVisible:!0,indices:x.map((E,z)=>z)}]}}const l=i.getUint8(o)===1?"route":"direct";o+=1;const c=i.getUint16(o,!1);o+=2;const p=i.getUint8(o);o+=1;const f=[];for(let w=0;w<c;w+=1){const x=i.getInt32(o,!1)/Yi;o+=4;const E=i.getInt32(o,!1)/Yi;o+=4,f.push({lat:x,lng:E})}const g=new TextDecoder,S=[];for(let w=0;w<p;w+=1)if(a===3){const x=i.getUint8(o);o+=1;const E=new Uint8Array(t.buffer,t.byteOffset+o,x),z=g.decode(E);o+=x;const M=i.getUint8(o);o+=1;const X=new Uint8Array(t.buffer,t.byteOffset+o,M),_=g.decode(X);o+=M;const v=i.getUint8(o)===1;o+=1;const k=i.getUint16(o,!1);o+=2;const j=[];for(let H=0;H<k;H+=1)j.push(i.getUint16(o,!1)),o+=2;S.push({name:_,color:z,isVisible:v,indices:j})}else{const x=i.getUint8(o);o+=1;const E=new Uint8Array(t.buffer,t.byteOffset+o,x);let z=g.decode(E);o+=x,z||(z=`Route ${w+1}`);const M=i.getUint16(o,!1);o+=2;const X=[];for(let _=0;_<M;_+=1)X.push(i.getUint16(o,!1)),o+=2;S.push({name:z,color:ha,isVisible:!0,indices:X})}return{version:a,connectVia:l,checkpoints:f,routes:S}}catch(t){return console.error(t),null}},W0=e=>{const t=e.checkpoints,i=e.routes;let o="";return i.map(a=>{const l=a.indices.map(p=>{const f=t[p];if(!f)return null;const g=Rc(f,9);let S=0;if(o){const x=Math.min(o.length,g.length);for(;S<x&&o[S]===g[S];)S+=1}const w=g.slice(S);return o=g,w}).filter(p=>p!==null);if(l.length===0)return null;const c=l.join("_");return a.name?`(${encodeURIComponent(a.name)})${c}`:c}).filter(a=>a&&a.length>0).join(" ")},G0=e=>{if(!/^[a-z0-9_ \(\)\%\-\.\~\!\*\'\(\)]+$/i.test(e))return null;const t=e.split(/\s+/).filter(Boolean);if(t.length===0)return null;const i=[],o=[];let a="";return t.forEach((l,c)=>{let p=`Route ${c+1}`,f=l;const g=l.match(/^\((.*?)\)(.*)/);if(g)try{p=decodeURIComponent(g[1]),f=g[2]}catch{p=g[1]}const S=f.length===0?[""]:f.split("_"),w=[];S.forEach(x=>{let E=x;const M=9-x.length;M>0&&a.length>=M&&(E=a.slice(0,M)+x);const X=Ru(E);X&&(a=E,w.push(i.length),i.push(X))}),w.length>0&&o.push({name:p,color:ha,isVisible:!0,indices:w})}),o.length===0?null:{version:Oo,connectVia:"direct",checkpoints:i,routes:o}},Y0=e=>{const t=ho(e);return t?W0(t):""},K0=e=>{if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const i=V0(t);if(i)return ho(i);const o=G0(t);if(o)return ho(o);try{const a=JSON.parse(wm(t));return ho(a)}catch{return null}},km="0123456789bcdefghjkmnpqrstuvwxyz",po=[16,8,4,2,1],Rc=(e,t=9)=>{if(typeof t!="number"||t<1||t>12)throw new Error("encodeLocationCode precision must be between 1 and 12.");const i=Ki(e);if(!i)return null;let o=-90,a=90,l=-180,c=180,p=!0,f=0,g=0,S="";for(;S.length<t;){if(p){const w=(l+c)/2;i.lng>=w?(g|=po[f],l=w):c=w}else{const w=(o+a)/2;i.lat>=w?(g|=po[f],o=w):a=w}p=!p,f<po.length-1?f+=1:(S+=km[g],f=0,g=0)}return S},Ru=e=>{if(typeof e!="string"||e.length===0)return null;let t=-90,i=90,o=-180,a=180,l=!0;for(let c=0;c<e.length;c+=1){const p=e[c].toLowerCase(),f=km.indexOf(p);if(f===-1)return null;for(let g=0;g<po.length;g+=1){const S=po[g];if(l){const w=(o+a)/2;f&S?o=w:a=w}else{const w=(t+i)/2;f&S?t=w:i=w}l=!l}}return{lat:(t+i)/2,lng:(o+a)/2}},Qr=e=>`${e}-${Math.random().toString(36).slice(2,9)}`,Au="#38bdf8",pr={checkpointMap:{},routes:[{id:"route-1",name:"Route 1",color:Au,items:[],isVisible:!0,nextLabelIndex:1}],activeRouteId:"route-1",selectedId:null,connectVia:"direct",placementMode:null},Zf=e=>e==null?null:typeof e=="string"?{type:e}:typeof e=="object"&&typeof e.type=="string"?e:null,X0=xm((e,t)=>({...pr,addRoute:(i="New Route",o=Au)=>e(a=>{const l={id:Qr("route"),name:i,color:o,items:[],isVisible:!0,nextLabelIndex:1};return{routes:[...a.routes,l],activeRouteId:l.id}}),removeRoute:i=>e(o=>{if(o.routes.length<=1)return o;const a=o.routes.filter(f=>f.id!==i),l=o.activeRouteId===i?a[0].id:o.activeRouteId,c=new Set(a.flatMap(f=>f.items)),p={};return Object.values(o.checkpointMap).forEach(f=>{c.has(f.id)&&(p[f.id]=f)}),{routes:a,activeRouteId:l,checkpointMap:p,selectedId:o.selectedId}}),setActiveRoute:i=>e(o=>({activeRouteId:o.routes.find(a=>a.id===i)?i:o.activeRouteId})),updateRoute:(i,o)=>e(a=>({routes:a.routes.map(l=>l.id===i?{...l,...o}:l)})),setPlacementMode:i=>e(o=>{const a=Zf(i);if(!a)return{placementMode:null};const l=Zf(o.placementMode);return(l==null?void 0:l.type)===a.type&&((l==null?void 0:l.insertIndex)??null)===((a==null?void 0:a.insertIndex)??null)?{placementMode:null}:{placementMode:a}}),toggleConnectMode:()=>e(i=>({connectVia:i.connectVia==="direct"?"route":"direct"})),addCheckpoint:(i,o)=>e(a=>{var x;const l=a.routes.find(E=>E.id===a.activeRouteId);if(!l)return a;const c=typeof l.nextLabelIndex=="number"?l.nextLabelIndex:(((x=l.items)==null?void 0:x.length)??0)+1,p={id:Qr("checkpoint"),position:i,name:`Point ${c}`},f={...a.checkpointMap,[p.id]:p},g=[...l.items];typeof o=="number"&&o>=0&&o<=g.length?g.splice(o,0,p.id):g.push(p.id);const S={...l,items:g,nextLabelIndex:c+1},w=a.routes.map(E=>E.id===a.activeRouteId?S:E);return{checkpointMap:f,routes:w,placementMode:null,selectedId:p.id}}),selectCheckpoint:i=>e({selectedId:i}),updateCheckpoint:(i,o)=>e(a=>({checkpointMap:{...a.checkpointMap,[i]:{...a.checkpointMap[i],position:o}}})),moveCheckpoint:(i,o)=>e(a=>{const l=a.routes.find(f=>f.id===a.activeRouteId);if(!l)return a;const c=l.items.indexOf(i);if(c===-1||typeof o!="number")return a;const p=[...l.items];return o<0||o>=p.length||o===c?a:(p.splice(c,1),p.splice(o,0,i),{routes:a.routes.map(f=>f.id===a.activeRouteId?{...f,items:p}:f)})}),removeCheckpoint:i=>e(o=>{const a=o.routes.find(g=>g.id===o.activeRouteId);if(!a)return o;const l=a.items.includes(i);let c=o.routes;l?c=o.routes.map(g=>g.id===o.activeRouteId?{...g,items:g.items.filter(S=>S!==i)}:g):c=o.routes.map(g=>({...g,items:g.items.filter(S=>S!==i)}));const p=new Set(c.flatMap(g=>g.items)),f={};return Object.values(o.checkpointMap).forEach(g=>{p.has(g.id)&&(f[g.id]=g)}),{routes:c,checkpointMap:f,selectedId:o.selectedId===i?null:o.selectedId,placementMode:null}}),loadRouteSnapshot:i=>e(o=>{const a=ho(i);if(!a)return o;const l={},p=(a.checkpoints||[]).map((g,S)=>{const w=Qr("checkpoint");return l[w]={id:w,position:g,name:`Point ${S+1}`},w}),f=a.routes.map(g=>{const S=g.indices.map(w=>p[w]).filter(Boolean);return{id:Qr("route"),name:g.name,color:g.color,isVisible:g.isVisible,items:S,nextLabelIndex:S.length+1}});if(f.length===0){const g=Qr("route");f.push({id:g,name:"Route 1",color:Au,items:p,isVisible:!0,nextLabelIndex:p.length+1})}return{...pr,connectVia:a.connectVia,checkpointMap:l,routes:f,activeRouteId:f[0].id,selectedId:null,placementMode:null}}),clearAll:()=>e(pr),swapCheckpoints:(i,o)=>e(a=>{const l=a.routes.find(g=>g.id===a.activeRouteId);if(!l)return a;const c=l.items.indexOf(i),p=l.items.indexOf(o);if(c===-1||p===-1)return a;const f=[...l.items];return f[c]=o,f[p]=i,{routes:a.routes.map(g=>g.id===a.activeRouteId?{...g,items:f}:g)}})})),Er=()=>X0(e=>{const t=Array.isArray(e.routes)?e.routes:pr.routes,i=e.checkpointMap||pr.checkpointMap,o=e.activeRouteId||pr.activeRouteId,a=t.find(c=>c.id===o)||t[0],l=a?a.items.map(c=>i[c]).filter(Boolean):[];return{...e,routes:t,checkpointMap:i,activeRouteId:o,checkpoints:l,activeRoute:a}}),Q0=({onDropItem:e})=>{const t=pm();return b.useEffect(()=>{if(!e)return;const i=t.getContainer(),o=c=>{c.preventDefault(),c.dataTransfer.dropEffect="copy"},a=c=>{c.preventDefault(),c.dataTransfer.dropEffect="copy"},l=c=>{c.preventDefault(),c.stopPropagation();const{clientX:p,clientY:f}=c,g=i.getBoundingClientRect(),S=p-g.left,w=f-g.top,x=t.containerPointToLatLng([S,w]),E=c.dataTransfer.getData("application/x-cadet-map-item");E&&e(E,x)};return i.addEventListener("dragenter",o),i.addEventListener("dragover",a),i.addEventListener("drop",l),()=>{i.removeEventListener("dragenter",o),i.removeEventListener("dragover",a),i.removeEventListener("drop",l)}},[t,e]),null},q0=Object.assign({"../../assets/compass.png":Y_,"../../assets/layer.png":K_,"../../assets/menu.png":X_,"../../assets/route.png":Q_,"../../assets/settings.png":q_,"../../assets/zoom.png":J_}),J0=e=>q0[`../../assets/${e}.png`]??null,qr=({iconName:e,label:t,onClick:i,title:o,isActive:a=!1,disabled:l=!1,themeStyles:c})=>{const p=J0(e),f=(c==null?void 0:c.button)??{},g=f.base??"flex h-12 w-12 items-center justify-center rounded-2xl border transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",S=f.active??"border-sky-500 bg-sky-200 text-slate-900 focus-visible:ring-sky-400",w=f.idle??"border-slate-300 bg-slate-100 text-slate-900 hover:border-slate-400 hover:bg-slate-200 focus-visible:ring-slate-500/50",x=l?f.disabled??"opacity-60 pointer-events-none":"",E=(c==null?void 0:c.iconStyle)??null,z=(c==null?void 0:c.iconClass)??"";return h.jsx("button",{type:"button",className:`${g} ${a?S:w} ${x}`,onClick:i,title:o??t,"aria-label":t,disabled:l,children:p?h.jsx("img",{src:p,alt:"",className:`h-5 w-5 object-contain select-none ${z}`,style:E??void 0,"aria-hidden":"true",draggable:"false"}):h.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide",children:t})})},ey=[51.505,10],Al={street:{id:"street",label:"OpenStreetMap Standard",description:"Balanced street map with global coverage sourced from the OpenStreetMap community.",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c"],maxZoom:19,minZoom:3,category:"Streets"},light:{id:"light",label:"Carto Light",description:"Soft grayscale basemap designed for daylight navigation with minimal visual noise.",url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://carto.com/attributions">CARTO</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c","d"],maxZoom:19,minZoom:3,category:"Streets"},dark:{id:"dark",label:"Carto Dark Matter",description:"Night-friendly basemap with high contrast roads and landmarks on a deep navy canvas.",url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://carto.com/attributions">CARTO</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c","d"],maxZoom:19,minZoom:3,category:"Streets"},voyager:{id:"voyager",label:"Carto Voyager",description:"Colorful, detail-rich cartography ideal for orientation and wayfinding at multiple zoom levels.",url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://carto.com/attributions">CARTO</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c","d"],maxZoom:19,minZoom:3,category:"Streets"},hot:{id:"hot",label:"OSM Humanitarian",description:"Humanitarian OpenStreetMap Team basemap with emphasis on populated areas and infrastructure.",url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="https://www.hotosm.org/">Humanitarian OpenStreetMap Team</a>',subdomains:["a","b","c"],maxZoom:19,minZoom:3,category:"Streets"},topo:{id:"topo",label:"OpenTopoMap",description:"Topographic map derived from OSM data with contour lines and terrain shading.",url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors | SRTM | <a href="https://opentopomap.org">OpenTopoMap</a>',subdomains:["a","b","c"],maxZoom:17,minZoom:3,category:"Outdoor"},satellite:{id:"satellite",label:"Esri World Imagery",description:"High-resolution satellite and aerial imagery from Esri and the GIS user community.",url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Imagery &copy; Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",subdomains:[],maxZoom:19,minZoom:3,category:"Imagery"}},ty=["street","light","dark","voyager","hot","topo","satellite"],Ff={light:{container:"pointer-events-auto flex flex-col gap-2 rounded-3xl border border-slate-200 bg-slate-100 p-2 text-slate-900 backdrop-blur-sm",badge:"rounded-full border border-slate-300 bg-slate-100 px-3 py-1 text-[10px] font-semibold text-slate-700",button:{base:"flex h-12 w-12 items-center justify-center rounded-2xl border transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-slate-400/40 focus-visible:ring-offset-slate-100/60",active:"border-sky-500 bg-sky-200 text-slate-900",idle:"border-slate-300 bg-slate-100 text-slate-900 hover:border-slate-400 hover:bg-slate-200",disabled:"opacity-60 pointer-events-none"},panel:"pointer-events-auto w-60 rounded-3xl border border-slate-200 bg-slate-100 p-4 text-slate-900 backdrop-blur-md",panelTitle:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",panelButton:"rounded-xl border border-slate-300 bg-white px-3 py-1.5 text-[12px] font-semibold text-slate-900 transition hover:border-sky-400 hover:bg-sky-100",panelToggle:"rounded-xl border border-slate-300 bg-slate-100 px-3 py-1.5 text-[12px] font-semibold text-slate-900 transition hover:border-sky-400 hover:bg-sky-100",layerScroll:"flex max-h-60 flex-col gap-2 overflow-y-auto pr-1",layerOption:"flex flex-col gap-1 rounded-2xl border border-slate-300 bg-white px-3 py-2 text-left transition hover:border-sky-400 hover:bg-sky-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/40",layerOptionActive:"border-sky-500 bg-sky-100 text-slate-900 shadow-inner shadow-sky-200/60",layerOptionDescription:"text-[11px] text-slate-500 leading-snug",layerOptionCategory:"text-[10px] font-semibold uppercase tracking-wide text-slate-400",iconStyle:null,iconClass:""},dark:{container:"pointer-events-auto flex flex-col gap-2 rounded-3xl border border-slate-700 bg-[#0b1224] p-2 text-slate-100 backdrop-blur-sm",badge:"rounded-full border border-slate-600 bg-[#0f1b38] px-3 py-1 text-[10px] font-semibold text-slate-200",button:{base:"flex h-12 w-12 items-center justify-center rounded-2xl border transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-slate-200/30 focus-visible:ring-offset-[#0b1224]/40",active:"border-sky-400 bg-[#1e335d] text-sky-100",idle:"border-slate-600 bg-[#0d172e] text-slate-100 hover:border-slate-400 hover:bg-[#15213f]",disabled:"opacity-50 pointer-events-none"},panel:"pointer-events-auto w-60 rounded-3xl border border-slate-700 bg-[#080f1e] p-4 text-slate-100 backdrop-blur-md",panelTitle:"text-[11px] font-semibold uppercase tracking-wide text-slate-400",panelButton:"rounded-xl border border-slate-600 bg-[#111b33] px-3 py-1.5 text-[12px] font-semibold text-slate-100 transition hover:border-sky-400 hover:bg-[#1d2b4e]",panelToggle:"rounded-xl border border-slate-500 bg-[#0f1b38] px-3 py-1.5 text-[12px] font-semibold text-slate-100 transition hover:border-sky-400 hover:bg-[#1a2a4d]",layerScroll:"flex max-h-60 flex-col gap-2 overflow-y-auto pr-1",layerOption:"flex flex-col gap-1 rounded-2xl border border-slate-600 bg-[#101d39] px-3 py-2 text-left transition hover:border-sky-400 hover:bg-[#16254a] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-200/30",layerOptionActive:"border-sky-400 bg-[#1e335d] text-sky-100 shadow-inner shadow-sky-900/40",layerOptionDescription:"text-[11px] text-slate-300 leading-snug",layerOptionCategory:"text-[10px] font-semibold uppercase tracking-wide text-slate-400/90",iconStyle:{filter:"invert(0.9)"},iconClass:""}},ny=6,iy=[{id:"getting-started",title:"Getting started",description:"Allow location access, pick an active route, then use placement or grid tools to build precise checkpoint lists.",points:['Use the Route tab to manage multiple routes. Click "Add New Route" to start fresh, rename it, and choose a colour for quick identification.','Tap "Add Checkpoint" inside a route to enter placement mode. Drop the route-coloured puck onto the map or a Grid Tool preview marker to add that position.','Share progress from the Route tools: copy codes for a single route or use "All Routes" to export the full plan.']},{id:"toolbar",title:"Toolbar buttons",description:"Each button in the floating toolbar opens a tool. The Menu button mirrors these shortcuts, so every tool is reachable even when the bar is hidden.",points:["Menu toggles quick actions for Compass, Route, Grid, and Share tools without leaving the map.","Compass opens the heading overlay. Select a target route to get bearings and switch between degrees or mils.","Route opens the checkpoint manager where you can reorder points, adjust colours, and generate share codes."]},{id:"maps",title:"Choosing maps",description:"Different base layers emphasise different features. Pick the layer that best supports the task at hand.",points:["OpenStreetMap Street is the fallback layer and works reliably online or with low mobile reception.","Carto Light or Dark provide high-contrast styling that is easier to read in bright sun or at night.","OpenTopoMap is ideal for land navigation where contours and terrain shading matter.","Esri Satellite is ideal when you need to see real details, but is heavy on mobile data."]}],ry=(e,t,i)=>{const o=e*Math.PI/180,a=2**i,l=Math.floor((t+180)/360*a),c=Math.floor((1-Math.log(Math.tan(o)+1/Math.cos(o))/Math.PI)/2*a),p=a-1;return{x:Math.min(Math.max(l,0),p),y:Math.min(Math.max(c,0),p),z:i}},oy=(e,t,{x:i,y:o,z:a})=>{const l=Array.isArray(t)&&t.length>0?t:[""],c=Math.abs((i+o)%l.length),p=l[c];return e.replace("{s}",p).replace("{x}",i).replace("{y}",o).replace("{z}",a)},Zo=(e,t)=>zc.divIcon({className:"flex items-center justify-center rounded-full text-xs font-semibold text-white shadow-lg shadow-slate-900/50",html:`<div style="background:${e};width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:9999px;">${t}</div>`});Zo("#22c55e","S");Zo("#ef4444","F");Zo("#3b82f6","");const sy=Zo("#d946ef",""),ay=e=>zc.divIcon({className:"user-heading-icon",html:`
      <div style="position:relative;width:44px;height:44px;">
        <div style="position:absolute;inset:0;border-radius:50%;background:rgba(14,165,233,0.12);border:2px solid rgba(56,189,248,0.9);box-shadow:0 0 8px rgba(56,189,248,0.4);"></div>
        <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(${e}deg);transform-origin:center;">
          <div style="width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:18px solid #fbbf24;"></div>
        </div>
      </div>
    `,iconSize:[44,44],iconAnchor:[22,22]}),ly=()=>{const{placementMode:e,addCheckpoint:t,setPlacementMode:i}=Er();return d0({click:o=>{if(!e)return;const a=typeof e=="string"?{type:e}:e;if(!(a!=null&&a.type))return;const{latlng:l}=o;if(a.type==="checkpoint"){const c=typeof a.insertIndex=="number"?a.insertIndex:void 0;t({lat:l.lat,lng:l.lng},c)}i(null)}}),null},uy=({userLocation:e,userHeading:t,targets:i=[],onEnableLocation:o,locationEnabled:a,hasLocationFix:l,isRequestingLocation:c,locationRequestToken:p=0,baseLayer:f="street",onBaseLayerChange:g,onToggleMenu:S,onOpenCompass:w,onOpenRoute:x,toolbarTheme:E="light",onToolbarThemeToggle:z,isMenuOpen:M=!1,isSettingsOpen:X=!1,onToggleSettings:_,previewLocation:v,onDropItem:k,hideToolbar:j=!1})=>{const{checkpoints:H,checkpointMap:Y,routes:V,activeRouteId:R,connectVia:I,selectedId:D,selectCheckpoint:F,updateCheckpoint:q,setPlacementMode:N,toggleConnectMode:B,loadRouteSnapshot:Q,placementMode:K,addCheckpoint:ee}=Er(),C=b.useRef(null),U=b.useRef(!1),A=b.useRef(0),[W,ae]=b.useState(null),[pe,J]=b.useState(!1),[te,le]=b.useState(!1),[he,me]=b.useState("settings"),[Dt,Bt]=b.useState(0),[Zt,Ue]=b.useState(null),[vt,Xt]=b.useState(""),[_t,Ye]=b.useState(null),[ue,Ee]=b.useState(!1),[Ke,yt]=b.useState(""),[Ae,Qt]=b.useState("checkpoint"),[zn,xt]=b.useState(null),lt=b.useRef(null),Lt=b.useRef(0),un=b.useRef(null),Rn=b.useRef(null),ut=b.useRef(null),ne=b.useRef(null),de=b.useRef(null),Se=Al[f]??Al.street,ce=Ff[E]??Ff.light,ct=E==="dark"?"map-theme-dark":"map-theme-light",_n=e?[e.lat,e.lng]:ey,Ia=e?"user-centered":"default-centered",Be=b.useCallback(()=>{C.current&&C.current.invalidateSize({animate:!1})},[]),za=b.useMemo(()=>ty.map(T=>Al[T]).filter(Boolean),[]),Ra=b.useMemo(()=>({top:"calc(env(safe-area-inset-top, 0px) + 1rem)",right:"calc(env(safe-area-inset-right, 0px) + 1rem)"}),[]),[ci,Fo]=b.useState("all"),di=b.useMemo(()=>ci==="all"?V:V.filter(T=>T.id===ci),[V,ci]),wt=b.useMemo(()=>U0({checkpointMap:Y,routes:di,connectVia:I,includeNames:ue}),[Y,di,I,ue]),fi=b.useMemo(()=>wt?Y0(wt):"",[wt]),Ho=b.useMemo(()=>{if(!wt)return null;const T=[];wt.checkpoints.length>0&&T.push(`${wt.checkpoints.length} checkpoint${wt.checkpoints.length===1?"":"s"}`),wt.routes&&wt.routes.length>0&&T.push(`${wt.routes.length} route${wt.routes.length===1?"":"s"}`);const Z=T.length?`Includes ${T.join(", ")}. `:"";return ue?`${Z}Compact text format (connection mode & colors excluded).`:`${Z}Compact text format (names, connection mode & colors excluded).`},[wt,ue]),Ai=!!fi,$o=b.useMemo(()=>di.map(T=>{const Z=T.items.map((se,Fe)=>{const Tt=Y[se];return Tt?{key:`${T.id}-${Tt.id}`,label:Tt.name||`Point ${Fe+1}`,code:Rc(Tt.position),position:Tt.position}:null}).filter(Boolean);return Z.length===0?null:{route:T.name,color:T.color,codes:Z}}).filter(Boolean),[di,Y]),Lr=b.useCallback(T=>T==="success"?"text-emerald-500":T==="error"?"text-rose-500":T==="warning"?"text-amber-500":"text-slate-500",[]),An=b.useCallback((T,Z,se=2500)=>{ut.current&&typeof window<"u"&&(window.clearTimeout(ut.current),ut.current=null),Ue(Z?{tone:T,message:Z}:null),Z&&se!==null&&typeof window<"u"&&(ut.current=window.setTimeout(()=>{Ue(null),ut.current=null},se))},[Ue,ut]),Di=b.useCallback((T,Z,se=4e3)=>{ne.current&&typeof window<"u"&&(window.clearTimeout(ne.current),ne.current=null),Ye(Z?{tone:T,message:Z}:null),Z&&se!==null&&typeof window<"u"&&(ne.current=window.setTimeout(()=>{Ye(null),xt(null),ne.current=null},se))},[Ye,ne]),Aa=b.useCallback(async()=>{var T;if(!Ai){An("warning","Define a route to generate a share code.",3200);return}try{let Z=!1;if(typeof navigator<"u"&&((T=navigator.clipboard)!=null&&T.writeText))await navigator.clipboard.writeText(fi),Z=!0;else if(typeof document<"u"&&Rn.current){const se=Rn.current;se.focus(),se.select(),typeof se.setSelectionRange=="function"&&se.setSelectionRange(0,fi.length),Z=!!(typeof document.execCommand=="function"&&document.execCommand("copy"))}if(!Z)throw new Error("Copy not supported");An("success","Share code copied to clipboard.",2500)}catch(Z){An("error",Z!=null&&Z.message&&Z.message!=="Copy not supported"?Z.message:"Copy failed. Try selecting and copying the code manually.",4e3)}},[Ai,fi,An]),Tr=b.useCallback(()=>{const T=vt.trim();if(!T){Di("warning","Paste a share code to import.",3500);return}const Z=K0(T);if(!Z){Di("error","That share code could not be read. Check the full code and try again.",4e3);return}Q(Z),Xt(""),Di("success","Route imported. Close this panel to review it on the map.",4e3)},[Q,vt,Di]),Da=b.useCallback(T=>{ne.current&&typeof window<"u"&&(window.clearTimeout(ne.current),ne.current=null),Xt(T.target.value),Ye(null)},[Ye,Xt,ne]),Ft=b.useCallback(T=>{(T.ctrlKey||T.metaKey)&&T.key==="Enter"&&(T.preventDefault(),Tr())},[Tr]);b.useEffect(()=>{he!=="share"&&(Ue(null),Ye(null),ut.current&&typeof window<"u"&&(window.clearTimeout(ut.current),ut.current=null),ne.current&&typeof window<"u"&&(window.clearTimeout(ne.current),ne.current=null))},[he]);const oe=b.useMemo(()=>E==="light"?"border border-slate-300 bg-white text-slate-900 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-400":"border border-slate-700 bg-slate-950 text-slate-100 focus:border-sky-400 focus:outline-none focus:ring-1 focus:ring-sky-500",[E]),Bi=b.useMemo(()=>{if(!K)return null;const T=typeof K=="string"?{type:K}:K;return T!=null&&T.type?T.type==="start"?"Start point":T.type==="end"?"End point":T.type==="checkpoint"?typeof T.insertIndex=="number"?`Checkpoint (position ${T.insertIndex+1})`:"Checkpoint":null:null},[K]),Nr=b.useMemo(()=>Bi?[{key:"placement",text:`Currently placing: ${Bi}`,tone:"emerald"}]:[],[Bi]),Ze=b.useCallback((T,Z="info",se=4e3)=>{lt.current&&typeof window<"u"&&(window.clearTimeout(lt.current),lt.current=null),ae(T?{message:T,tone:Z}:null),T&&se!==null&&typeof window<"u"&&(lt.current=window.setTimeout(()=>{ae(null),lt.current=null},se))},[]);b.useEffect(()=>{zc.Icon.Default.mergeOptions({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},[]),b.useEffect(()=>{Ze(null),J(!1),Lt.current=0,Bt(T=>T+1)},[f,Ze]),b.useEffect(()=>{M&&me("settings")},[M,me]),b.useEffect(()=>{if(!te||typeof window>"u")return;const T=()=>{window.requestAnimationFrame(Be)};return window.requestAnimationFrame(Be),window.addEventListener("resize",T,{passive:!0}),window.addEventListener("orientationchange",T,{passive:!0}),()=>{window.removeEventListener("resize",T),window.removeEventListener("orientationchange",T)}},[te,Be]),b.useEffect(()=>{var se;if(!te||typeof ResizeObserver>"u")return;const T=(se=C.current)==null?void 0:se.getContainer();if(!T)return;const Z=new ResizeObserver(()=>{typeof window<"u"?window.requestAnimationFrame(Be):Be()});return Z.observe(T),()=>Z.disconnect()},[te,Be]),b.useEffect(()=>{te&&Be()},[te,Be,E,X,M,f]),b.useEffect(()=>{!C.current||!e||U.current||(C.current.setView([e.lat,e.lng],16),U.current=!0)},[e]),b.useEffect(()=>{un.current=e},[e]),b.useEffect(()=>{if(!C.current)return;U.current=!1,Be();const T=un.current;T&&(C.current.flyTo([T.lat,T.lng],Math.max(C.current.getZoom(),16),{animate:!1}),U.current=!0)},[f,Be]),b.useEffect(()=>{C.current&&(p===void 0||p===A.current||(A.current=p,U.current=!1,e&&(C.current.flyTo([e.lat,e.lng],Math.max(C.current.getZoom(),16),{animate:!0}),U.current=!0)))},[p,e]);const Uo=b.useMemo(()=>ay(t??0),[t]),Zi=b.useCallback(()=>{if(!C.current)return;const T=un.current??e;if(!T)return;const Z=C.current;Be();const se=Math.max(Z.getZoom(),16);Z.flyTo([T.lat,T.lng],se,{animate:!0}),U.current=!0},[Be,e]);b.useEffect(()=>()=>{C.current&&(C.current.getContainer().classList.remove("mapview-attribution-offset"),C.current=null)},[]),b.useEffect(()=>()=>{lt.current&&typeof window<"u"&&window.clearTimeout(lt.current),ut.current&&typeof window<"u"&&window.clearTimeout(ut.current),ne.current&&typeof window<"u"&&window.clearTimeout(ne.current),de.current&&typeof window<"u"&&window.clearTimeout(de.current)},[]);const Mr=b.useCallback(()=>typeof o=="function"?o():!1,[o]),Dn=b.useCallback(()=>{typeof S=="function"&&S()},[S]),Vo=b.useCallback(()=>{typeof w=="function"&&w()},[w]),Ba=b.useCallback(()=>{typeof x=="function"&&x()},[x]),Za=b.useCallback(T=>{T!==f&&typeof g=="function"&&g(T)},[f,g]),hi=b.useCallback((T,Z,se=3500)=>{de.current&&typeof window<"u"&&(window.clearTimeout(de.current),de.current=null),xt(Z?{tone:T,message:Z}:null),Z&&se!==null&&typeof window<"u"&&(de.current=window.setTimeout(()=>{xt(null),de.current=null},se))},[xt,de]),Fa=b.useCallback(async()=>{if(!te||!C.current){Ze("Map not ready yet.","warning");return}if(f!=="satellite"){Ze("Switch to satellite view to cache imagery.","warning");return}if(typeof window>"u"||!("caches"in window)){Ze("Tile caching not supported in this browser.","error");return}const T=C.current,Z=Math.round(T.getZoom()),se=2**Z,Fe=[];if(e&&Fe.push(e),H.forEach(ze=>{ze!=null&&ze.position&&Fe.push(ze.position)}),Fe.length===0){Ze("Add a checkpoint or enable location before caching.","warning");return}const dt=40075016686e-3/se,Or=new Set;if(Fe.forEach(ze=>{const ke=ry(ze.lat,ze.lng,Z),Xe=ze.lat*Math.PI/180,Nt=Math.cos(Xe)||1e-4,qt=dt*Nt,_i=dt,Mt=Math.max(1,Math.ceil(2e3/qt)),xn=Math.max(1,Math.ceil(2e3/_i));for(let Ve=-Mt;Ve<=Mt;Ve+=1)for(let Fn=-xn;Fn<=xn;Fn+=1){const Ir=Math.min(Math.max(ke.x+Ve,0),se-1),zr=Math.min(Math.max(ke.y+Fn,0),se-1);Or.add(`${Ir}:${zr}:${Z}`)}}),Or.size===0){Ze("No tiles identified for caching.","warning");return}const vi=Array.from(Or).map(ze=>{const[ke,Xe,Nt]=ze.split(":").map(qt=>Number(qt));return{x:ke,y:Xe,z:Nt}});try{J(!0),Ze("Caching satellite tiles nearby","info",null);const ze=await caches.open("cadet-map-tile-cache");let ke=0;const Xe=[],Nt=[...vi],qt=Math.min(ny,Nt.length),_i=async()=>{for(;Nt.length>0;){const Mt=Nt.shift();if(!Mt)continue;const xn=oy(Se.url,Se.subdomains,Mt);try{const Ve=await fetch(xn,{mode:"cors"});if(!Ve.ok&&Ve.type!=="opaque")throw new Error(`HTTP ${Ve.status}`);await ze.put(xn,Ve.clone()),ke+=1}catch(Ve){Xe.push((Ve==null?void 0:Ve.message)??"Unknown error")}await new Promise(Ve=>{if(typeof window>"u"){Ve();return}window.requestAnimationFrame(Ve)})}};if(await Promise.all(Array.from({length:qt},_i)),Xe.length===vi.length)Ze("Unable to cache tiles. Please try again later.","error");else{const Mt=Xe.length?` (skipped ${Xe.length} tile${Xe.length===1?"":"s"})`:"";Ze(`Cached ${ke} satellite tile${ke===1?"":"s"}${Mt}.`,Xe.length?"warning":"success")}}catch(ze){Ze(ze.message??"Tile caching failed.","error")}finally{J(!1)}},[f,H,te,Ze,Se.subdomains,Se.url,e]),Wo=b.useCallback(()=>{typeof _=="function"&&_(),me("settings")},[_]),Ha=b.useCallback(()=>{me("help"),!X&&typeof _=="function"&&_()},[X,_]),pi=b.useCallback(()=>{!X&&typeof _=="function"&&_(),me("share")},[X,_]),$a=b.useCallback(()=>{typeof z=="function"&&z()},[z]),Go=b.useCallback(()=>{if(e){Zi(),X&&typeof _=="function"&&_(),me("settings");return}Mr()?Ze("Requesting location fix","info",2500):Ze("Enable location permissions to center the map.","warning")},[Mr,Zi,X,_,Ze,e]),Yo=f!=="satellite"||pe,Ua=pe?"Caching":f!=="satellite"?"Satellite required":"Cache tiles",Va=b.useMemo(()=>({loading:()=>{Lt.current=0},load:()=>{Be()},tileerror:()=>{Lt.current+=1,Lt.current>=3&&(Lt.current=0,Ze("Tile issues detected. Reverting to standard map.","warning",3e3),f!=="street"&&typeof g=="function"?g("street"):Bt(T=>T+1))}}),[f,g,Be,Bt,Ze]),jr=b.useCallback(T=>{const Z=T.target.value.replace(/\s+/g,"").toLowerCase();yt(Z),xt(null),de.current&&typeof window<"u"&&(window.clearTimeout(de.current),de.current=null)},[]),mi=b.useCallback(T=>{Qt(T.target.value)},[]),Ko=b.useCallback(()=>{const T=Ke.trim().toLowerCase();if(!T){hi("warning","Enter a callout code to place it.");return}if(T.length<4||T.length>12){hi("error","Callouts should be between 4 and 12 characters.");return}const Z=Ru(T);if(!Z){hi("error","That code could not be decoded. Double-check the letters.");return}ee(Z),hi("success","Checkpoint added from callout.",3e3),yt("")},[ee,Ru,Ke,hi]),Xo=b.useMemo(()=>`${ce.panelToggle} ${he==="settings"?"ring-1 ring-sky-400 text-sky-500 border-sky-400":"opacity-80 hover:opacity-100"}`,[he,ce.panelToggle]),gi=b.useMemo(()=>`${ce.panelToggle} ${he==="share"?"ring-1 ring-sky-400 text-sky-500 border-sky-400":"opacity-80 hover:opacity-100"}`,[he,ce.panelToggle]),ye=b.useMemo(()=>`${ce.panelToggle} ${he==="help"?"ring-1 ring-sky-400 text-sky-500 border-sky-400":"opacity-80 hover:opacity-100"}`,[he,ce.panelToggle]),Le=b.useMemo(()=>{const T={};return V.filter(Z=>Z.isVisible).forEach(Z=>{var se;(se=Z.items)==null||se.forEach(Fe=>{(!T[Fe]||Z.id===R)&&(T[Fe]={checkpoint:Y[Fe],color:Z.color,routeId:Z.id})})}),Object.values(T).filter(Z=>Z.checkpoint)},[V,Y,R]),Bn=b.useRef(new Map),Zn=b.useCallback(T=>(Bn.current.has(T)||Bn.current.set(T,Zo(T,"")),Bn.current.get(T)),[]),yn=b.useMemo(()=>V.filter(T=>T.isVisible).map(T=>{const Z=(T.items||[]).map(se=>{var Fe;return(Fe=Y[se])==null?void 0:Fe.position}).filter(Boolean).map(se=>[se.lat,se.lng]);return{id:T.id,color:T.color,positions:Z}}),[V,Y]);return h.jsxs("div",{className:"relative h-full w-full flex-1",children:[h.jsxs(p0,{center:_n,zoom:13,className:`h-full w-full ${ct}`,preferCanvas:!0,ref:C,attributionControl:!1,whenCreated:T=>{T.getContainer().classList.add("mapview-attribution-offset")},children:[h.jsx(Q0,{onDropItem:k}),h.jsx(f0,{position:"bottomleft",prefix:!1}),h.jsx(m0,{url:Se.url,attribution:Se.attribution,subdomains:Se.subdomains,minZoom:Se.minZoom,maxZoom:Se.maxZoom,eventHandlers:Va},`${Se.id}-${Dt}`),h.jsx(ly,{}),e&&h.jsx(zl,{position:[e.lat,e.lng],icon:Uo,interactive:!1}),Le.map(({checkpoint:T,color:Z})=>h.jsx(zl,{position:[T.position.lat,T.position.lng],icon:Zn(Z),draggable:!0,eventHandlers:{click:()=>F(T.id),dragend:se=>{const{lat:Fe,lng:Tt}=se.target.getLatLng();q(T.id,{lat:Fe,lng:Tt})}}},T.id)),(v==null?void 0:v.position)&&h.jsxs(h.Fragment,{children:[h.jsx(zl,{position:[v.position.lat,v.position.lng],icon:sy,opacity:.8}),v.source&&h.jsx(Es,{positions:[[v.source.lat,v.source.lng],[v.position.lat,v.position.lng]],pathOptions:{color:"#d946ef",weight:3,dashArray:"5 5",opacity:.6}})]}),I==="direct"&&yn.map(T=>T.positions.length>=2&&h.jsx(Es,{positions:T.positions,pathOptions:{color:T.color,weight:4,opacity:.7}},`direct-${T.id}`)),I==="route"&&yn.map(T=>T.positions.length>=2&&h.jsx(Es,{positions:T.positions,pathOptions:{color:T.color,weight:4,dashArray:"10 6",opacity:.8}},`route-${T.id}`)),e&&i.filter(T=>T.position).map(T=>h.jsx(Es,{positions:[[e.lat,e.lng],[T.position.lat,T.position.lng]],pathOptions:{color:"#818cf8",weight:2,dashArray:"4 6",opacity:.4}},`user-target-${T.id}`))]},Ia),W&&h.jsx("div",{className:`pointer-events-none absolute left-1/2 top-4 z-[1000] -translate-x-1/2 rounded-full border px-4 py-1.5 text-[11px] font-semibold tracking-wide ${W.tone==="success"?"border-emerald-300 bg-emerald-200 text-emerald-900":W.tone==="warning"?"border-amber-300 bg-amber-200 text-amber-900":W.tone==="error"?"border-rose-300 bg-rose-200 text-rose-900":"border-sky-300 bg-sky-200 text-slate-900"}`,children:W.message}),h.jsxs("div",{className:`pointer-events-none absolute z-[990] flex flex-col items-end gap-3 transition-opacity duration-300 ${j?"opacity-0":"opacity-100"}`,style:Ra,children:[h.jsxs("div",{className:ce.container,children:[h.jsx(qr,{iconName:"menu",label:"Menu",onClick:Dn,title:"Toggle navigation menu",isActive:M,themeStyles:ce}),h.jsx(qr,{iconName:"compass",label:"Compass",onClick:Vo,title:"Open compass overlay",themeStyles:ce}),h.jsx(qr,{iconName:"route",label:"Route",onClick:Ba,title:"Open route tools",themeStyles:ce}),h.jsx(qr,{iconName:"settings",label:"Settings",onClick:Wo,title:"Open settings",isActive:X,themeStyles:ce})]}),(c||a&&!l)&&h.jsx("div",{className:`pointer-events-none ${ce.badge}`,children:c?"Getting location":"GPS active, awaiting fix"})]}),h.jsx("div",{className:"pointer-events-none absolute z-[990] flex flex-col items-start gap-3",style:{bottom:"calc(env(safe-area-inset-bottom, 0px) + 1rem)",left:"calc(env(safe-area-inset-left, 0px) + 1rem)"},children:h.jsx("div",{className:"pointer-events-auto",children:h.jsx(qr,{iconName:"zoom",label:"Zoom",onClick:Go,title:"Zoom to location",isActive:!1,themeStyles:ce})})}),X&&h.jsxs("div",{className:"pointer-events-auto fixed inset-0 z-[1180] flex items-center justify-center p-4",children:[h.jsx("button",{type:"button",className:"absolute inset-0 rounded-none border-0 bg-slate-950 backdrop-blur-sm",style:{backgroundColor:"rgba(2, 6, 23, 0.45)"},"aria-label":"Close settings",onClick:()=>{typeof _=="function"&&_(),me("settings")}}),h.jsxs("div",{className:`${ce.panel} w-full max-w-md max-h-[80vh] overflow-hidden shadow-2xl shadow-slate-950/50`,role:"dialog","aria-modal":"true","aria-label":he==="help"?"Map help":he==="share"?"Share current route":"Map settings",children:[h.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[h.jsx("span",{className:ce.panelTitle,children:he==="help"?"Help":he==="share"?"Share route":"Settings"}),h.jsx("button",{type:"button",className:ce.panelButton,onClick:()=>{typeof _=="function"&&_(),me("settings")},children:"Close"})]}),h.jsxs("div",{className:"mb-3 flex items-center gap-2 text-[11px]",children:[h.jsx("button",{type:"button",className:Xo,onClick:()=>me("settings"),"aria-pressed":he==="settings",children:"Settings"}),h.jsx("button",{type:"button",className:gi,onClick:pi,"aria-pressed":he==="share",children:"Share"}),h.jsx("button",{type:"button",className:ye,onClick:Ha,"aria-pressed":he==="help",children:"Help"})]}),h.jsx("div",{className:"flex h-full max-h-[65vh] flex-col gap-3 overflow-y-auto pr-1 text-[12px]",children:he==="help"?h.jsx("div",{className:"flex flex-col gap-2",children:iy.map(T=>h.jsxs("section",{className:`${ce.layerOption} cursor-default`,"aria-labelledby":`${T.id}-title`,children:[h.jsx("h3",{id:`${T.id}-title`,className:"text-[12px] font-semibold leading-tight",children:T.title}),h.jsx("p",{className:ce.layerOptionDescription,children:T.description}),h.jsx("ul",{className:"ml-3 list-disc space-y-1 text-[11px] leading-snug",children:T.points.map((Z,se)=>h.jsx("li",{children:Z},se))})]},T.id))}):he==="share"?h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("section",{className:`${ce.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Share code"}),h.jsx("p",{className:ce.layerOptionDescription,children:"Copy and send this code to share the current route."})]}),h.jsx("button",{type:"button",className:`${ce.panelButton} ${Ai?"":"pointer-events-none opacity-50"}`,onClick:Aa,disabled:!Ai,children:"Copy code"})]}),V.length>1&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-[11px] font-semibold opacity-70",children:"Scope:"}),h.jsxs("select",{value:ci,onChange:T=>Fo(T.target.value),className:`${oe} flex-1 rounded-lg px-2 py-1 text-[11px]`,children:[h.jsx("option",{value:"all",children:"All Routes"}),V.map(T=>h.jsx("option",{value:T.id,children:T.name},T.id))]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",id:"share-include-names",checked:ue,onChange:T=>Ee(T.target.checked),className:"h-3.5 w-3.5 rounded border-slate-300 text-sky-500 focus:ring-sky-500"}),h.jsx("label",{htmlFor:"share-include-names",className:"text-[11px] font-medium opacity-80",children:"Include route names"})]}),h.jsx("p",{className:ce.layerOptionDescription,children:Ho??"Add at least one waypoint to generate a share code."}),h.jsx("textarea",{ref:Rn,className:`${oe} min-h-[90px] w-full rounded-xl px-3 py-2 text-[11px] leading-snug`,value:fi,readOnly:!0,spellCheck:!1,"aria-label":"Current route share code",onFocus:T=>T.target.select()}),Zt&&h.jsx("span",{role:"status","aria-live":"polite",className:`text-[11px] font-semibold ${Lr(Zt.tone)}`,children:Zt.message})]}),h.jsxs("section",{className:`${ce.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Import route"}),h.jsx("p",{className:ce.layerOptionDescription,children:"Paste a code received from another teammate to replace your current route."})]}),h.jsx("textarea",{className:`${oe} min-h-[110px] w-full rounded-xl px-3 py-2 text-[11px] leading-snug`,value:vt,onChange:Da,onKeyDown:Ft,placeholder:"Paste a share code here",spellCheck:!1,"aria-label":"Paste a share code to import"}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("button",{type:"button",className:`${ce.panelButton} ${vt.trim()?"":"pointer-events-none opacity-50"}`,onClick:Tr,disabled:!vt.trim(),children:"Load route"}),_t?h.jsx("span",{role:"status","aria-live":"polite",className:`text-[11px] font-semibold ${Lr(_t.tone)}`,children:_t.message}):h.jsx("span",{className:"text-[10px] opacity-60",children:"Press Ctrl/ + Enter to load"})]})]}),h.jsxs("section",{className:`${ce.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Plot callout"}),h.jsx("p",{className:ce.layerOptionDescription,children:"Drop a shared geohash onto the map as a start, checkpoint, or finish marker."})]}),h.jsx("input",{type:"text",className:`${oe} w-full rounded-xl px-3 py-2 text-[11px] uppercase tracking-wide`,value:Ke,onChange:jr,placeholder:"e.g. u4pruydqq",spellCheck:!1,"aria-label":"Enter a location callout code"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{htmlFor:"callout-target",className:"text-[11px] font-semibold opacity-70",children:"Place as"}),h.jsx("select",{id:"callout-target",className:`${oe} w-full rounded-xl px-3 py-2 text-[11px]`,value:Ae,onChange:mi,disabled:!0,children:h.jsx("option",{value:"checkpoint",children:"Checkpoint"})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("button",{type:"button",className:`${ce.panelButton} ${Ke.trim()?"":"pointer-events-none opacity-50"}`,onClick:Ko,disabled:!Ke.trim(),children:"Place callout"}),zn&&h.jsx("span",{role:"status","aria-live":"polite",className:`text-[11px] font-semibold ${Lr(zn.tone)}`,children:zn.message})]})]}),$o.length>0&&h.jsxs("section",{className:`${ce.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Location codes"}),h.jsx("p",{className:ce.layerOptionDescription,children:"Geohash references 5m accuracy for quick callouts."})]}),h.jsx("div",{className:"flex flex-col gap-3",children:$o.map(T=>h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("div",{className:"border-b border-slate-700/50 pb-1",children:h.jsx("span",{className:"text-[11px] font-semibold text-slate-300",children:T.route})}),h.jsx("ul",{className:"flex flex-col gap-1 text-[11px] font-mono",children:T.codes.map(Z=>h.jsxs("li",{className:"flex items-center justify-between gap-3 pl-1",children:[h.jsx("span",{className:"font-semibold uppercase tracking-wide text-[10px] opacity-70",children:Z.label}),h.jsx("span",{children:Z.code})]},Z.key))})]},T.route))})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center justify-between gap-3",children:[h.jsx("span",{className:"font-medium",children:"Toolbar theme"}),h.jsx("button",{type:"button",className:ce.panelToggle,onClick:$a,children:E==="light"?"Light":"Night"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Map layers"}),h.jsx("p",{className:"text-[11px] opacity-70",children:"Choose the basemap that suits your mission."}),h.jsx("div",{className:`${ce.layerScroll} mt-2`,children:za.map(T=>{const Z=T.id===f;return h.jsxs("button",{type:"button",className:`${ce.layerOption} ${Z?ce.layerOptionActive:""}`,onClick:()=>Za(T.id),children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:T.label}),T.category&&h.jsx("p",{className:ce.layerOptionCategory,children:T.category})]}),Z&&h.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide text-sky-500",children:"Current"})]}),h.jsx("p",{className:ce.layerOptionDescription,children:T.description})]},T.id)})})]}),h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Cache imagery"}),h.jsx("p",{className:"text-[11px] opacity-70",children:"Download tiles within 2km"})]}),h.jsx("button",{type:"button",className:`${ce.panelButton} ${Yo?"opacity-60 pointer-events-none":""}`,onClick:Fa,disabled:Yo,children:Ua})]}),h.jsxs("section",{className:`${ce.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Share this route"}),h.jsx("p",{className:ce.layerOptionDescription,children:"switch to the share view to copy or import a route."})]}),h.jsx("button",{type:"button",className:ce.panelButton,onClick:pi,children:"Open"})]}),h.jsx("p",{className:ce.layerOptionDescription,children:Ho??"Add at least one waypoint to enable route sharing."})]}),h.jsx("button",{type:"button",className:ce.panelButton,onClick:Go,children:"Center map on my location"})]})})]})]}),Nr.length>0&&h.jsx("div",{className:"pointer-events-none absolute bottom-4 left-1/2 flex w-[min(90vw,18rem)] -translate-x-1/2 flex-col gap-2",children:Nr.map(T=>{const Z=T.tone==="emerald"?"border-emerald-500 text-emerald-100":"border-sky-500 text-sky-200";return h.jsx("div",{className:`rounded-lg border bg-slate-950 p-3 text-center text-sm font-semibold shadow-lg shadow-slate-950 ${Z}`,children:T.text},T.key)})})]})},Ei=e=>e*Math.PI/180,cy=e=>e*180/Math.PI,bm=(e,t)=>{if(!e||!t)return null;const i=Ei(e.lat),o=Ei(t.lat),a=Ei(t.lng-e.lng),l=Math.sin(a)*Math.cos(o),c=Math.cos(i)*Math.sin(o)-Math.sin(i)*Math.cos(o)*Math.cos(a),p=Math.atan2(l,c);return(cy(p)+360)%360},Sm=(e,t)=>{if(!e||!t)return null;const i=6371e3,o=Ei(e.lat),a=Ei(t.lat),l=Ei(t.lat-e.lat),c=Ei(t.lng-e.lng),p=Math.sin(l/2)*Math.sin(l/2)+Math.cos(o)*Math.cos(a)*Math.sin(c/2)*Math.sin(c/2),f=2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p));return i*f},Cm=(e,t)=>e==null||t==null?null:(t-e+360)%360,dy=e=>{const[t,i]=b.useState(null),[o,a]=b.useState(null),[l,c]=b.useState(null),[p,f]=b.useState(!1),[g,S]=b.useState(!0),[w,x]=b.useState(!1),[E,z]=b.useState(!1),[M,X]=b.useState(!1),_=b.useRef(null),v=b.useRef(null),k=b.useRef(typeof navigator<"u"&&"geolocation"in navigator);b.useEffect(()=>{if(!(typeof window>"u")){if(typeof DeviceOrientationEvent>"u"){S(!1),c(I=>I??"Compass not supported on this device");return}typeof DeviceOrientationEvent.requestPermission=="function"&&f(!0)}},[]);const j=b.useCallback(I=>{if(typeof I.alpha=="number"){const D=I.webkitCompassHeading??360-I.alpha;i((D+360)%360)}},[]),H=b.useCallback(()=>{if(!k.current)return c("Geolocation not supported"),!1;_.current!==null&&(navigator.geolocation.clearWatch(_.current),_.current=null);const I=F=>{const{latitude:q,longitude:N}=F.coords;a({lat:q,lng:N}),x(!0),z(!0),X(!1),c(null)},D=F=>{var q;(F==null?void 0:F.code)===1?(c("Location permission denied"),x(!1)):(F==null?void 0:F.code)===2?c("Location unavailable"):(F==null?void 0:F.code)===3?c("Location request timed out"):c((F==null?void 0:F.message)??"Unable to access location"),z(!1),x(!1),X(!1),_.current!==null&&((q=navigator.geolocation)!=null&&q.clearWatch)&&(navigator.geolocation.clearWatch(_.current),_.current=null)};try{return X(!0),navigator.geolocation.getCurrentPosition(I,D,{enableHighAccuracy:!0,maximumAge:0,timeout:15e3}),_.current=navigator.geolocation.watchPosition(I,D,{enableHighAccuracy:!0,maximumAge:0,timeout:15e3}),!0}catch(F){return c(F.message??"Unable to access location"),X(!1),x(!1),!1}},[]),Y=b.useCallback(async()=>{if(typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"?(window.removeEventListener("deviceorientation",j),window.addEventListener("deviceorientation",j),v.current="deviceorientation",H(),f(!1)):c("Compass permission denied")}catch(I){c(I.message??"Compass permission error")}},[j,H]);b.useEffect(()=>{if(!k.current)return()=>{};if(typeof window>"u"||!window.isSecureContext)return()=>{};let I=!1;return(async()=>{var F;if((F=navigator.permissions)!=null&&F.query)try{const q=await navigator.permissions.query({name:"geolocation"});if(I)return;q.state==="granted"?H():q.state==="denied"&&c(N=>N??"Location permission denied"),q.onchange=()=>{I||(q.state==="granted"?H():q.state==="denied"&&(c("Location permission denied"),x(!1),z(!1)))}}catch(q){c(N=>N??q.message??"Geolocation unavailable")}})(),()=>{var F;_.current!==null&&((F=navigator.geolocation)!=null&&F.clearWatch)&&navigator.geolocation.clearWatch(_.current),_.current=null,I=!0}},[H]),b.useEffect(()=>{if(typeof window>"u")return()=>{};if(!g)return()=>{};if(typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function")return()=>{window.removeEventListener("deviceorientation",j)};const I="ondeviceorientationabsolute"in window?"deviceorientationabsolute":"deviceorientation";return window.addEventListener(I,j),v.current=I,()=>{v.current&&window.removeEventListener(v.current,j)}},[j,g]);const V=bm(o,e),R=Sm(o,e);return{heading:t,bearing:V,distance:R,geolocation:o,error:l,needsPermission:p,isSupported:g,locationEnabled:w,hasLocationFix:E,isRequestingLocation:M,requestPermission:Y,startGeolocation:H}},Hf=e=>e==null?"N/A":e<1e3?`${e.toFixed(0)} m`:`${(e/1e3).toFixed(2)} km`,fy=3200/Math.PI,hy=({heading:e,bearing:t,distance:i,error:o,enableCompass:a,onEnableLocation:l,needsPermission:c,isSupported:p,locationEnabled:f,hasLocationFix:g,isRequestingLocation:S,targets:w=[],selectedTarget:x=null,onSelectTarget:E,bearingUnit:z="degrees",onToggleBearingUnit:M,routes:X=[],activeRouteId:_=null,onSelectRoute:v=null})=>{const k=b.useMemo(()=>Cm(e,t),[e,t]),j=()=>{typeof l=="function"&&l()},H=()=>{typeof a=="function"&&a()},Y=g?"Location Active":S?"Locating":f?"Retry Location":"Enable Location",V=S||g,R=typeof M!="function",I=!p&&!c,D=typeof E=="function",F=J=>{if(!J)return null;const{lat:te,lng:le}=J;return typeof te!="number"||typeof le!="number"?null:`${te.toFixed(4)}, ${le.toFixed(4)}`},q=J=>{D&&E(J)},N=x?"Other checkpoints":"Select a checkpoint",B=F(x==null?void 0:x.position),Q=J=>{if(J==null)return null;const te=(J%360+360)%360;return z==="mils"?(te*Math.PI/180*fy+6400)%6400:te},K=J=>{if(J==null)return"N/A";const te=Q(J);return te==null?"N/A":z==="mils"?`${te.toFixed(1)} mil`:`${te.toFixed(0)}`},ee=()=>{R||M()},C=t!=null&&e!=null,U=C?k??0:null,A=e!=null?(360-e)%360:null,W=c||!p,ae=W?"border border-rose-500 text-rose-200":"border border-slate-800 text-slate-100",pe=W?"border-rose-500 bg-slate-800":"border-sky-500 bg-slate-950";return h.jsxs("div",{className:`flex flex-col items-center gap-4 rounded-2xl bg-slate-900 p-5 text-center shadow-lg shadow-slate-950 ${ae}`,children:[X&&X.length>1&&v&&h.jsxs("div",{className:"w-full max-w-xs",children:[h.jsx("label",{className:"mb-1 block text-left text-xs font-medium text-slate-400",children:"Target Route"}),h.jsx("select",{value:_,onChange:J=>v(J.target.value),className:"w-full rounded-lg border border-slate-700 bg-slate-800 px-3 py-2 text-sm text-slate-200 focus:border-sky-500 focus:outline-none",children:X.map(J=>h.jsx("option",{value:J.id,children:J.name},J.id))})]}),h.jsxs("div",{className:"flex w-full flex-wrap items-center justify-center gap-2",children:[h.jsx("h2",{className:"text-base font-semibold text-sky-200",children:"Compass"}),h.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[h.jsx("button",{type:"button",className:"rounded-full border border-emerald-500 px-3 py-1 text-[11px] font-semibold text-emerald-200 hover:bg-emerald-700 hover:text-emerald-100 disabled:cursor-not-allowed disabled:opacity-60",onClick:j,disabled:V,children:Y}),h.jsx("button",{type:"button",className:"rounded-full border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-700 hover:text-sky-100 disabled:cursor-not-allowed disabled:opacity-60",onClick:H,disabled:I,children:"Enable Compass"}),h.jsx("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-[11px] font-semibold text-slate-200 hover:border-sky-500 hover:text-sky-200 disabled:cursor-not-allowed disabled:opacity-60",onClick:ee,disabled:R,children:z==="degrees"?"Show mils":"Show degrees"})]})]}),h.jsxs("div",{className:`relative flex h-44 w-44 items-center justify-center rounded-full shadow-inner shadow-slate-950/40 ${pe}`,children:[h.jsx("div",{className:"absolute inset-3 rounded-full border border-slate-800","aria-hidden":"true"}),h.jsx("div",{className:"absolute inset-0","aria-hidden":"true",children:h.jsx("div",{className:"absolute left-1/2 top-0 h-1/2 w-[3px] -translate-x-1/2 rounded-full bg-slate-200 opacity-40"})}),A!=null&&h.jsxs("div",{className:"absolute inset-0",style:{transform:`rotate(${A}deg)`},"aria-hidden":"true",children:[[0,30,60,90,120,150,180,210,240,270,300,330].map(J=>{const te=J%90===0;return h.jsx("div",{className:"absolute inset-0",style:{transform:`rotate(${J}deg)`},children:h.jsx("div",{className:`absolute left-1/2 top-3 -translate-x-1/2 rounded-full bg-slate-600 ${te?"h-3 w-[2px]":"h-1.5 w-[1px]"}`})},J)}),h.jsx("span",{className:"absolute left-1/2 top-2 -translate-x-1/2 rounded-full border border-slate-600 bg-slate-950 px-2 py-[2px] text-[10px] font-semibold uppercase tracking-[0.25em] text-sky-200 shadow-sm shadow-slate-950/40",children:"N"})]}),C&&U!=null&&h.jsx("div",{className:"absolute inset-0",style:{transform:`rotate(${U}deg)`},"aria-hidden":"true",children:h.jsx("div",{className:"absolute left-1/2 top-1 flex h-10 w-10 -translate-x-1/2 items-start justify-center drop-shadow-[0_0_8px_rgba(249,115,22,0.6)]",children:h.jsxs("svg",{viewBox:"0 0 24 24",className:"h-8 w-8 text-orange-500",children:[h.jsx("path",{d:"M12 2L15 10H9L12 2Z",fill:"currentColor",stroke:"#c2410c",strokeWidth:"1.5",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 22L9 14H15L12 22Z",fill:"currentColor",opacity:"0.5"})]})})}),W&&h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center rounded-full bg-slate-950 text-center",style:{backgroundColor:"rgba(2, 6, 23, 0.85)"},children:[h.jsx("p",{className:"text-lg font-bold uppercase tracking-wide text-rose-200",children:"Compass not enabled"}),c&&h.jsx("p",{className:"mt-1 text-xs text-rose-200/80",children:"Tap Enable Compass to allow motion access."}),!c&&!p&&h.jsx("p",{className:"mt-1 text-xs text-rose-200/80",children:"This device does not expose compass sensors."})]}),h.jsx("span",{className:"absolute bottom-4 text-xs text-slate-300",children:e!=null?K(e):""})]}),h.jsxs("div",{className:"space-y-1 text-xs text-slate-300",children:[h.jsxs("p",{children:["Target bearing: ",K(t)]}),h.jsxs("p",{children:["Distance: ",Hf(i)]}),(S||f&&!g)&&h.jsx("p",{className:"text-[11px] text-slate-400",children:"Awaiting GPS fix keep the device in the open."}),c&&p&&h.jsx("p",{className:"text-[11px] text-slate-400",children:"Tap Enable Compass to grant motion and orientation access."}),!p&&h.jsx("p",{className:"text-amber-400",children:"Compass not supported on this device."}),o&&h.jsxs("p",{className:"text-rose-400",children:["Error: ",o]})]}),h.jsxs("div",{className:"w-full rounded-xl border border-slate-800 bg-slate-950 p-3 text-left",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Active checkpoint"}),x?h.jsxs("div",{className:"mt-2",children:[h.jsx("p",{className:"text-sm font-semibold text-slate-100",children:x.label}),B&&h.jsx("p",{className:"text-[11px] text-slate-400",children:B})]}):h.jsx("p",{className:"mt-2 text-[11px] text-slate-400",children:w.length>0?"Pick a checkpoint below to set the compass target.":"Add checkpoints from the Route tools to set the compass target."})]}),w.length>0&&h.jsxs("div",{className:"w-full rounded-xl border border-slate-800 bg-slate-950 p-3 text-left",children:[h.jsx("p",{className:"mb-2 text-xs font-semibold uppercase tracking-wide text-sky-300",children:N}),h.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:w.map(J=>h.jsxs("div",{role:D?"button":void 0,tabIndex:D?0:void 0,className:`flex items-center justify-between gap-3 rounded-md border px-3 py-2 text-xs text-slate-200 transition ${D?"cursor-pointer border-slate-700 bg-slate-900 hover:border-sky-500 hover:bg-sky-900 focus:outline-none focus:ring-2 focus:ring-sky-500/60":"border-slate-800 bg-slate-900"}`,onClick:D?()=>q(J.id):void 0,onKeyDown:D?te=>{(te.key==="Enter"||te.key===" ")&&(te.preventDefault(),q(J.id))}:void 0,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full border border-slate-700 bg-slate-950",children:h.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 text-sky-300",style:{transform:`rotate(${J.relativeBearing??0}deg)`,transformOrigin:"50% 50%"},children:h.jsx("path",{d:"M12 3l4.5 9H13l3 9-4-7-4 7 3-9H7.5z",fill:"currentColor"})})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-100",children:J.label}),h.jsx("p",{className:"text-[11px] text-slate-400",children:J.bearing!=null?K(J.bearing):""})]})]}),h.jsx("span",{className:"text-[11px] text-slate-400",children:Hf(J.distance)})]},J.id))})]})]})},$f="rounded border border-slate-700 px-2 py-1 text-[11px] font-medium text-slate-200 transition hover:border-sky-500 hover:bg-slate-800",Uf="border-sky-500 bg-sky-900 text-sky-100",py=({route:e,isActive:t,onActivate:i,checkpointMap:o,onUpdateRoute:a,onRemoveRoute:l,canRemove:c,selectedId:p,onSelectCheckpoint:f,onMoveCheckpoint:g,onRemoveCheckpoint:S,onAddCheckpoint:w,placementMode:x,onSetPlacementMode:E})=>{const[z,M]=b.useState(!1),X=b.useMemo(()=>e.items.map((R,I)=>{const D=o[R];return D?{type:"checkpoint",id:D.id,label:D.name||`Point ${I+1}`,position:D.position,index:I,callout:Rc(D.position)}:null}).filter(Boolean),[e.items,o]),_=R=>I=>{I.dataTransfer.setData("application/x-cadet-map-checkpoint-id",R.id),I.dataTransfer.effectAllowed="move";const D=I.target.closest("li");D&&I.dataTransfer.setDragImage(D,10,10)},v=R=>{R.preventDefault(),R.dataTransfer.dropEffect="move"},k=R=>{R.preventDefault(),R.dataTransfer.dropEffect="move"},j=R=>I=>{I.preventDefault();const D=I.dataTransfer.getData("application/x-cadet-map-checkpoint-id");!D||D===R.id||g(D,R.index)},H=(x==null?void 0:x.type)??null,Y=typeof(x==null?void 0:x.insertIndex)=="number"?x.insertIndex:null,V=R=>{R.index,R.index,X.length-1;const I=t&&H==="checkpoint"&&Y===R.index,D=t&&H==="checkpoint"&&Y===R.index+1;return h.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[h.jsx("button",{type:"button",className:`${$f} ${I?Uf:""}`,onClick:F=>{F.stopPropagation(),E({type:"checkpoint",insertIndex:R.index})},children:"Insert Before"}),h.jsx("button",{type:"button",className:`${$f} ${D?Uf:""}`,onClick:F=>{F.stopPropagation(),E({type:"checkpoint",insertIndex:R.index+1})},children:"Insert After"}),h.jsx("button",{type:"button",className:"rounded border border-rose-500 px-2 py-1 text-[11px] font-medium text-rose-300 transition hover:bg-rose-900 hover:text-rose-100",onClick:F=>{F.stopPropagation(),S(R.id)},children:"Remove"})]})};return h.jsxs("div",{className:`border-b border-slate-700/50 ${t?"bg-slate-800/30":""}`,children:[h.jsxs("div",{className:"flex cursor-pointer items-center gap-3 p-4 hover:bg-slate-800/50",onClick:i,children:[h.jsx("div",{className:`transition-transform duration-200 ${t?"rotate-90":""}`,children:h.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),h.jsx("input",{type:"color",value:e.color,onClick:R=>R.stopPropagation(),onChange:R=>a(e.id,{color:R.target.value}),className:"h-5 w-5 cursor-pointer rounded border-0 bg-transparent p-0",title:"Route color"}),h.jsx("div",{className:"flex-1",children:h.jsx("input",{type:"text",value:e.name,onClick:R=>R.stopPropagation(),onChange:R=>a(e.id,{name:R.target.value}),className:"w-full bg-transparent text-sm font-medium text-slate-200 placeholder-slate-500 focus:outline-none",placeholder:"Route Name"})}),c&&h.jsx("button",{onClick:R=>{R.stopPropagation(),l(e.id)},className:"rounded p-1 text-slate-400 hover:bg-red-500/10 hover:text-red-400",title:"Delete route",children:h.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),t&&h.jsxs("div",{className:"px-4 pb-4",children:[h.jsxs("ul",{className:"space-y-2 text-sm text-slate-200",children:[X.length===0&&h.jsx("li",{className:"text-xs text-slate-500",children:"No markers yet. Add one below."}),X.map(R=>h.jsxs("li",{onDragEnter:v,onDragOver:k,onDrop:j(R),className:`flex items-start gap-2 rounded-md border px-3 py-2 transition ${p===R.id?"border-sky-500 bg-sky-900 text-sky-100":"cursor-pointer border-slate-800 hover:border-slate-600 hover:bg-slate-800"}`,onClick:()=>f(R.id),children:[h.jsx("div",{draggable:"true",onDragStart:_(R),className:"drag-handle mt-1 flex h-8 w-8 shrink-0 cursor-grab items-center justify-center rounded border border-slate-700 bg-slate-800 text-slate-400 touch-none hover:bg-slate-700 hover:text-slate-200 active:cursor-grabbing",onClick:I=>I.stopPropagation(),children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:h.jsx("path",{fillRule:"evenodd",d:"M10 3a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM10 8.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM11.5 15.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z",clipRule:"evenodd"})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-semibold",children:R.label}),h.jsxs("div",{className:"text-xs text-slate-400",children:[R.position.lat.toFixed(4),", ",R.position.lng.toFixed(4)]}),R.callout&&h.jsxs("div",{className:"text-[11px] font-mono uppercase text-amber-300",children:["Callout: ",R.callout]}),V(R)]})]},R.id))]}),h.jsx("button",{onClick:w,style:H==="checkpoint"&&!Y?{borderColor:e.color,color:e.color,backgroundColor:`${e.color}20`}:{},className:`mt-3 w-full rounded border border-dashed border-slate-600 py-2 text-xs font-medium text-slate-400 transition hover:bg-slate-800 ${H==="checkpoint"&&!Y?"":"hover:border-sky-500 hover:text-sky-400"}`,children:"+ Add Checkpoint"})]})]})},my=({onEnterPlacingMode:e})=>{const{checkpointMap:t,routes:i,activeRouteId:o,setActiveRoute:a,addRoute:l,removeRoute:c,updateRoute:p,selectedId:f,selectCheckpoint:g,connectVia:S,toggleConnectMode:w,clearAll:x,setPlacementMode:E,moveCheckpoint:z,removeCheckpoint:M,placementMode:X}=Er(),[_,v]=b.useState(o),k=j=>{_===j?v(null):(v(j),a(j))};return h.jsxs("div",{className:"flex h-full flex-col bg-slate-900/95 backdrop-blur-md",children:[h.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.map(j=>h.jsx(py,{route:j,isActive:j.id===_,onActivate:()=>k(j.id),checkpointMap:t,onUpdateRoute:p,onRemoveRoute:c,canRemove:i.length>1,selectedId:f,onSelectCheckpoint:g,onMoveCheckpoint:z,onRemoveCheckpoint:M,onAddCheckpoint:()=>{a(j.id),E({type:"checkpoint"}),e&&e()},placementMode:X,onSetPlacementMode:E},j.id)),h.jsx("div",{className:"p-4",children:h.jsxs("button",{onClick:()=>l(),className:"flex w-full items-center justify-center gap-2 rounded-lg border border-slate-600 bg-slate-800 py-2 text-sm text-slate-200 hover:border-sky-500 hover:bg-slate-700",children:[h.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Route"]})})]}),h.jsxs("div",{className:"border-t border-slate-700/50 p-4",children:[h.jsx("div",{className:"flex gap-2",children:h.jsx("button",{onClick:w,className:`flex-1 rounded border border-slate-600 py-2 text-xs font-medium transition ${S==="route"?"border-sky-500 bg-sky-900/20 text-sky-400":"text-slate-400 hover:border-sky-500 hover:bg-slate-800 hover:text-sky-400"}`,children:S==="route"?"Routing: Road":"Routing: Direct"})}),h.jsx("button",{onClick:x,className:"mt-2 w-full rounded border border-red-900/30 py-2 text-xs font-medium text-red-400 transition hover:bg-red-900/20 hover:text-red-300",children:"Clear All"})]})]})},Vf=e=>e===4?4:3,Wf={origin:null,originReference:null,precision:3},gy=xm(e=>({...Wf,setPrecision:t=>e(i=>{const o=Vf(t);return{precision:o,originReference:i.originReference?{...i.originReference,precision:o}:null}}),setOrigin:t=>e({origin:t}),setOriginReference:t=>e(i=>({originReference:t?{...t,precision:Vf(t.precision??i.precision)}:null})),resetGrid:()=>e(Wf)})),vy=()=>gy(e=>({origin:e.origin,originReference:e.originReference,precision:e.precision,setOrigin:e.setOrigin,setOriginReference:e.setOriginReference,setPrecision:e.setPrecision,resetGrid:e.resetGrid})),Io=6371e3,Hs=e=>e*Math.PI/180,Gf=e=>e*180/Math.PI,_y=e=>(e+540)%360-180,Ac=e=>{if(e===3||e===4)return e;throw new Error("Unsupported grid precision. Use 3 or 4 figure references.")},Dc=e=>Ac(e)===3?100:10,Ls=(e,t)=>{if(e==null)return null;const i=String(e).trim();if(!i)return null;if(!/^\d+$/.test(i))throw new Error("Grid references must contain digits only.");if(i.length!==t)throw new Error(`Expected ${t} digits for this precision setting.`);return parseInt(i,10)},yy=({lat:e,lng:t},i,o)=>{const a=Hs(e),l=e+o/Io*(180/Math.PI),c=t+i/(Io*Math.cos(a))*180/Math.PI;return{lat:l,lng:c}},xy=({origin:e,bearingDegrees:t,distanceMeters:i})=>{if(!e)throw new Error("Provide a valid origin location first.");if(t==null||Number.isNaN(t))throw new Error("Bearing must be a number.");if(i==null||Number.isNaN(i)||i<0)throw new Error("Distance must be a non-negative number.");const o=i/Io,a=Hs(t),l=Hs(e.lat),c=Hs(e.lng),p=Math.sin(l),f=Math.cos(l),g=Math.sin(o),S=Math.cos(o),w=Math.asin(p*S+f*g*Math.cos(a)),x=c+Math.atan2(Math.sin(a)*g*f,S-p*Math.sin(w));return{lat:Gf(w),lng:_y(Gf(x))}},wy=({origin:e,originReference:t,targetReference:i,precision:o})=>{if(!e)throw new Error("Set a grid origin location first.");if(!t)throw new Error("Set a grid origin reference first.");const a=Ac(o??t.precision??(i==null?void 0:i.precision)??3),l=Ls(t.easting,a),c=Ls(t.northing,a),p=Ls(i.easting,a),f=Ls(i.northing,a),g=Dc(a),S=(p-l)*g,w=(f-c)*g;return yy(e,S,w)},ky=({origin:e,originReference:t,point:i,precision:o})=>{if(!e||!t)throw new Error("Grid origin must be configured.");const a=Ac(o??t.precision??3),l=Dc(a),c=e.lat*Math.PI/180,p=(i.lat-e.lat)*Math.PI*Io/180,f=(i.lng-e.lng)*Math.PI*Io*Math.cos(c)/180,g=Math.round(t.easting+f/l),S=Math.round(t.northing+p/l),w=x=>x.toString().padStart(a,"0");return{easting:w(g),northing:w(S),precision:a}},Ts=e=>e!=null?e.toFixed(6):"",by=e=>e==null||Number.isNaN(e)?"":e>=1e3?`${(e/1e3).toFixed(2)} km`:e>=10?`${e.toFixed(0)} m`:`${e.toFixed(1)} m`,Dl=({show:e,onToggle:t})=>h.jsx("button",{type:"button",onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-full border text-[10px] font-bold transition ${e?"border-sky-500 bg-sky-500 text-slate-900":"border-slate-600 text-slate-400 hover:border-sky-500 hover:text-sky-200"}`,"aria-label":"Toggle help",children:"?"}),Sy=({userLocation:e,selectedPosition:t,onPreviewLocationChange:i})=>{const{origin:o,originReference:a,precision:l,setOrigin:c,setOriginReference:p,setPrecision:f,resetGrid:g}=vy(),{addCheckpoint:S}=Er(),[w,x]=b.useState(""),[E,z]=b.useState(""),[M,X]=b.useState(""),[_,v]=b.useState(""),[k,j]=b.useState(null),[H,Y]=b.useState(null),[V,R]=b.useState(null),[I,D]=b.useState("user"),[F,q]=b.useState(""),[N,B]=b.useState("degrees"),[Q,K]=b.useState(""),[ee,C]=b.useState(null),[U,A]=b.useState(null),[W,ae]=b.useState("origin"),[pe,J]=b.useState(!1);b.useEffect(()=>{var ue,Ee;a&&(x(((ue=a.easting)==null?void 0:ue.toString().padStart(l,"0"))??""),z(((Ee=a.northing)==null?void 0:Ee.toString().padStart(l,"0"))??""))},[a,l]);const te=b.useMemo(()=>{if(!o||!a)return null;try{const ue=ky({origin:o,originReference:a,point:o,precision:l});return`${ue.easting} / ${ue.northing}`}catch(ue){return console.warn(ue),null}},[o,a,l]),le=b.useMemo(()=>{if(!F)return null;const ue=Number(F);return Number.isNaN(ue)?null:N==="mils"?ue*360/6400:ue},[F,N]),he=b.useMemo(()=>le==null?null:le*6400/360,[le]),me=(U==null?void 0:U.bearingDegrees)??null,Dt=me!=null?me*6400/360:null,Bt=()=>{let ue=e;if(!ue)if(t)ue=t;else{R("Waiting for GPS location (or select a point on the map).");return}const Ee=w.trim(),Ke=E.trim();if(!Ee||!Ke){R("Enter grid reference digits.");return}if(Ee.length!==Ke.length){R("Easting and Northing must have same number of digits.");return}let yt=3;if(Ee.length===3)yt=3;else if(Ee.length===4)yt=4;else{R("Grid ref must be 3 or 4 digits (e.g. 123 456).");return}try{const Ae=Number(Ee),Qt=Number(Ke);if(Number.isNaN(Ae)||Number.isNaN(Qt))throw new Error("Grid reference must be numbers.");c(ue),p({easting:Ae,northing:Qt,precision:yt}),f(yt),R(null),j(`Grid calibrated to ${yt}-figure reference.`)}catch(Ae){R(Ae.message)}},Zt=()=>{if(I==="user"){if(!e)throw new Error("No user location fix yet.");return e}if(I==="selected"){if(!t)throw new Error("Select a marker on the map to use as the origin.");return t}throw new Error("Select a valid start point.")},Ue=()=>{try{if(!F)throw new Error("Enter a bearing value.");if(!Q)throw new Error("Enter a distance in meters.");const ue=Zt(),Ee=Number(F),Ke=Number(Q);if(Number.isNaN(Ee))throw new Error("Bearing must be a number.");if(Number.isNaN(Ke)||Ke<0)throw new Error("Distance must be zero or greater.");const Ae=((N==="mils"?Ee*360/6400:Ee)%360+360)%360,Qt=xy({origin:ue,bearingDegrees:Ae,distanceMeters:Ke});C(Qt),A({bearingDegrees:Ae,bearingInput:Ee,bearingUnit:N,distanceMeters:Ke,origin:ue}),j("Projected point from bearing and distance."),R(null)}catch(ue){C(null),A(null),R(ue.message??"Unable to project bearing.")}},vt=()=>{if(!M||!_){R("Enter both easting and northing for the grid reference.");return}try{const ue=wy({origin:o,originReference:a,targetReference:{easting:M,northing:_,precision:l},precision:l});Y(ue),j("Grid reference resolved."),R(null)}catch(ue){Y(null),R(ue.message)}},Xt=(ue=H,Ee="grid reference")=>{if(!ue){R(`Resolve a ${Ee} first.`);return}S(ue),j(`Checkpoint added from ${Ee}.`),R(null)},_t=()=>{g(),x(""),z(""),X(""),v(""),Y(null),D("user"),q(""),B("degrees"),K(""),C(null),A(null),j("Grid settings cleared."),R(null)},Ye=Dc(l);return b.useEffect(()=>{i&&i(W==="convert"&&H?{position:H,source:o}:W==="project"&&ee?{position:ee,source:(U==null?void 0:U.origin)??null}:null)},[W,H,ee,U,o,i]),h.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl bg-slate-900 p-4 text-xs text-slate-200 shadow-lg shadow-slate-950",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("h2",{className:"text-base font-semibold text-sky-200",children:"Grid Tools"}),h.jsx("div",{className:"flex gap-1",children:h.jsxs("span",{className:"rounded-full border border-slate-700 px-2 py-1 text-[10px] font-semibold text-slate-400",children:[l,"-fig mode"]})})]}),h.jsxs("div",{className:"flex gap-1 rounded-lg border border-slate-800 bg-slate-950 p-1",children:[h.jsx("button",{type:"button",onClick:()=>ae("origin"),className:`flex-1 rounded-md py-1.5 text-[11px] font-semibold transition ${W==="origin"?"bg-slate-800 text-sky-200 shadow-sm":"text-slate-400 hover:bg-slate-900 hover:text-slate-200"}`,children:"Origin"}),h.jsx("button",{type:"button",onClick:()=>ae("convert"),className:`flex-1 rounded-md py-1.5 text-[11px] font-semibold transition ${W==="convert"?"bg-slate-800 text-sky-200 shadow-sm":"text-slate-400 hover:bg-slate-900 hover:text-slate-200"}`,children:"Convert"}),h.jsx("button",{type:"button",onClick:()=>ae("project"),className:`flex-1 rounded-md py-1.5 text-[11px] font-semibold transition ${W==="project"?"bg-slate-800 text-sky-200 shadow-sm":"text-slate-400 hover:bg-slate-900 hover:text-slate-200"}`,children:"Project"})]}),W==="origin"&&h.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[h.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Calibrate Grid Origin"}),h.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:"Sync your current location to a grid reference."})]}),h.jsx(Dl,{show:pe,onToggle:()=>J(!pe)})]}),pe&&h.jsxs("div",{className:"mb-4 rounded-lg bg-slate-900 p-2 text-[11px] text-slate-300",children:[h.jsx("p",{className:"mb-1 font-semibold text-sky-200",children:"How to calibrate:"}),h.jsx("p",{className:"text-slate-400",children:"Enter the Grid Reference for your current location (e.g. from a paper map) and tap 'Set Origin'. The app will link your GPS position to that grid reference."}),h.jsx("p",{className:"mt-2 text-slate-500 italic",children:"Note: If GPS is unavailable, select a point on the map first."})]}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Easting"}),h.jsx("input",{value:w,onChange:ue=>x(ue.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. 123"})]}),h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Northing"}),h.jsx("input",{value:E,onChange:ue=>z(ue.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. 456"})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",className:"flex-1 rounded-md border border-sky-500 bg-sky-500/10 px-3 py-2 font-semibold text-sky-200 hover:bg-sky-500/20",onClick:Bt,children:"Set Origin"}),h.jsx("button",{type:"button",className:"rounded-md border border-slate-700 px-3 py-2 font-semibold text-slate-300 hover:border-rose-500 hover:text-rose-200",onClick:_t,children:"Clear"})]}),h.jsx("div",{className:"mt-1 text-center text-[11px]",children:te?h.jsxs("span",{className:"text-emerald-400",children:["Active: ",te," (",l,"-fig)"]}):h.jsx("span",{className:"text-slate-500",children:"Origin not set"})})]})]}),W==="convert"&&h.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[h.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Convert Grid Ref"}),h.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:"Enter a grid reference to find its location on the map relative to your origin."})]}),h.jsx(Dl,{show:pe,onToggle:()=>J(!pe)})]}),pe&&h.jsxs("div",{className:"mb-4 rounded-lg bg-slate-900 p-2 text-[11px] text-slate-300",children:[h.jsx("p",{className:"mb-1 font-semibold text-sky-200",children:"How to convert:"}),h.jsx("p",{className:"text-slate-400",children:'Once you have calibrated the origin, you can enter any other grid reference here. The app will calculate the offset from the origin, show you where that point lands, and the "Add checkpoint" button will drop it into your active route.'})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Easting"}),h.jsx("input",{value:M,onChange:ue=>X(ue.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. ".concat("2".repeat(l))})]}),h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Northing"}),h.jsx("input",{value:_,onChange:ue=>v(ue.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. ".concat("3".repeat(l))})]})]}),h.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[h.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:vt,children:"Preview location"}),h.jsxs("span",{className:"text-[11px] text-slate-400",children:["1 digit = ",Ye," m offset"]})]}),H&&h.jsxs("div",{className:"mt-3 rounded-md border border-slate-800 bg-slate-900 p-3 text-[11px] text-slate-200",children:[h.jsx("p",{className:"font-semibold text-sky-200",children:"Resolved coordinates"}),h.jsxs("p",{className:"mt-1 text-slate-300",children:["Lat ",Ts(H.lat)," | Lng ",Ts(H.lng)]}),h.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:h.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:()=>Xt(H,"grid reference"),children:"Add checkpoint"})})]})]}),W==="project"&&h.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[h.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Project by bearing"}),h.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:"Calculate a new point by moving a specific distance and bearing from a starting point."})]}),h.jsx(Dl,{show:pe,onToggle:()=>J(!pe)})]}),pe&&h.jsxs("div",{className:"mb-4 rounded-lg bg-slate-900 p-2 text-[11px] text-slate-300",children:[h.jsx("p",{className:"mb-1 font-semibold text-sky-200",children:"How to project:"}),h.jsxs("ol",{className:"list-decimal space-y-1 pl-4 text-slate-400",children:[h.jsx("li",{children:"Choose a start point (your current GPS fix or a checkpoint you selected on the map)."}),h.jsx("li",{children:"Enter the bearing (direction) and distance to travel."}),h.jsx("li",{children:"Click 'Project location' to see the destination on the map, then use 'Add checkpoint' to store it in the active route."})]})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Start Point"}),h.jsxs("div",{className:"mt-1 flex gap-2",children:[h.jsx("button",{type:"button",onClick:()=>D("user"),className:`flex-1 rounded-md border py-2 text-[11px] font-semibold transition ${I==="user"?"border-sky-500 bg-sky-500/10 text-sky-200":"border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:"My Location"}),h.jsx("button",{type:"button",onClick:()=>D("selected"),className:`flex-1 rounded-md border py-2 text-[11px] font-semibold transition ${I==="selected"?"border-sky-500 bg-sky-500/10 text-sky-200":"border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:"Selected Marker"})]}),!e&&I==="user"&&h.jsx("p",{className:"mt-1 text-[10px] text-rose-400",children:"Waiting for GPS fix..."}),!t&&I==="selected"&&h.jsx("p",{className:"mt-1 text-[10px] text-rose-400",children:"No marker selected on map."})]}),h.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Bearing"}),h.jsx("input",{value:F,onChange:ue=>q(ue.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:N==="degrees"?"0  360":"0  6400 mil"})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Units"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",className:`flex-1 rounded-md px-2 py-1 text-[11px] font-semibold ${N==="degrees"?"border border-sky-500 text-sky-200":"border border-slate-700 text-slate-200 hover:border-sky-500 hover:text-sky-200"}`,onClick:()=>B("degrees"),children:"Degrees"}),h.jsx("button",{type:"button",className:`flex-1 rounded-md px-2 py-1 text-[11px] font-semibold ${N==="mils"?"border border-sky-500 text-sky-200":"border border-slate-700 text-slate-200 hover:border-sky-500 hover:text-sky-200"}`,onClick:()=>B("mils"),children:"Mils"})]})]})]}),h.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Distance (m)"}),h.jsx("input",{value:Q,onChange:ue=>K(ue.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. 250"})]}),h.jsx("div",{className:"flex flex-col justify-end text-[11px] text-slate-400",children:h.jsx("span",{children:le!=null?` ${le.toFixed(1)} / ${(he==null?void 0:he.toFixed(0))??""} mil`:"Enter a bearing to preview conversions."})})]}),h.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[h.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:Ue,children:"Project location"}),h.jsx("span",{className:"text-[11px] text-slate-400",children:"Distance measured in straight line"})]}),ee&&h.jsxs("div",{className:"mt-3 rounded-md border border-slate-800 bg-slate-900 p-3 text-[11px] text-slate-200",children:[h.jsx("p",{className:"font-semibold text-sky-200",children:"Projected coordinates"}),h.jsxs("p",{className:"mt-1 text-slate-300",children:["Lat ",Ts(ee.lat)," | Lng ",Ts(ee.lng)]}),h.jsxs("p",{className:"text-slate-400",children:["Bearing used:"," ",me!=null?`${me.toFixed(1)}${Dt!=null?` (${Dt.toFixed(0)} mil)`:""}`:""]}),(U==null?void 0:U.distanceMeters)!=null&&h.jsxs("p",{className:"text-slate-400",children:["Distance: ",by(U.distanceMeters)]}),h.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:h.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:()=>Xt(ee,"bearing projection"),children:"Add checkpoint"})})]})]}),(V||k)&&h.jsxs("div",{className:"rounded-md border border-slate-800 bg-slate-950 p-3 text-[11px]",children:[V&&h.jsx("p",{className:"text-rose-400",children:V}),k&&h.jsx("p",{className:"text-emerald-300",children:k})]}),h.jsx("button",{type:"button",className:"rounded-md border border-slate-700 px-3 py-1 text-[11px] font-semibold text-slate-300 hover:border-rose-500 hover:text-rose-200",onClick:_t,children:"Clear grid settings"})]})},Cy=({type:e,color:t})=>{const i=b.useRef(null),o=c=>{c.dataTransfer.setData("application/x-cadet-map-item",e),c.dataTransfer.effectAllowed="copy",i.current&&c.dataTransfer.setDragImage(i.current,10,20)},a={borderColor:t,backgroundColor:`${t}33`},l={backgroundColor:t};return h.jsxs(h.Fragment,{children:[h.jsx("div",{draggable:!0,onDragStart:o,className:"flex h-16 w-16 cursor-grab items-center justify-center rounded-full border-2 shadow-lg backdrop-blur-sm transition hover:scale-110 active:cursor-grabbing active:scale-95 touch-none",style:a,children:h.jsx("div",{className:"h-4 w-4 rounded-full",style:l})}),h.jsx("div",{ref:i,className:"absolute -top-[1000px] left-0 h-5 w-5 rounded-full border-2",style:a})]})},Py=()=>{const{routes:e,activeRouteId:t}=Er(),i=e.find(a=>a.id===t)||e[0],o=(i==null?void 0:i.color)||"#38bdf8";return h.jsx("div",{className:"pointer-events-auto flex gap-6 p-4",children:h.jsx(Cy,{type:"checkpoint",color:o})})},Ey=()=>{const{checkpoints:e,checkpointMap:t,routes:i,activeRouteId:o,selectedId:a,selectCheckpoint:l,addCheckpoint:c}=Er(),[p,f]=b.useState(null);b.useEffect(()=>{!p&&o&&f(o)},[o,p]);const g=b.useMemo(()=>{const ne=p||o,de=i.find(Se=>Se.id===ne);return de?de.items.map((Se,ce)=>{const ct=t[Se];return ct?{id:ct.id,label:ct.name||`Point ${ce+1}`,position:ct.position}:null}).filter(Boolean):[]},[p,o,i,t]),S=b.useMemo(()=>g.find(ne=>ne.id===a)??null,[g,a]),w=(S==null?void 0:S.position)??null,{heading:x,bearing:E,distance:z,geolocation:M,error:X,needsPermission:_,isSupported:v,locationEnabled:k,hasLocationFix:j,isRequestingLocation:H,requestPermission:Y,startGeolocation:V}=dy(w),R=b.useMemo(()=>g.filter(ne=>ne.id!==a).map(ne=>{if(!M)return{...ne,bearing:null,distance:null,relativeBearing:null};const de=bm(M,ne.position),Se=Cm(x,de);return{...ne,bearing:de,distance:Sm(M,ne.position),relativeBearing:Se??de}}),[M,g,a,x]),[I,D]=b.useState(null),[F,q]=b.useState(!1),[N,B]=b.useState(!1),[Q,K]=b.useState(0),[ee,C]=b.useState("degrees"),[U,A]=b.useState("topo"),[W,ae]=b.useState("light"),[pe,J]=b.useState(.58),[te,le]=b.useState(null),[he,me]=b.useState(!1),Dt=b.useRef(null),Bt=b.useRef(!1),Zt=b.useRef(null),[Ue,vt]=b.useState(!1),Xt=.32,_t=.85,Ye=b.useCallback(ne=>Math.min(Math.max(ne,Xt),_t),[_t,Xt]),ue=b.useCallback(()=>{const ne=V();return ne&&K(de=>de+1),ne},[V]),Ee=b.useCallback(()=>{C(ne=>ne==="degrees"?"mils":"degrees")},[]),Ke=b.useCallback(()=>{q(ne=>{const de=!ne;return de&&(D(null),B(!1)),de})},[]),yt=b.useCallback(()=>{B(ne=>{const de=!ne;return de&&(D(null),q(!1)),de})},[]),Ae=b.useCallback(ne=>{D(de=>de===ne?null:ne),q(!1),B(!1),J(de=>Ye(de))},[Ye]),Qt=b.useCallback(()=>{Ae("compass")},[Ae]),zn=b.useCallback(()=>{Ae("checkpoints")},[Ae]),xt=b.useCallback(ne=>{const de=Dt.current;if(!de)return;const{startY:Se,startHeight:ce}=de;if(window.innerHeight===0)return;const ct=(Se-ne.clientY)/window.innerHeight,_n=Math.abs(Se-ne.clientY);!de.moved&&_n>6&&(de.moved=!0),J(Ye(ce+ct))},[Ye]),lt=b.useCallback(()=>{var de,Se;const ne=Dt.current;ne!=null&&ne.target&&ne.pointerId!=null&&((Se=(de=ne.target).releasePointerCapture)==null||Se.call(de,ne.pointerId)),Dt.current=null,window.removeEventListener("pointermove",xt),window.removeEventListener("pointerup",lt),ne&&!ne.moved&&ne.overlayId&&D(ce=>ce===ne.overlayId?null:ce)},[xt,D]),Lt=b.useCallback(ne=>{var ct,_n;if(window.innerHeight===0)return;ne.preventDefault();const de=ne.pointerId,Se=ne.clientY,ce=ne.currentTarget.dataset.overlayId??null;Dt.current={startY:Se,startHeight:pe,pointerId:de,target:ne.currentTarget,overlayId:ce,moved:!1},(_n=(ct=ne.currentTarget).setPointerCapture)==null||_n.call(ct,de),window.addEventListener("pointermove",xt,{passive:!0}),window.addEventListener("pointerup",lt,{passive:!0})},[pe,xt,lt]);b.useEffect(()=>()=>{window.removeEventListener("pointermove",xt),window.removeEventListener("pointerup",lt)},[xt,lt]);const un=b.useMemo(()=>({"--overlay-height":`${(Ye(pe)*100).toFixed(2)}vh`,"--overlay-max-height":`${(_t*100).toFixed(2)}vh`}),[_t,Ye,pe]);b.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;window.matchMedia("(prefers-color-scheme: dark)").matches&&(A(de=>de==="street"?"dark":de),ae("dark"))},[]),b.useEffect(()=>{ue()},[ue]),b.useEffect(()=>{Zt.current=M},[M]),b.useEffect(()=>{if(!Bt.current){Bt.current=!0;return}k?ue():Zt.current&&K(ne=>ne+1)},[U,k,ue]);const Rn=b.useCallback(()=>{ae(ne=>ne==="light"?"dark":"light")},[]),ut=b.useCallback((ne,de)=>{c(de)},[c]);return b.useEffect(()=>{le(null)},[e]),h.jsxs("div",{className:"relative viewport-safe bg-slate-950 text-slate-100",children:[h.jsx(uy,{userLocation:M,userHeading:x,targets:R,onEnableLocation:ue,locationEnabled:k,hasLocationFix:j,isRequestingLocation:H,locationRequestToken:Q,baseLayer:U,onBaseLayerChange:A,onToggleMenu:Ke,onOpenCompass:Qt,onOpenRoute:zn,toolbarTheme:W,onToolbarThemeToggle:Rn,isMenuOpen:F,isSettingsOpen:N,onToggleSettings:yt,previewLocation:te,onDropItem:ut,hideToolbar:Ue}),!Ue&&I==="compass"&&h.jsxs("div",{className:"pointer-events-auto overlay-sheet fixed inset-x-0 bottom-0 z-[1300] mx-auto w-full max-w-md overflow-y-auto overscroll-contain rounded-t-3xl border border-slate-800 bg-slate-900 p-3 shadow-2xl shadow-slate-950/80 md:bottom-6 md:left-auto md:right-6 md:max-w-sm md:rounded-2xl",style:un,children:[h.jsx("div",{className:"mb-3 flex justify-center",children:h.jsx("button",{type:"button","data-overlay-id":"compass",className:"group flex h-12 w-full max-w-[220px] cursor-row-resize items-center justify-center rounded-full bg-slate-900 shadow-inner shadow-slate-950/40 ring-1 ring-slate-700/60 transition hover:ring-slate-500/80 active:bg-slate-800 touch-none","aria-label":"Drag to resize or tap to close panel",onPointerDown:Lt,children:h.jsx("span",{className:"block h-2 w-16 rounded-full bg-slate-500 transition group-active:bg-slate-300"})})}),h.jsxs("div",{className:"mb-2 text-left text-[11px]",children:[h.jsx("p",{className:"font-semibold uppercase tracking-wide text-slate-500",children:"Compass"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Heading & bearings"})]}),h.jsx(hy,{heading:x,bearing:E,distance:z,error:X,enableCompass:Y,onEnableLocation:ue,needsPermission:_,isSupported:v,locationEnabled:k,hasLocationFix:j,isRequestingLocation:H,targets:R,selectedTarget:S,onSelectTarget:l,bearingUnit:ee,onToggleBearingUnit:Ee,routes:i,activeRouteId:p,onSelectRoute:f})]}),!Ue&&I==="checkpoints"&&h.jsxs("div",{className:"pointer-events-auto overlay-sheet fixed inset-x-0 bottom-0 z-[1300] mx-auto w-full max-w-md overflow-y-auto overscroll-contain rounded-t-3xl border border-slate-800 bg-slate-900 p-3 shadow-2xl shadow-slate-950/80 md:left-6 md:right-auto md:top-6 md:max-w-xs md:rounded-2xl md:rounded-bl-none md:rounded-br-xl",style:un,children:[h.jsx("div",{className:"mb-3 flex justify-center",children:h.jsx("button",{type:"button","data-overlay-id":"checkpoints",className:"group flex h-12 w-full max-w-[220px] cursor-row-resize items-center justify-center rounded-full bg-slate-900 shadow-inner shadow-slate-950/40 ring-1 ring-slate-700/60 transition hover:ring-slate-500/80 active:bg-slate-800 touch-none","aria-label":"Drag to resize or tap to close panel",onPointerDown:Lt,children:h.jsx("span",{className:"block h-2 w-16 rounded-full bg-slate-500 transition group-active:bg-slate-300"})})}),h.jsxs("div",{className:"mb-2 text-left text-[11px]",children:[h.jsx("p",{className:"font-semibold uppercase tracking-wide text-slate-500",children:"Route tools"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Manage checkpoints"})]}),h.jsx(my,{onEnterPlacingMode:()=>vt(!0)})]}),!Ue&&I==="grid"&&h.jsxs("div",{className:"pointer-events-auto overlay-sheet fixed inset-x-0 bottom-0 z-[1300] mx-auto w-full max-w-md overflow-y-auto overscroll-contain rounded-t-3xl border border-slate-800 bg-slate-900 p-3 shadow-2xl shadow-slate-950/80 md:left-auto md:right-6 md:top-6 md:max-w-md md:rounded-2xl",style:un,children:[h.jsx("div",{className:"mb-3 flex justify-center",children:h.jsx("button",{type:"button","data-overlay-id":"grid",className:"group flex h-12 w-full max-w-[220px] cursor-row-resize items-center justify-center rounded-full bg-slate-900 shadow-inner shadow-slate-950/40 ring-1 ring-slate-700/60 transition hover:ring-slate-500/80 active:bg-slate-800 touch-none","aria-label":"Drag to resize or tap to close panel",onPointerDown:Lt,children:h.jsx("span",{className:"block h-2 w-16 rounded-full bg-slate-500 transition group-active:bg-slate-300"})})}),h.jsxs("div",{className:"mb-2 text-left text-[11px]",children:[h.jsx("p",{className:"font-semibold uppercase tracking-wide text-slate-500",children:"Grid tools"}),h.jsx("p",{className:"text-xs text-slate-400",children:"References & bearings"})]}),h.jsx(Sy,{userLocation:M,selectedPosition:w,onPreviewLocationChange:le})]}),!Ue&&F&&h.jsx("div",{className:"pointer-events-auto absolute inset-x-0 bottom-28 z-[1300] flex justify-center px-4 md:bottom-32",children:h.jsxs("div",{className:"w-full max-w-xs rounded-2xl border border-slate-800 bg-slate-950 p-3 text-[12px] text-slate-100 shadow-xl shadow-slate-950/80",children:[h.jsx("p",{className:"mb-2 text-[11px] font-semibold uppercase tracking-wide text-slate-400",children:"Navigate"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("button",{type:"button",className:`flex items-center justify-between rounded-lg border px-3 py-2 font-semibold transition ${I==="compass"?"border-sky-500 bg-sky-500 text-slate-950":"border-slate-700 bg-slate-900 hover:border-sky-500 hover:text-sky-100"}`,onClick:()=>Ae("compass"),children:["Compass",h.jsx("span",{className:`text-[10px] ${I==="compass"?"text-slate-800":"text-slate-400"}`,children:"Heading"})]}),h.jsxs("button",{type:"button",className:`flex items-center justify-between rounded-lg border px-3 py-2 font-semibold transition ${I==="checkpoints"?"border-sky-500 bg-sky-500 text-slate-950":"border-slate-700 bg-slate-900 hover:border-sky-500 hover:text-sky-100"}`,onClick:()=>Ae("checkpoints"),children:["Route",h.jsx("span",{className:`text-[10px] ${I==="checkpoints"?"text-slate-800":"text-slate-400"}`,children:"Checkpoints"})]}),h.jsxs("button",{type:"button",className:`flex items-center justify-between rounded-lg border px-3 py-2 font-semibold transition ${I==="grid"?"border-sky-500 bg-sky-500 text-slate-950":"border-slate-700 bg-slate-900 hover:border-sky-500 hover:text-sky-100"}`,onClick:()=>Ae("grid"),children:["Grid",h.jsx("span",{className:`text-[10px] ${I==="grid"?"text-slate-800":"text-slate-400"}`,children:"Conversions"})]})]}),h.jsx("p",{className:"mt-3 text-[11px] text-slate-400",children:"Choose a tool to open its overlay. Tap Menu again to close this panel."})]})}),Ue&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"absolute inset-x-0 bottom-8 z-[1400] flex justify-center pointer-events-none",children:h.jsx(Py,{})}),h.jsxs("div",{className:"absolute top-4 right-4 z-[1400] flex gap-3",children:[h.jsx("button",{type:"button",className:"flex h-10 w-10 items-center justify-center rounded-full border border-slate-600 bg-slate-900 text-slate-200 shadow-lg transition hover:bg-slate-800",title:"Help",onClick:()=>me(!0),children:"?"}),h.jsx("button",{onClick:()=>vt(!1),className:"flex h-10 w-10 items-center justify-center rounded-full border border-red-500/50 bg-red-900/40 text-red-200 shadow-lg backdrop-blur-sm transition hover:bg-red-900/60",title:"Exit Placing Mode",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"h-6 w-6",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),he&&h.jsx("div",{className:"fixed inset-0 z-[1500] flex items-center justify-center bg-slate-950/60 p-4 backdrop-blur-sm",children:h.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-slate-700 bg-slate-900 p-6 shadow-2xl",children:[h.jsx("h3",{className:"mb-2 text-lg font-bold text-slate-100",children:"How placement works"}),h.jsxs("ul",{className:"mb-6 list-disc space-y-2 pl-5 text-sm text-slate-300",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Drag & drop:"})," The single puck in the bottom toolbar matches your active route colour. Drag it onto the map to add a checkpoint to that route at the drop point."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Control the order:"})," In the Route panel, tap ",h.jsx("em",{children:"Insert Before"})," or ",h.jsx("em",{children:"Insert After"}),". The next checkpoint you drop will slot into that position; otherwise its appended to the end."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Grid & projections:"})," Use the Grid Tools to resolve or project a coordinate. Drop the puck onto the magenta preview marker to capture that exact location."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Edit or move:"})," Drag any existing checkpoint marker to fine-tune its location, or use the accordion controls to rename, recolour, or delete it."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Exit placement:"})," Tap the red X button in the top-right corner when youre done."]})]}),h.jsx("button",{onClick:()=>me(!1),className:"w-full rounded-lg bg-sky-600 py-2.5 text-sm font-semibold text-white transition hover:bg-sky-500",children:"Got it"})]})})]})},Ly=()=>h.jsx(Ey,{});W_.polyfill({dragImageTranslateOverride:G_.scrollBehaviourDragImageTranslateOverride});window.addEventListener("touchmove",()=>{},{passive:!1});Bl.createRoot(document.getElementById("root")).render(h.jsx(mo.StrictMode,{children:h.jsx(Ly,{})}));
