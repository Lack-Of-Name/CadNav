(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Au(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wf={exports:{}},ca={},Gf={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Symbol.for("react.element"),yg=Symbol.for("react.portal"),xg=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),kg=Symbol.for("react.profiler"),bg=Symbol.for("react.provider"),Sg=Symbol.for("react.context"),Cg=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),Eg=Symbol.for("react.memo"),Lg=Symbol.for("react.lazy"),kd=Symbol.iterator;function Tg(e){return e===null||typeof e!="object"?null:(e=kd&&e[kd]||e["@@iterator"],typeof e=="function"?e:null)}var Yf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kf=Object.assign,Xf={};function wr(e,t,i){this.props=e,this.context=t,this.refs=Xf,this.updater=i||Yf}wr.prototype.isReactComponent={};wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qf(){}Qf.prototype=wr.prototype;function Du(e,t,i){this.props=e,this.context=t,this.refs=Xf,this.updater=i||Yf}var Bu=Du.prototype=new Qf;Bu.constructor=Du;Kf(Bu,wr.prototype);Bu.isPureReactComponent=!0;var bd=Array.isArray,qf=Object.prototype.hasOwnProperty,Zu={current:null},Jf={key:!0,ref:!0,__self:!0,__source:!0};function eh(e,t,i){var o,a={},l=null,c=null;if(t!=null)for(o in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(l=""+t.key),t)qf.call(t,o)&&!Jf.hasOwnProperty(o)&&(a[o]=t[o]);var p=arguments.length-2;if(p===1)a.children=i;else if(1<p){for(var f=Array(p),g=0;g<p;g++)f[g]=arguments[g+2];a.children=f}if(e&&e.defaultProps)for(o in p=e.defaultProps,p)a[o]===void 0&&(a[o]=p[o]);return{$$typeof:zo,type:e,key:l,ref:c,props:a,_owner:Zu.current}}function Ng(e,t){return{$$typeof:zo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fu(e){return typeof e=="object"&&e!==null&&e.$$typeof===zo}function Mg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var Sd=/\/+/g;function ll(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mg(""+e.key):t.toString(36)}function Ps(e,t,i,o,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case zo:case yg:c=!0}}if(c)return c=e,a=a(c),e=o===""?"."+ll(c,0):o,bd(a)?(i="",e!=null&&(i=e.replace(Sd,"$&/")+"/"),Ps(a,t,i,"",function(g){return g})):a!=null&&(Fu(a)&&(a=Ng(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(Sd,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=o===""?".":o+":",bd(e))for(var p=0;p<e.length;p++){l=e[p];var f=o+ll(l,p);c+=Ps(l,t,i,f,a)}else if(f=Tg(e),typeof f=="function")for(e=f.call(e),p=0;!(l=e.next()).done;)l=l.value,f=o+ll(l,p++),c+=Ps(l,t,i,f,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function ss(e,t,i){if(e==null)return e;var o=[],a=0;return Ps(e,o,"","",function(l){return t.call(i,l,a++)}),o}function jg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xt={current:null},Es={transition:null},Og={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:Es,ReactCurrentOwner:Zu};function th(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:ss,forEach:function(e,t,i){ss(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return ss(e,function(){t++}),t},toArray:function(e){return ss(e,function(t){return t})||[]},only:function(e){if(!Fu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=wr;_e.Fragment=xg;_e.Profiler=kg;_e.PureComponent=Du;_e.StrictMode=wg;_e.Suspense=Pg;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Og;_e.act=th;_e.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Kf({},e.props),a=e.key,l=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,c=Zu.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(f in t)qf.call(t,f)&&!Jf.hasOwnProperty(f)&&(o[f]=t[f]===void 0&&p!==void 0?p[f]:t[f])}var f=arguments.length-2;if(f===1)o.children=i;else if(1<f){p=Array(f);for(var g=0;g<f;g++)p[g]=arguments[g+2];o.children=p}return{$$typeof:zo,type:e.type,key:a,ref:l,props:o,_owner:c}};_e.createContext=function(e){return e={$$typeof:Sg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bg,_context:e},e.Consumer=e};_e.createElement=eh;_e.createFactory=function(e){var t=eh.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:Cg,render:e}};_e.isValidElement=Fu;_e.lazy=function(e){return{$$typeof:Lg,_payload:{_status:-1,_result:e},_init:jg}};_e.memo=function(e,t){return{$$typeof:Eg,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Es.transition;Es.transition={};try{e()}finally{Es.transition=t}};_e.unstable_act=th;_e.useCallback=function(e,t){return xt.current.useCallback(e,t)};_e.useContext=function(e){return xt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return xt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return xt.current.useEffect(e,t)};_e.useId=function(){return xt.current.useId()};_e.useImperativeHandle=function(e,t,i){return xt.current.useImperativeHandle(e,t,i)};_e.useInsertionEffect=function(e,t){return xt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return xt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return xt.current.useMemo(e,t)};_e.useReducer=function(e,t,i){return xt.current.useReducer(e,t,i)};_e.useRef=function(e){return xt.current.useRef(e)};_e.useState=function(e){return xt.current.useState(e)};_e.useSyncExternalStore=function(e,t,i){return xt.current.useSyncExternalStore(e,t,i)};_e.useTransition=function(){return xt.current.useTransition()};_e.version="18.3.1";Gf.exports=_e;var S=Gf.exports;const po=Au(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg=S,Ig=Symbol.for("react.element"),Rg=Symbol.for("react.fragment"),Ag=Object.prototype.hasOwnProperty,Dg=zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bg={key:!0,ref:!0,__self:!0,__source:!0};function nh(e,t,i){var o,a={},l=null,c=null;i!==void 0&&(l=""+i),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(o in t)Ag.call(t,o)&&!Bg.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)a[o]===void 0&&(a[o]=t[o]);return{$$typeof:Ig,type:e,key:l,ref:c,props:a,_owner:Dg.current}}ca.Fragment=Rg;ca.jsx=nh;ca.jsxs=nh;Wf.exports=ca;var h=Wf.exports,Dl={},ih={exports:{}},Ht={},rh={exports:{}},oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,U){var A=C.length;C.push(U);e:for(;0<A;){var V=A-1>>>1,se=C[V];if(0<a(se,U))C[V]=U,C[A]=se,A=V;else break e}}function i(C){return C.length===0?null:C[0]}function o(C){if(C.length===0)return null;var U=C[0],A=C.pop();if(A!==U){C[0]=A;e:for(var V=0,se=C.length,me=se>>>1;V<me;){var q=2*(V+1)-1,ee=C[q],le=q+1,fe=C[le];if(0>a(ee,A))le<se&&0>a(fe,ee)?(C[V]=fe,C[le]=A,V=le):(C[V]=ee,C[q]=A,V=q);else if(le<se&&0>a(fe,A))C[V]=fe,C[le]=A,V=le;else break e}}return U}function a(C,U){var A=C.sortIndex-U.sortIndex;return A!==0?A:C.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,p=c.now();e.unstable_now=function(){return c.now()-p}}var f=[],g=[],b=1,x=null,w=3,N=!1,I=!1,M=!1,te=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(C){for(var U=i(g);U!==null;){if(U.callback===null)o(g);else if(U.startTime<=C)o(g),U.sortIndex=U.expirationTime,t(f,U);else break;U=i(g)}}function O(C){if(M=!1,k(C),!I)if(i(f)!==null)I=!0,Y(H);else{var U=i(g);U!==null&&ne(O,U.startTime-C)}}function H(C,U){I=!1,M&&(M=!1,y(D),D=-1),N=!0;var A=w;try{for(k(U),x=i(f);x!==null&&(!(x.expirationTime>U)||C&&!Z());){var V=x.callback;if(typeof V=="function"){x.callback=null,w=x.priorityLevel;var se=V(x.expirationTime<=U);U=e.unstable_now(),typeof se=="function"?x.callback=se:x===i(f)&&o(f),k(U)}else o(f);x=i(f)}if(x!==null)var me=!0;else{var q=i(g);q!==null&&ne(O,q.startTime-U),me=!1}return me}finally{x=null,w=A,N=!1}}var G=!1,$=null,D=-1,z=5,R=-1;function Z(){return!(e.unstable_now()-R<z)}function X(){if($!==null){var C=e.unstable_now();R=C;var U=!0;try{U=$(!0,C)}finally{U?T():(G=!1,$=null)}}else G=!1}var T;if(typeof v=="function")T=function(){v(X)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=X,T=function(){K.postMessage(null)}}else T=function(){te(X,0)};function Y(C){$=C,G||(G=!0,T())}function ne(C,U){D=te(function(){C(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){I||N||(I=!0,Y(H))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return i(f)},e.unstable_next=function(C){switch(w){case 1:case 2:case 3:var U=3;break;default:U=w}var A=w;w=U;try{return C()}finally{w=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,U){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var A=w;w=C;try{return U()}finally{w=A}},e.unstable_scheduleCallback=function(C,U,A){var V=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?V+A:V):A=V,C){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=A+se,C={id:b++,callback:U,priorityLevel:C,startTime:A,expirationTime:se,sortIndex:-1},A>V?(C.sortIndex=A,t(g,C),i(f)===null&&C===i(g)&&(M?(y(D),D=-1):M=!0,ne(O,A-V))):(C.sortIndex=se,t(f,C),I||N||(I=!0,Y(H))),C},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(C){var U=w;return function(){var A=w;w=U;try{return C.apply(this,arguments)}finally{w=A}}}})(oh);rh.exports=oh;var Zg=rh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg=S,Ft=Zg;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sh=new Set,mo={};function Oi(e,t){hr(e,t),hr(e+"Capture",t)}function hr(e,t){for(mo[e]=t,e=0;e<t.length;e++)sh.add(t[e])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=Object.prototype.hasOwnProperty,Hg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cd={},Pd={};function $g(e){return Bl.call(Pd,e)?!0:Bl.call(Cd,e)?!1:Hg.test(e)?Pd[e]=!0:(Cd[e]=!0,!1)}function Ug(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vg(e,t,i,o){if(t===null||typeof t>"u"||Ug(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(e,t,i,o,a,l,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=c}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hu=/[\-:]([a-z])/g;function $u(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hu,$u);lt[t]=new wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hu,$u);lt[t]=new wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hu,$u);lt[t]=new wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new wt(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uu(e,t,i,o){var a=lt.hasOwnProperty(t)?lt[t]:null;(a!==null?a.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vg(t,i,a,o)&&(i=null),o||a===null?$g(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(t=a.attributeName,o=a.attributeNamespace,i===null?e.removeAttribute(t):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var Rn=Fg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),Yi=Symbol.for("react.portal"),Ki=Symbol.for("react.fragment"),Vu=Symbol.for("react.strict_mode"),Zl=Symbol.for("react.profiler"),ah=Symbol.for("react.provider"),lh=Symbol.for("react.context"),Wu=Symbol.for("react.forward_ref"),Fl=Symbol.for("react.suspense"),Hl=Symbol.for("react.suspense_list"),Gu=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),uh=Symbol.for("react.offscreen"),Ed=Symbol.iterator;function $r(e){return e===null||typeof e!="object"?null:(e=Ed&&e[Ed]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,ul;function Jr(e){if(ul===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);ul=t&&t[1]||""}return`
`+ul+e}var cl=!1;function dl(e,t){if(!e||cl)return"";cl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var o=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){o=g}e.call(t.prototype)}else{try{throw Error()}catch(g){o=g}e()}}catch(g){if(g&&o&&typeof g.stack=="string"){for(var a=g.stack.split(`
`),l=o.stack.split(`
`),c=a.length-1,p=l.length-1;1<=c&&0<=p&&a[c]!==l[p];)p--;for(;1<=c&&0<=p;c--,p--)if(a[c]!==l[p]){if(c!==1||p!==1)do if(c--,p--,0>p||a[c]!==l[p]){var f=`
`+a[c].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=c&&0<=p);break}}}finally{cl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Jr(e):""}function Wg(e){switch(e.tag){case 5:return Jr(e.type);case 16:return Jr("Lazy");case 13:return Jr("Suspense");case 19:return Jr("SuspenseList");case 0:case 2:case 15:return e=dl(e.type,!1),e;case 11:return e=dl(e.type.render,!1),e;case 1:return e=dl(e.type,!0),e;default:return""}}function $l(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ki:return"Fragment";case Yi:return"Portal";case Zl:return"Profiler";case Vu:return"StrictMode";case Fl:return"Suspense";case Hl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lh:return(e.displayName||"Context")+".Consumer";case ah:return(e._context.displayName||"Context")+".Provider";case Wu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gu:return t=e.displayName||null,t!==null?t:$l(e.type)||"Memo";case $n:t=e._payload,e=e._init;try{return $l(e(t))}catch{}}return null}function Gg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $l(t);case 8:return t===Vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ch(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yg(e){var t=ch(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(c){o=""+c,l.call(this,c)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(c){o=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ls(e){e._valueTracker||(e._valueTracker=Yg(e))}function dh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=ch(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Bs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ul(e,t){var i=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ld(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=ri(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fh(e,t){t=t.checked,t!=null&&Uu(e,"checked",t,!1)}function Vl(e,t){fh(e,t);var i=ri(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wl(e,t.type,i):t.hasOwnProperty("defaultValue")&&Wl(e,t.type,ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Td(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Wl(e,t,i){(t!=="number"||Bs(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var eo=Array.isArray;function sr(e,t,i,o){if(e=e.options,t){t={};for(var a=0;a<i.length;a++)t["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=t.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&o&&(e[i].defaultSelected=!0)}else{for(i=""+ri(i),t=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Gl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nd(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(W(92));if(eo(i)){if(1<i.length)throw Error(W(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ri(i)}}function hh(e,t){var i=ri(t.value),o=ri(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function Md(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ph(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ph(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var us,mh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,a){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=us.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function go(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kg=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(e){Kg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),io[t]=io[e]})});function gh(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||io.hasOwnProperty(e)&&io[e]?(""+t).trim():t+"px"}function vh(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,a=gh(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,a):e[i]=a}}var Xg=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kl(e,t){if(t){if(Xg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Xl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ql=null;function Yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ql=null,ar=null,lr=null;function jd(e){if(e=Ao(e)){if(typeof ql!="function")throw Error(W(280));var t=e.stateNode;t&&(t=ma(t),ql(e.stateNode,e.type,t))}}function _h(e){ar?lr?lr.push(e):lr=[e]:ar=e}function yh(){if(ar){var e=ar,t=lr;if(lr=ar=null,jd(e),t)for(e=0;e<t.length;e++)jd(t[e])}}function xh(e,t){return e(t)}function wh(){}var fl=!1;function kh(e,t,i){if(fl)return e(t,i);fl=!0;try{return xh(e,t,i)}finally{fl=!1,(ar!==null||lr!==null)&&(wh(),yh())}}function vo(e,t){var i=e.stateNode;if(i===null)return null;var o=ma(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(W(231,t,typeof i));return i}var Jl=!1;if(jn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{Jl=!1}function Qg(e,t,i,o,a,l,c,p,f){var g=Array.prototype.slice.call(arguments,3);try{t.apply(i,g)}catch(b){this.onError(b)}}var ro=!1,Zs=null,Fs=!1,eu=null,qg={onError:function(e){ro=!0,Zs=e}};function Jg(e,t,i,o,a,l,c,p,f){ro=!1,Zs=null,Qg.apply(qg,arguments)}function ev(e,t,i,o,a,l,c,p,f){if(Jg.apply(this,arguments),ro){if(ro){var g=Zs;ro=!1,Zs=null}else throw Error(W(198));Fs||(Fs=!0,eu=g)}}function zi(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function bh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Od(e){if(zi(e)!==e)throw Error(W(188))}function tv(e){var t=e.alternate;if(!t){if(t=zi(e),t===null)throw Error(W(188));return t!==e?null:e}for(var i=e,o=t;;){var a=i.return;if(a===null)break;var l=a.alternate;if(l===null){if(o=a.return,o!==null){i=o;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===i)return Od(a),e;if(l===o)return Od(a),t;l=l.sibling}throw Error(W(188))}if(i.return!==o.return)i=a,o=l;else{for(var c=!1,p=a.child;p;){if(p===i){c=!0,i=a,o=l;break}if(p===o){c=!0,o=a,i=l;break}p=p.sibling}if(!c){for(p=l.child;p;){if(p===i){c=!0,i=l,o=a;break}if(p===o){c=!0,o=l,i=a;break}p=p.sibling}if(!c)throw Error(W(189))}}if(i.alternate!==o)throw Error(W(190))}if(i.tag!==3)throw Error(W(188));return i.stateNode.current===i?e:t}function Sh(e){return e=tv(e),e!==null?Ch(e):null}function Ch(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ch(e);if(t!==null)return t;e=e.sibling}return null}var Ph=Ft.unstable_scheduleCallback,zd=Ft.unstable_cancelCallback,nv=Ft.unstable_shouldYield,iv=Ft.unstable_requestPaint,Ze=Ft.unstable_now,rv=Ft.unstable_getCurrentPriorityLevel,Ku=Ft.unstable_ImmediatePriority,Eh=Ft.unstable_UserBlockingPriority,Hs=Ft.unstable_NormalPriority,ov=Ft.unstable_LowPriority,Lh=Ft.unstable_IdlePriority,da=null,yn=null;function sv(e){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(da,e,void 0,(e.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:uv,av=Math.log,lv=Math.LN2;function uv(e){return e>>>=0,e===0?32:31-(av(e)/lv|0)|0}var cs=64,ds=4194304;function to(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $s(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,a=e.suspendedLanes,l=e.pingedLanes,c=i&268435455;if(c!==0){var p=c&~a;p!==0?o=to(p):(l&=c,l!==0&&(o=to(l)))}else c=i&~a,c!==0?o=to(c):l!==0&&(o=to(l));if(o===0)return 0;if(t!==0&&t!==o&&!(t&a)&&(a=o&-o,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-ln(t),a=1<<i,o|=e[i],t&=~a;return o}function cv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dv(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var c=31-ln(l),p=1<<c,f=a[c];f===-1?(!(p&i)||p&o)&&(a[c]=cv(p,t)):f<=t&&(e.expiredLanes|=p),l&=~p}}function tu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Th(){var e=cs;return cs<<=1,!(cs&4194240)&&(cs=64),e}function hl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Io(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ln(t),e[t]=i}function fv(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-ln(i),l=1<<a;t[a]=0,o[a]=-1,e[a]=-1,i&=~l}}function Xu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-ln(i),a=1<<o;a&t|e[o]&t&&(e[o]|=t),i&=~a}}var be=0;function Nh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mh,Qu,jh,Oh,zh,nu=!1,fs=[],Xn=null,Qn=null,qn=null,_o=new Map,yo=new Map,Wn=[],hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Id(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":_o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Vr(e,t,i,o,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Ao(t),t!==null&&Qu(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function pv(e,t,i,o,a){switch(t){case"focusin":return Xn=Vr(Xn,e,t,i,o,a),!0;case"dragenter":return Qn=Vr(Qn,e,t,i,o,a),!0;case"mouseover":return qn=Vr(qn,e,t,i,o,a),!0;case"pointerover":var l=a.pointerId;return _o.set(l,Vr(_o.get(l)||null,e,t,i,o,a)),!0;case"gotpointercapture":return l=a.pointerId,yo.set(l,Vr(yo.get(l)||null,e,t,i,o,a)),!0}return!1}function Ih(e){var t=ki(e.target);if(t!==null){var i=zi(t);if(i!==null){if(t=i.tag,t===13){if(t=bh(i),t!==null){e.blockedOn=t,zh(e.priority,function(){jh(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=iu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Ql=o,i.target.dispatchEvent(o),Ql=null}else return t=Ao(i),t!==null&&Qu(t),e.blockedOn=i,!1;t.shift()}return!0}function Rd(e,t,i){Ls(e)&&i.delete(t)}function mv(){nu=!1,Xn!==null&&Ls(Xn)&&(Xn=null),Qn!==null&&Ls(Qn)&&(Qn=null),qn!==null&&Ls(qn)&&(qn=null),_o.forEach(Rd),yo.forEach(Rd)}function Wr(e,t){e.blockedOn===t&&(e.blockedOn=null,nu||(nu=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,mv)))}function xo(e){function t(a){return Wr(a,e)}if(0<fs.length){Wr(fs[0],e);for(var i=1;i<fs.length;i++){var o=fs[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Xn!==null&&Wr(Xn,e),Qn!==null&&Wr(Qn,e),qn!==null&&Wr(qn,e),_o.forEach(t),yo.forEach(t),i=0;i<Wn.length;i++)o=Wn[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<Wn.length&&(i=Wn[0],i.blockedOn===null);)Ih(i),i.blockedOn===null&&Wn.shift()}var ur=Rn.ReactCurrentBatchConfig,Us=!0;function gv(e,t,i,o){var a=be,l=ur.transition;ur.transition=null;try{be=1,qu(e,t,i,o)}finally{be=a,ur.transition=l}}function vv(e,t,i,o){var a=be,l=ur.transition;ur.transition=null;try{be=4,qu(e,t,i,o)}finally{be=a,ur.transition=l}}function qu(e,t,i,o){if(Us){var a=iu(e,t,i,o);if(a===null)bl(e,t,o,Vs,i),Id(e,o);else if(pv(a,e,t,i,o))o.stopPropagation();else if(Id(e,o),t&4&&-1<hv.indexOf(e)){for(;a!==null;){var l=Ao(a);if(l!==null&&Mh(l),l=iu(e,t,i,o),l===null&&bl(e,t,o,Vs,i),l===a)break;a=l}a!==null&&o.stopPropagation()}else bl(e,t,o,null,i)}}var Vs=null;function iu(e,t,i,o){if(Vs=null,e=Yu(o),e=ki(e),e!==null)if(t=zi(e),t===null)e=null;else if(i=t.tag,i===13){if(e=bh(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vs=e,null}function Rh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rv()){case Ku:return 1;case Eh:return 4;case Hs:case ov:return 16;case Lh:return 536870912;default:return 16}default:return 16}}var Yn=null,Ju=null,Ts=null;function Ah(){if(Ts)return Ts;var e,t=Ju,i=t.length,o,a="value"in Yn?Yn.value:Yn.textContent,l=a.length;for(e=0;e<i&&t[e]===a[e];e++);var c=i-e;for(o=1;o<=c&&t[i-o]===a[l-o];o++);return Ts=a.slice(e,1<o?1-o:void 0)}function Ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hs(){return!0}function Ad(){return!1}function $t(e){function t(i,o,a,l,c){this._reactName=i,this._targetInst=a,this.type=o,this.nativeEvent=l,this.target=c,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(l):l[p]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?hs:Ad,this.isPropagationStopped=Ad,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),t}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=$t(kr),Ro=Re({},kr,{view:0,detail:0}),_v=$t(Ro),pl,ml,Gr,fa=Re({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gr&&(Gr&&e.type==="mousemove"?(pl=e.screenX-Gr.screenX,ml=e.screenY-Gr.screenY):ml=pl=0,Gr=e),pl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),Dd=$t(fa),yv=Re({},fa,{dataTransfer:0}),xv=$t(yv),wv=Re({},Ro,{relatedTarget:0}),gl=$t(wv),kv=Re({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),bv=$t(kv),Sv=Re({},kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cv=$t(Sv),Pv=Re({},kr,{data:0}),Bd=$t(Pv),Ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tv[e])?!!t[e]:!1}function tc(){return Nv}var Mv=Re({},Ro,{key:function(e){if(e.key){var t=Ev[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jv=$t(Mv),Ov=Re({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=$t(Ov),zv=Re({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),Iv=$t(zv),Rv=Re({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Av=$t(Rv),Dv=Re({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bv=$t(Dv),Zv=[9,13,27,32],nc=jn&&"CompositionEvent"in window,oo=null;jn&&"documentMode"in document&&(oo=document.documentMode);var Fv=jn&&"TextEvent"in window&&!oo,Dh=jn&&(!nc||oo&&8<oo&&11>=oo),Fd=" ",Hd=!1;function Bh(e,t){switch(e){case"keyup":return Zv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xi=!1;function Hv(e,t){switch(e){case"compositionend":return Zh(t);case"keypress":return t.which!==32?null:(Hd=!0,Fd);case"textInput":return e=t.data,e===Fd&&Hd?null:e;default:return null}}function $v(e,t){if(Xi)return e==="compositionend"||!nc&&Bh(e,t)?(e=Ah(),Ts=Ju=Yn=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dh&&t.locale!=="ko"?null:t.data;default:return null}}var Uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uv[e.type]:t==="textarea"}function Fh(e,t,i,o){_h(o),t=Ws(t,"onChange"),0<t.length&&(i=new ec("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var so=null,wo=null;function Vv(e){qh(e,0)}function ha(e){var t=Ji(e);if(dh(t))return e}function Wv(e,t){if(e==="change")return t}var Hh=!1;if(jn){var vl;if(jn){var _l="oninput"in document;if(!_l){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),_l=typeof Ud.oninput=="function"}vl=_l}else vl=!1;Hh=vl&&(!document.documentMode||9<document.documentMode)}function Vd(){so&&(so.detachEvent("onpropertychange",$h),wo=so=null)}function $h(e){if(e.propertyName==="value"&&ha(wo)){var t=[];Fh(t,wo,e,Yu(e)),kh(Vv,t)}}function Gv(e,t,i){e==="focusin"?(Vd(),so=t,wo=i,so.attachEvent("onpropertychange",$h)):e==="focusout"&&Vd()}function Yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ha(wo)}function Kv(e,t){if(e==="click")return ha(t)}function Xv(e,t){if(e==="input"||e==="change")return ha(t)}function Qv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:Qv;function ko(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var a=i[o];if(!Bl.call(t,a)||!cn(e[a],t[a]))return!1}return!0}function Wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gd(e,t){var i=Wd(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Wd(i)}}function Uh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vh(){for(var e=window,t=Bs();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Bs(e.document)}return t}function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qv(e){var t=Vh(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Uh(i.ownerDocument.documentElement,i)){if(o!==null&&ic(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,l=Math.min(o.start,a);o=o.end===void 0?l:Math.min(o.end,a),!e.extend&&l>o&&(a=o,o=l,l=a),a=Gd(i,l);var c=Gd(i,o);a&&c&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>o?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jv=jn&&"documentMode"in document&&11>=document.documentMode,Qi=null,ru=null,ao=null,ou=!1;function Yd(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ou||Qi==null||Qi!==Bs(o)||(o=Qi,"selectionStart"in o&&ic(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ao&&ko(ao,o)||(ao=o,o=Ws(ru,"onSelect"),0<o.length&&(t=new ec("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Qi)))}function ps(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var qi={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionend:ps("Transition","TransitionEnd")},yl={},Wh={};jn&&(Wh=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function pa(e){if(yl[e])return yl[e];if(!qi[e])return e;var t=qi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Wh)return yl[e]=t[i];return e}var Gh=pa("animationend"),Yh=pa("animationiteration"),Kh=pa("animationstart"),Xh=pa("transitionend"),Qh=new Map,Kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(e,t){Qh.set(e,t),Oi(t,[e])}for(var xl=0;xl<Kd.length;xl++){var wl=Kd[xl],e_=wl.toLowerCase(),t_=wl[0].toUpperCase()+wl.slice(1);si(e_,"on"+t_)}si(Gh,"onAnimationEnd");si(Yh,"onAnimationIteration");si(Kh,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(Xh,"onTransitionEnd");hr("onMouseEnter",["mouseout","mouseover"]);hr("onMouseLeave",["mouseout","mouseover"]);hr("onPointerEnter",["pointerout","pointerover"]);hr("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n_=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function Xd(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,ev(o,t,void 0,e),e.currentTarget=null}function qh(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],a=o.event;o=o.listeners;e:{var l=void 0;if(t)for(var c=o.length-1;0<=c;c--){var p=o[c],f=p.instance,g=p.currentTarget;if(p=p.listener,f!==l&&a.isPropagationStopped())break e;Xd(a,p,g),l=f}else for(c=0;c<o.length;c++){if(p=o[c],f=p.instance,g=p.currentTarget,p=p.listener,f!==l&&a.isPropagationStopped())break e;Xd(a,p,g),l=f}}}if(Fs)throw e=eu,Fs=!1,eu=null,e}function Ne(e,t){var i=t[cu];i===void 0&&(i=t[cu]=new Set);var o=e+"__bubble";i.has(o)||(Jh(t,e,2,!1),i.add(o))}function kl(e,t,i){var o=0;t&&(o|=4),Jh(i,e,o,t)}var ms="_reactListening"+Math.random().toString(36).slice(2);function bo(e){if(!e[ms]){e[ms]=!0,sh.forEach(function(i){i!=="selectionchange"&&(n_.has(i)||kl(i,!1,e),kl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ms]||(t[ms]=!0,kl("selectionchange",!1,t))}}function Jh(e,t,i,o){switch(Rh(t)){case 1:var a=gv;break;case 4:a=vv;break;default:a=qu}i=a.bind(null,t,i,e),a=void 0,!Jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(t,i,{capture:!0,passive:a}):e.addEventListener(t,i,!0):a!==void 0?e.addEventListener(t,i,{passive:a}):e.addEventListener(t,i,!1)}function bl(e,t,i,o,a){var l=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var c=o.tag;if(c===3||c===4){var p=o.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(c===4)for(c=o.return;c!==null;){var f=c.tag;if((f===3||f===4)&&(f=c.stateNode.containerInfo,f===a||f.nodeType===8&&f.parentNode===a))return;c=c.return}for(;p!==null;){if(c=ki(p),c===null)return;if(f=c.tag,f===5||f===6){o=l=c;continue e}p=p.parentNode}}o=o.return}kh(function(){var g=l,b=Yu(i),x=[];e:{var w=Qh.get(e);if(w!==void 0){var N=ec,I=e;switch(e){case"keypress":if(Ns(i)===0)break e;case"keydown":case"keyup":N=jv;break;case"focusin":I="focus",N=gl;break;case"focusout":I="blur",N=gl;break;case"beforeblur":case"afterblur":N=gl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=xv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Iv;break;case Gh:case Yh:case Kh:N=bv;break;case Xh:N=Av;break;case"scroll":N=_v;break;case"wheel":N=Bv;break;case"copy":case"cut":case"paste":N=Cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Zd}var M=(t&4)!==0,te=!M&&e==="scroll",y=M?w!==null?w+"Capture":null:w;M=[];for(var v=g,k;v!==null;){k=v;var O=k.stateNode;if(k.tag===5&&O!==null&&(k=O,y!==null&&(O=vo(v,y),O!=null&&M.push(So(v,O,k)))),te)break;v=v.return}0<M.length&&(w=new N(w,I,null,i,b),x.push({event:w,listeners:M}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",w&&i!==Ql&&(I=i.relatedTarget||i.fromElement)&&(ki(I)||I[On]))break e;if((N||w)&&(w=b.window===b?b:(w=b.ownerDocument)?w.defaultView||w.parentWindow:window,N?(I=i.relatedTarget||i.toElement,N=g,I=I?ki(I):null,I!==null&&(te=zi(I),I!==te||I.tag!==5&&I.tag!==6)&&(I=null)):(N=null,I=g),N!==I)){if(M=Dd,O="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(M=Zd,O="onPointerLeave",y="onPointerEnter",v="pointer"),te=N==null?w:Ji(N),k=I==null?w:Ji(I),w=new M(O,v+"leave",N,i,b),w.target=te,w.relatedTarget=k,O=null,ki(b)===g&&(M=new M(y,v+"enter",I,i,b),M.target=k,M.relatedTarget=te,O=M),te=O,N&&I)t:{for(M=N,y=I,v=0,k=M;k;k=Wi(k))v++;for(k=0,O=y;O;O=Wi(O))k++;for(;0<v-k;)M=Wi(M),v--;for(;0<k-v;)y=Wi(y),k--;for(;v--;){if(M===y||y!==null&&M===y.alternate)break t;M=Wi(M),y=Wi(y)}M=null}else M=null;N!==null&&Qd(x,w,N,M,!1),I!==null&&te!==null&&Qd(x,te,I,M,!0)}}e:{if(w=g?Ji(g):window,N=w.nodeName&&w.nodeName.toLowerCase(),N==="select"||N==="input"&&w.type==="file")var H=Wv;else if($d(w))if(Hh)H=Xv;else{H=Yv;var G=Gv}else(N=w.nodeName)&&N.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(H=Kv);if(H&&(H=H(e,g))){Fh(x,H,i,b);break e}G&&G(e,w,g),e==="focusout"&&(G=w._wrapperState)&&G.controlled&&w.type==="number"&&Wl(w,"number",w.value)}switch(G=g?Ji(g):window,e){case"focusin":($d(G)||G.contentEditable==="true")&&(Qi=G,ru=g,ao=null);break;case"focusout":ao=ru=Qi=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,Yd(x,i,b);break;case"selectionchange":if(Jv)break;case"keydown":case"keyup":Yd(x,i,b)}var $;if(nc)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Xi?Bh(e,i)&&(D="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(D="onCompositionStart");D&&(Dh&&i.locale!=="ko"&&(Xi||D!=="onCompositionStart"?D==="onCompositionEnd"&&Xi&&($=Ah()):(Yn=b,Ju="value"in Yn?Yn.value:Yn.textContent,Xi=!0)),G=Ws(g,D),0<G.length&&(D=new Bd(D,e,null,i,b),x.push({event:D,listeners:G}),$?D.data=$:($=Zh(i),$!==null&&(D.data=$)))),($=Fv?Hv(e,i):$v(e,i))&&(g=Ws(g,"onBeforeInput"),0<g.length&&(b=new Bd("onBeforeInput","beforeinput",null,i,b),x.push({event:b,listeners:g}),b.data=$))}qh(x,t)})}function So(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ws(e,t){for(var i=t+"Capture",o=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=vo(e,i),l!=null&&o.unshift(So(e,l,a)),l=vo(e,t),l!=null&&o.push(So(e,l,a))),e=e.return}return o}function Wi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qd(e,t,i,o,a){for(var l=t._reactName,c=[];i!==null&&i!==o;){var p=i,f=p.alternate,g=p.stateNode;if(f!==null&&f===o)break;p.tag===5&&g!==null&&(p=g,a?(f=vo(i,l),f!=null&&c.unshift(So(i,f,p))):a||(f=vo(i,l),f!=null&&c.push(So(i,f,p)))),i=i.return}c.length!==0&&e.push({event:t,listeners:c})}var i_=/\r\n?/g,r_=/\u0000|\uFFFD/g;function qd(e){return(typeof e=="string"?e:""+e).replace(i_,`
`).replace(r_,"")}function gs(e,t,i){if(t=qd(t),qd(e)!==t&&i)throw Error(W(425))}function Gs(){}var su=null,au=null;function lu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uu=typeof setTimeout=="function"?setTimeout:void 0,o_=typeof clearTimeout=="function"?clearTimeout:void 0,Jd=typeof Promise=="function"?Promise:void 0,s_=typeof queueMicrotask=="function"?queueMicrotask:typeof Jd<"u"?function(e){return Jd.resolve(null).then(e).catch(a_)}:uu;function a_(e){setTimeout(function(){throw e})}function Sl(e,t){var i=t,o=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(o===0){e.removeChild(a),xo(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=a}while(i);xo(t)}function Jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ef(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var br=Math.random().toString(36).slice(2),_n="__reactFiber$"+br,Co="__reactProps$"+br,On="__reactContainer$"+br,cu="__reactEvents$"+br,l_="__reactListeners$"+br,u_="__reactHandles$"+br;function ki(e){var t=e[_n];if(t)return t;for(var i=e.parentNode;i;){if(t=i[On]||i[_n]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ef(e);e!==null;){if(i=e[_n])return i;e=ef(e)}return t}e=i,i=e.parentNode}return null}function Ao(e){return e=e[_n]||e[On],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function ma(e){return e[Co]||null}var du=[],er=-1;function ai(e){return{current:e}}function Me(e){0>er||(e.current=du[er],du[er]=null,er--)}function Ee(e,t){er++,du[er]=e.current,e.current=t}var oi={},ht=ai(oi),Lt=ai(!1),Li=oi;function pr(e,t){var i=e.type.contextTypes;if(!i)return oi;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in i)a[l]=t[l];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Tt(e){return e=e.childContextTypes,e!=null}function Ys(){Me(Lt),Me(ht)}function tf(e,t,i){if(ht.current!==oi)throw Error(W(168));Ee(ht,t),Ee(Lt,i)}function ep(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var a in o)if(!(a in t))throw Error(W(108,Gg(e)||"Unknown",a));return Re({},i,o)}function Ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oi,Li=ht.current,Ee(ht,e),Ee(Lt,Lt.current),!0}function nf(e,t,i){var o=e.stateNode;if(!o)throw Error(W(169));i?(e=ep(e,t,Li),o.__reactInternalMemoizedMergedChildContext=e,Me(Lt),Me(ht),Ee(ht,e)):Me(Lt),Ee(Lt,i)}var Ln=null,ga=!1,Cl=!1;function tp(e){Ln===null?Ln=[e]:Ln.push(e)}function c_(e){ga=!0,tp(e)}function li(){if(!Cl&&Ln!==null){Cl=!0;var e=0,t=be;try{var i=Ln;for(be=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Ln=null,ga=!1}catch(a){throw Ln!==null&&(Ln=Ln.slice(e+1)),Ph(Ku,li),a}finally{be=t,Cl=!1}}return null}var tr=[],nr=0,Xs=null,Qs=0,Wt=[],Gt=0,Ti=null,Tn=1,Nn="";function xi(e,t){tr[nr++]=Qs,tr[nr++]=Xs,Xs=e,Qs=t}function np(e,t,i){Wt[Gt++]=Tn,Wt[Gt++]=Nn,Wt[Gt++]=Ti,Ti=e;var o=Tn;e=Nn;var a=32-ln(o)-1;o&=~(1<<a),i+=1;var l=32-ln(t)+a;if(30<l){var c=a-a%5;l=(o&(1<<c)-1).toString(32),o>>=c,a-=c,Tn=1<<32-ln(t)+a|i<<a|o,Nn=l+e}else Tn=1<<l|i<<a|o,Nn=e}function rc(e){e.return!==null&&(xi(e,1),np(e,1,0))}function oc(e){for(;e===Xs;)Xs=tr[--nr],tr[nr]=null,Qs=tr[--nr],tr[nr]=null;for(;e===Ti;)Ti=Wt[--Gt],Wt[Gt]=null,Nn=Wt[--Gt],Wt[Gt]=null,Tn=Wt[--Gt],Wt[Gt]=null}var Zt=null,Bt=null,je=!1,an=null;function ip(e,t){var i=Yt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function rf(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zt=e,Bt=Jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zt=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Ti!==null?{id:Tn,overflow:Nn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Yt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Zt=e,Bt=null,!0):!1;default:return!1}}function fu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hu(e){if(je){var t=Bt;if(t){var i=t;if(!rf(e,t)){if(fu(e))throw Error(W(418));t=Jn(i.nextSibling);var o=Zt;t&&rf(e,t)?ip(o,i):(e.flags=e.flags&-4097|2,je=!1,Zt=e)}}else{if(fu(e))throw Error(W(418));e.flags=e.flags&-4097|2,je=!1,Zt=e}}}function of(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function vs(e){if(e!==Zt)return!1;if(!je)return of(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lu(e.type,e.memoizedProps)),t&&(t=Bt)){if(fu(e))throw rp(),Error(W(418));for(;t;)ip(e,t),t=Jn(t.nextSibling)}if(of(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Bt=Jn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=Zt?Jn(e.stateNode.nextSibling):null;return!0}function rp(){for(var e=Bt;e;)e=Jn(e.nextSibling)}function mr(){Bt=Zt=null,je=!1}function sc(e){an===null?an=[e]:an.push(e)}var d_=Rn.ReactCurrentBatchConfig;function Yr(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(W(309));var o=i.stateNode}if(!o)throw Error(W(147,e));var a=o,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(c){var p=a.refs;c===null?delete p[l]:p[l]=c},t._stringRef=l,t)}if(typeof e!="string")throw Error(W(284));if(!i._owner)throw Error(W(290,e))}return e}function _s(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sf(e){var t=e._init;return t(e._payload)}function op(e){function t(y,v){if(e){var k=y.deletions;k===null?(y.deletions=[v],y.flags|=16):k.push(v)}}function i(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function o(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=ii(y,v),y.index=0,y.sibling=null,y}function l(y,v,k){return y.index=k,e?(k=y.alternate,k!==null?(k=k.index,k<v?(y.flags|=2,v):k):(y.flags|=2,v)):(y.flags|=1048576,v)}function c(y){return e&&y.alternate===null&&(y.flags|=2),y}function p(y,v,k,O){return v===null||v.tag!==6?(v=jl(k,y.mode,O),v.return=y,v):(v=a(v,k),v.return=y,v)}function f(y,v,k,O){var H=k.type;return H===Ki?b(y,v,k.props.children,O,k.key):v!==null&&(v.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===$n&&sf(H)===v.type)?(O=a(v,k.props),O.ref=Yr(y,v,k),O.return=y,O):(O=As(k.type,k.key,k.props,null,y.mode,O),O.ref=Yr(y,v,k),O.return=y,O)}function g(y,v,k,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==k.containerInfo||v.stateNode.implementation!==k.implementation?(v=Ol(k,y.mode,O),v.return=y,v):(v=a(v,k.children||[]),v.return=y,v)}function b(y,v,k,O,H){return v===null||v.tag!==7?(v=Ei(k,y.mode,O,H),v.return=y,v):(v=a(v,k),v.return=y,v)}function x(y,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return v=jl(""+v,y.mode,k),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case as:return k=As(v.type,v.key,v.props,null,y.mode,k),k.ref=Yr(y,null,v),k.return=y,k;case Yi:return v=Ol(v,y.mode,k),v.return=y,v;case $n:var O=v._init;return x(y,O(v._payload),k)}if(eo(v)||$r(v))return v=Ei(v,y.mode,k,null),v.return=y,v;_s(y,v)}return null}function w(y,v,k,O){var H=v!==null?v.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return H!==null?null:p(y,v,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case as:return k.key===H?f(y,v,k,O):null;case Yi:return k.key===H?g(y,v,k,O):null;case $n:return H=k._init,w(y,v,H(k._payload),O)}if(eo(k)||$r(k))return H!==null?null:b(y,v,k,O,null);_s(y,k)}return null}function N(y,v,k,O,H){if(typeof O=="string"&&O!==""||typeof O=="number")return y=y.get(k)||null,p(v,y,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case as:return y=y.get(O.key===null?k:O.key)||null,f(v,y,O,H);case Yi:return y=y.get(O.key===null?k:O.key)||null,g(v,y,O,H);case $n:var G=O._init;return N(y,v,k,G(O._payload),H)}if(eo(O)||$r(O))return y=y.get(k)||null,b(v,y,O,H,null);_s(v,O)}return null}function I(y,v,k,O){for(var H=null,G=null,$=v,D=v=0,z=null;$!==null&&D<k.length;D++){$.index>D?(z=$,$=null):z=$.sibling;var R=w(y,$,k[D],O);if(R===null){$===null&&($=z);break}e&&$&&R.alternate===null&&t(y,$),v=l(R,v,D),G===null?H=R:G.sibling=R,G=R,$=z}if(D===k.length)return i(y,$),je&&xi(y,D),H;if($===null){for(;D<k.length;D++)$=x(y,k[D],O),$!==null&&(v=l($,v,D),G===null?H=$:G.sibling=$,G=$);return je&&xi(y,D),H}for($=o(y,$);D<k.length;D++)z=N($,y,D,k[D],O),z!==null&&(e&&z.alternate!==null&&$.delete(z.key===null?D:z.key),v=l(z,v,D),G===null?H=z:G.sibling=z,G=z);return e&&$.forEach(function(Z){return t(y,Z)}),je&&xi(y,D),H}function M(y,v,k,O){var H=$r(k);if(typeof H!="function")throw Error(W(150));if(k=H.call(k),k==null)throw Error(W(151));for(var G=H=null,$=v,D=v=0,z=null,R=k.next();$!==null&&!R.done;D++,R=k.next()){$.index>D?(z=$,$=null):z=$.sibling;var Z=w(y,$,R.value,O);if(Z===null){$===null&&($=z);break}e&&$&&Z.alternate===null&&t(y,$),v=l(Z,v,D),G===null?H=Z:G.sibling=Z,G=Z,$=z}if(R.done)return i(y,$),je&&xi(y,D),H;if($===null){for(;!R.done;D++,R=k.next())R=x(y,R.value,O),R!==null&&(v=l(R,v,D),G===null?H=R:G.sibling=R,G=R);return je&&xi(y,D),H}for($=o(y,$);!R.done;D++,R=k.next())R=N($,y,D,R.value,O),R!==null&&(e&&R.alternate!==null&&$.delete(R.key===null?D:R.key),v=l(R,v,D),G===null?H=R:G.sibling=R,G=R);return e&&$.forEach(function(X){return t(y,X)}),je&&xi(y,D),H}function te(y,v,k,O){if(typeof k=="object"&&k!==null&&k.type===Ki&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case as:e:{for(var H=k.key,G=v;G!==null;){if(G.key===H){if(H=k.type,H===Ki){if(G.tag===7){i(y,G.sibling),v=a(G,k.props.children),v.return=y,y=v;break e}}else if(G.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===$n&&sf(H)===G.type){i(y,G.sibling),v=a(G,k.props),v.ref=Yr(y,G,k),v.return=y,y=v;break e}i(y,G);break}else t(y,G);G=G.sibling}k.type===Ki?(v=Ei(k.props.children,y.mode,O,k.key),v.return=y,y=v):(O=As(k.type,k.key,k.props,null,y.mode,O),O.ref=Yr(y,v,k),O.return=y,y=O)}return c(y);case Yi:e:{for(G=k.key;v!==null;){if(v.key===G)if(v.tag===4&&v.stateNode.containerInfo===k.containerInfo&&v.stateNode.implementation===k.implementation){i(y,v.sibling),v=a(v,k.children||[]),v.return=y,y=v;break e}else{i(y,v);break}else t(y,v);v=v.sibling}v=Ol(k,y.mode,O),v.return=y,y=v}return c(y);case $n:return G=k._init,te(y,v,G(k._payload),O)}if(eo(k))return I(y,v,k,O);if($r(k))return M(y,v,k,O);_s(y,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,v!==null&&v.tag===6?(i(y,v.sibling),v=a(v,k),v.return=y,y=v):(i(y,v),v=jl(k,y.mode,O),v.return=y,y=v),c(y)):i(y,v)}return te}var gr=op(!0),sp=op(!1),qs=ai(null),Js=null,ir=null,ac=null;function lc(){ac=ir=Js=null}function uc(e){var t=qs.current;Me(qs),e._currentValue=t}function pu(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function cr(e,t){Js=e,ac=ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Et=!0),e.firstContext=null)}function Xt(e){var t=e._currentValue;if(ac!==e)if(e={context:e,memoizedValue:t,next:null},ir===null){if(Js===null)throw Error(W(308));ir=e,Js.dependencies={lanes:0,firstContext:e}}else ir=ir.next=e;return t}var bi=null;function cc(e){bi===null?bi=[e]:bi.push(e)}function ap(e,t,i,o){var a=t.interleaved;return a===null?(i.next=i,cc(t)):(i.next=a.next,a.next=i),t.interleaved=i,zn(e,o)}function zn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Un=!1;function dc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ei(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,we&2){var a=o.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),o.pending=t,zn(e,i)}return a=o.interleaved,a===null?(t.next=t,cc(o)):(t.next=a.next,a.next=t),o.interleaved=t,zn(e,i)}function Ms(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Xu(e,i)}}function af(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var a=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var c={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?a=l=c:l=l.next=c,i=i.next}while(i!==null);l===null?a=l=t:l=l.next=t}else a=l=t;i={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ea(e,t,i,o){var a=e.updateQueue;Un=!1;var l=a.firstBaseUpdate,c=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var f=p,g=f.next;f.next=null,c===null?l=g:c.next=g,c=f;var b=e.alternate;b!==null&&(b=b.updateQueue,p=b.lastBaseUpdate,p!==c&&(p===null?b.firstBaseUpdate=g:p.next=g,b.lastBaseUpdate=f))}if(l!==null){var x=a.baseState;c=0,b=g=f=null,p=l;do{var w=p.lane,N=p.eventTime;if((o&w)===w){b!==null&&(b=b.next={eventTime:N,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var I=e,M=p;switch(w=t,N=i,M.tag){case 1:if(I=M.payload,typeof I=="function"){x=I.call(N,x,w);break e}x=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=M.payload,w=typeof I=="function"?I.call(N,x,w):I,w==null)break e;x=Re({},x,w);break e;case 2:Un=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,w=a.effects,w===null?a.effects=[p]:w.push(p))}else N={eventTime:N,lane:w,tag:p.tag,payload:p.payload,callback:p.callback,next:null},b===null?(g=b=N,f=x):b=b.next=N,c|=w;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;w=p,p=w.next,w.next=null,a.lastBaseUpdate=w,a.shared.pending=null}}while(!0);if(b===null&&(f=x),a.baseState=f,a.firstBaseUpdate=g,a.lastBaseUpdate=b,t=a.shared.interleaved,t!==null){a=t;do c|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Mi|=c,e.lanes=c,e.memoizedState=x}}function lf(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],a=o.callback;if(a!==null){if(o.callback=null,o=i,typeof a!="function")throw Error(W(191,a));a.call(o)}}}var Do={},xn=ai(Do),Po=ai(Do),Eo=ai(Do);function Si(e){if(e===Do)throw Error(W(174));return e}function fc(e,t){switch(Ee(Eo,t),Ee(Po,e),Ee(xn,Do),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yl(t,e)}Me(xn),Ee(xn,t)}function vr(){Me(xn),Me(Po),Me(Eo)}function up(e){Si(Eo.current);var t=Si(xn.current),i=Yl(t,e.type);t!==i&&(Ee(Po,e),Ee(xn,i))}function hc(e){Po.current===e&&(Me(xn),Me(Po))}var ze=ai(0);function ta(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pl=[];function pc(){for(var e=0;e<Pl.length;e++)Pl[e]._workInProgressVersionPrimary=null;Pl.length=0}var js=Rn.ReactCurrentDispatcher,El=Rn.ReactCurrentBatchConfig,Ni=0,Ie=null,Xe=null,tt=null,na=!1,lo=!1,Lo=0,f_=0;function ct(){throw Error(W(321))}function mc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!cn(e[i],t[i]))return!1;return!0}function gc(e,t,i,o,a,l){if(Ni=l,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,js.current=e===null||e.memoizedState===null?g_:v_,e=i(o,a),lo){l=0;do{if(lo=!1,Lo=0,25<=l)throw Error(W(301));l+=1,tt=Xe=null,t.updateQueue=null,js.current=__,e=i(o,a)}while(lo)}if(js.current=ia,t=Xe!==null&&Xe.next!==null,Ni=0,tt=Xe=Ie=null,na=!1,t)throw Error(W(300));return e}function vc(){var e=Lo!==0;return Lo=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ie.memoizedState=tt=e:tt=tt.next=e,tt}function Qt(){if(Xe===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=tt===null?Ie.memoizedState:tt.next;if(t!==null)tt=t,Xe=e;else{if(e===null)throw Error(W(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},tt===null?Ie.memoizedState=tt=e:tt=tt.next=e}return tt}function To(e,t){return typeof t=="function"?t(e):t}function Ll(e){var t=Qt(),i=t.queue;if(i===null)throw Error(W(311));i.lastRenderedReducer=e;var o=Xe,a=o.baseQueue,l=i.pending;if(l!==null){if(a!==null){var c=a.next;a.next=l.next,l.next=c}o.baseQueue=a=l,i.pending=null}if(a!==null){l=a.next,o=o.baseState;var p=c=null,f=null,g=l;do{var b=g.lane;if((Ni&b)===b)f!==null&&(f=f.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),o=g.hasEagerState?g.eagerState:e(o,g.action);else{var x={lane:b,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};f===null?(p=f=x,c=o):f=f.next=x,Ie.lanes|=b,Mi|=b}g=g.next}while(g!==null&&g!==l);f===null?c=o:f.next=p,cn(o,t.memoizedState)||(Et=!0),t.memoizedState=o,t.baseState=c,t.baseQueue=f,i.lastRenderedState=o}if(e=i.interleaved,e!==null){a=e;do l=a.lane,Ie.lanes|=l,Mi|=l,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Tl(e){var t=Qt(),i=t.queue;if(i===null)throw Error(W(311));i.lastRenderedReducer=e;var o=i.dispatch,a=i.pending,l=t.memoizedState;if(a!==null){i.pending=null;var c=a=a.next;do l=e(l,c.action),c=c.next;while(c!==a);cn(l,t.memoizedState)||(Et=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),i.lastRenderedState=l}return[l,o]}function cp(){}function dp(e,t){var i=Ie,o=Qt(),a=t(),l=!cn(o.memoizedState,a);if(l&&(o.memoizedState=a,Et=!0),o=o.queue,_c(pp.bind(null,i,o,e),[e]),o.getSnapshot!==t||l||tt!==null&&tt.memoizedState.tag&1){if(i.flags|=2048,No(9,hp.bind(null,i,o,a,t),void 0,null),nt===null)throw Error(W(349));Ni&30||fp(i,t,a)}return a}function fp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function hp(e,t,i,o){t.value=i,t.getSnapshot=o,mp(t)&&gp(e)}function pp(e,t,i){return i(function(){mp(t)&&gp(e)})}function mp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!cn(e,i)}catch{return!0}}function gp(e){var t=zn(e,1);t!==null&&un(t,e,1,-1)}function uf(e){var t=vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=m_.bind(null,Ie,e),[t.memoizedState,e]}function No(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function vp(){return Qt().memoizedState}function Os(e,t,i,o){var a=vn();Ie.flags|=e,a.memoizedState=No(1|t,i,void 0,o===void 0?null:o)}function va(e,t,i,o){var a=Qt();o=o===void 0?null:o;var l=void 0;if(Xe!==null){var c=Xe.memoizedState;if(l=c.destroy,o!==null&&mc(o,c.deps)){a.memoizedState=No(t,i,l,o);return}}Ie.flags|=e,a.memoizedState=No(1|t,i,l,o)}function cf(e,t){return Os(8390656,8,e,t)}function _c(e,t){return va(2048,8,e,t)}function _p(e,t){return va(4,2,e,t)}function yp(e,t){return va(4,4,e,t)}function xp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wp(e,t,i){return i=i!=null?i.concat([e]):null,va(4,4,xp.bind(null,t,e),i)}function yc(){}function kp(e,t){var i=Qt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&mc(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function bp(e,t){var i=Qt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&mc(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function Sp(e,t,i){return Ni&21?(cn(i,t)||(i=Th(),Ie.lanes|=i,Mi|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Et=!0),e.memoizedState=i)}function h_(e,t){var i=be;be=i!==0&&4>i?i:4,e(!0);var o=El.transition;El.transition={};try{e(!1),t()}finally{be=i,El.transition=o}}function Cp(){return Qt().memoizedState}function p_(e,t,i){var o=ni(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},Pp(e))Ep(t,i);else if(i=ap(e,t,i,o),i!==null){var a=yt();un(i,e,o,a),Lp(i,t,o)}}function m_(e,t,i){var o=ni(e),a={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(Pp(e))Ep(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var c=t.lastRenderedState,p=l(c,i);if(a.hasEagerState=!0,a.eagerState=p,cn(p,c)){var f=t.interleaved;f===null?(a.next=a,cc(t)):(a.next=f.next,f.next=a),t.interleaved=a;return}}catch{}finally{}i=ap(e,t,a,o),i!==null&&(a=yt(),un(i,e,o,a),Lp(i,t,o))}}function Pp(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function Ep(e,t){lo=na=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Lp(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Xu(e,i)}}var ia={readContext:Xt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},g_={readContext:Xt,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:Xt,useEffect:cf,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Os(4194308,4,xp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var i=vn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=vn();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=p_.bind(null,Ie,e),[o.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:uf,useDebugValue:yc,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=uf(!1),t=e[0];return e=h_.bind(null,e[1]),vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Ie,a=vn();if(je){if(i===void 0)throw Error(W(407));i=i()}else{if(i=t(),nt===null)throw Error(W(349));Ni&30||fp(o,t,i)}a.memoizedState=i;var l={value:i,getSnapshot:t};return a.queue=l,cf(pp.bind(null,o,l,e),[e]),o.flags|=2048,No(9,hp.bind(null,o,l,i,t),void 0,null),i},useId:function(){var e=vn(),t=nt.identifierPrefix;if(je){var i=Nn,o=Tn;i=(o&~(1<<32-ln(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=Lo++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=f_++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},v_={readContext:Xt,useCallback:kp,useContext:Xt,useEffect:_c,useImperativeHandle:wp,useInsertionEffect:_p,useLayoutEffect:yp,useMemo:bp,useReducer:Ll,useRef:vp,useState:function(){return Ll(To)},useDebugValue:yc,useDeferredValue:function(e){var t=Qt();return Sp(t,Xe.memoizedState,e)},useTransition:function(){var e=Ll(To)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:cp,useSyncExternalStore:dp,useId:Cp,unstable_isNewReconciler:!1},__={readContext:Xt,useCallback:kp,useContext:Xt,useEffect:_c,useImperativeHandle:wp,useInsertionEffect:_p,useLayoutEffect:yp,useMemo:bp,useReducer:Tl,useRef:vp,useState:function(){return Tl(To)},useDebugValue:yc,useDeferredValue:function(e){var t=Qt();return Xe===null?t.memoizedState=e:Sp(t,Xe.memoizedState,e)},useTransition:function(){var e=Tl(To)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:cp,useSyncExternalStore:dp,useId:Cp,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function mu(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:Re({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var _a={isMounted:function(e){return(e=e._reactInternals)?zi(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=yt(),a=ni(e),l=Mn(o,a);l.payload=t,i!=null&&(l.callback=i),t=ei(e,l,a),t!==null&&(un(t,e,a,o),Ms(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=yt(),a=ni(e),l=Mn(o,a);l.tag=1,l.payload=t,i!=null&&(l.callback=i),t=ei(e,l,a),t!==null&&(un(t,e,a,o),Ms(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=yt(),o=ni(e),a=Mn(i,o);a.tag=2,t!=null&&(a.callback=t),t=ei(e,a,o),t!==null&&(un(t,e,o,i),Ms(t,e,o))}};function df(e,t,i,o,a,l,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,l,c):t.prototype&&t.prototype.isPureReactComponent?!ko(i,o)||!ko(a,l):!0}function Tp(e,t,i){var o=!1,a=oi,l=t.contextType;return typeof l=="object"&&l!==null?l=Xt(l):(a=Tt(t)?Li:ht.current,o=t.contextTypes,l=(o=o!=null)?pr(e,a):oi),t=new t(i,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_a,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function ff(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&_a.enqueueReplaceState(t,t.state,null)}function gu(e,t,i,o){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},dc(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Xt(l):(l=Tt(t)?Li:ht.current,a.context=pr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(mu(e,t,l,i),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&_a.enqueueReplaceState(a,a.state,null),ea(e,i,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function _r(e,t){try{var i="",o=t;do i+=Wg(o),o=o.return;while(o);var a=i}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Nl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function vu(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var y_=typeof WeakMap=="function"?WeakMap:Map;function Np(e,t,i){i=Mn(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){oa||(oa=!0,Eu=o),vu(e,t)},i}function Mp(e,t,i){i=Mn(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=t.value;i.payload=function(){return o(a)},i.callback=function(){vu(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){vu(e,t),typeof o!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),i}function hf(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new y_;var a=new Set;o.set(t,a)}else a=o.get(t),a===void 0&&(a=new Set,o.set(t,a));a.has(i)||(a.add(i),e=O_.bind(null,e,t,i),t.then(e,e))}function pf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mf(e,t,i,o,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Mn(-1,1),t.tag=2,ei(i,t,1))),i.lanes|=1),e)}var x_=Rn.ReactCurrentOwner,Et=!1;function _t(e,t,i,o){t.child=e===null?sp(t,null,i,o):gr(t,e.child,i,o)}function gf(e,t,i,o,a){i=i.render;var l=t.ref;return cr(t,a),o=gc(e,t,i,o,l,a),i=vc(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,In(e,t,a)):(je&&i&&rc(t),t.flags|=1,_t(e,t,o,a),t.child)}function vf(e,t,i,o,a){if(e===null){var l=i.type;return typeof l=="function"&&!Ec(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=l,jp(e,t,l,o,a)):(e=As(i.type,null,o,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var c=l.memoizedProps;if(i=i.compare,i=i!==null?i:ko,i(c,o)&&e.ref===t.ref)return In(e,t,a)}return t.flags|=1,e=ii(l,o),e.ref=t.ref,e.return=t,t.child=e}function jp(e,t,i,o,a){if(e!==null){var l=e.memoizedProps;if(ko(l,o)&&e.ref===t.ref)if(Et=!1,t.pendingProps=o=l,(e.lanes&a)!==0)e.flags&131072&&(Et=!0);else return t.lanes=e.lanes,In(e,t,a)}return _u(e,t,i,o,a)}function Op(e,t,i){var o=t.pendingProps,a=o.children,l=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(or,Dt),Dt|=i;else{if(!(i&1073741824))return e=l!==null?l.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(or,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=l!==null?l.baseLanes:i,Ee(or,Dt),Dt|=o}else l!==null?(o=l.baseLanes|i,t.memoizedState=null):o=i,Ee(or,Dt),Dt|=o;return _t(e,t,a,i),t.child}function zp(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function _u(e,t,i,o,a){var l=Tt(i)?Li:ht.current;return l=pr(t,l),cr(t,a),i=gc(e,t,i,o,l,a),o=vc(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,In(e,t,a)):(je&&o&&rc(t),t.flags|=1,_t(e,t,i,a),t.child)}function _f(e,t,i,o,a){if(Tt(i)){var l=!0;Ks(t)}else l=!1;if(cr(t,a),t.stateNode===null)zs(e,t),Tp(t,i,o),gu(t,i,o,a),o=!0;else if(e===null){var c=t.stateNode,p=t.memoizedProps;c.props=p;var f=c.context,g=i.contextType;typeof g=="object"&&g!==null?g=Xt(g):(g=Tt(i)?Li:ht.current,g=pr(t,g));var b=i.getDerivedStateFromProps,x=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function";x||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==o||f!==g)&&ff(t,c,o,g),Un=!1;var w=t.memoizedState;c.state=w,ea(t,o,c,a),f=t.memoizedState,p!==o||w!==f||Lt.current||Un?(typeof b=="function"&&(mu(t,i,b,o),f=t.memoizedState),(p=Un||df(t,i,p,o,w,f,g))?(x||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=f),c.props=o,c.state=f,c.context=g,o=p):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{c=t.stateNode,lp(e,t),p=t.memoizedProps,g=t.type===t.elementType?p:on(t.type,p),c.props=g,x=t.pendingProps,w=c.context,f=i.contextType,typeof f=="object"&&f!==null?f=Xt(f):(f=Tt(i)?Li:ht.current,f=pr(t,f));var N=i.getDerivedStateFromProps;(b=typeof N=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==x||w!==f)&&ff(t,c,o,f),Un=!1,w=t.memoizedState,c.state=w,ea(t,o,c,a);var I=t.memoizedState;p!==x||w!==I||Lt.current||Un?(typeof N=="function"&&(mu(t,i,N,o),I=t.memoizedState),(g=Un||df(t,i,g,o,w,I,f)||!1)?(b||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(o,I,f),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(o,I,f)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=I),c.props=o,c.state=I,c.context=f,o=g):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),o=!1)}return yu(e,t,i,o,l,a)}function yu(e,t,i,o,a,l){zp(e,t);var c=(t.flags&128)!==0;if(!o&&!c)return a&&nf(t,i,!1),In(e,t,l);o=t.stateNode,x_.current=t;var p=c&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&c?(t.child=gr(t,e.child,null,l),t.child=gr(t,null,p,l)):_t(e,t,p,l),t.memoizedState=o.state,a&&nf(t,i,!0),t.child}function Ip(e){var t=e.stateNode;t.pendingContext?tf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tf(e,t.context,!1),fc(e,t.containerInfo)}function yf(e,t,i,o,a){return mr(),sc(a),t.flags|=256,_t(e,t,i,o),t.child}var xu={dehydrated:null,treeContext:null,retryLane:0};function wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rp(e,t,i){var o=t.pendingProps,a=ze.current,l=!1,c=(t.flags&128)!==0,p;if((p=c)||(p=e!==null&&e.memoizedState===null?!1:(a&2)!==0),p?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ee(ze,a&1),e===null)return hu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=o.children,e=o.fallback,l?(o=t.mode,l=t.child,c={mode:"hidden",children:c},!(o&1)&&l!==null?(l.childLanes=0,l.pendingProps=c):l=wa(c,o,0,null),e=Ei(e,o,i,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=wu(i),t.memoizedState=xu,e):xc(t,c));if(a=e.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return w_(e,t,c,o,p,a,i);if(l){l=o.fallback,c=t.mode,a=e.child,p=a.sibling;var f={mode:"hidden",children:o.children};return!(c&1)&&t.child!==a?(o=t.child,o.childLanes=0,o.pendingProps=f,t.deletions=null):(o=ii(a,f),o.subtreeFlags=a.subtreeFlags&14680064),p!==null?l=ii(p,l):(l=Ei(l,c,i,null),l.flags|=2),l.return=t,o.return=t,o.sibling=l,t.child=o,o=l,l=t.child,c=e.child.memoizedState,c=c===null?wu(i):{baseLanes:c.baseLanes|i,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=e.childLanes&~i,t.memoizedState=xu,o}return l=e.child,e=l.sibling,o=ii(l,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function xc(e,t){return t=wa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ys(e,t,i,o){return o!==null&&sc(o),gr(t,e.child,null,i),e=xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w_(e,t,i,o,a,l,c){if(i)return t.flags&256?(t.flags&=-257,o=Nl(Error(W(422))),ys(e,t,c,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=o.fallback,a=t.mode,o=wa({mode:"visible",children:o.children},a,0,null),l=Ei(l,a,c,null),l.flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,t.mode&1&&gr(t,e.child,null,c),t.child.memoizedState=wu(c),t.memoizedState=xu,l);if(!(t.mode&1))return ys(e,t,c,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var p=o.dgst;return o=p,l=Error(W(419)),o=Nl(l,o,void 0),ys(e,t,c,o)}if(p=(c&e.childLanes)!==0,Et||p){if(o=nt,o!==null){switch(c&-c){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|c)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,zn(e,a),un(o,e,a,-1))}return Pc(),o=Nl(Error(W(421))),ys(e,t,c,o)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=z_.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Bt=Jn(a.nextSibling),Zt=t,je=!0,an=null,e!==null&&(Wt[Gt++]=Tn,Wt[Gt++]=Nn,Wt[Gt++]=Ti,Tn=e.id,Nn=e.overflow,Ti=t),t=xc(t,o.children),t.flags|=4096,t)}function xf(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),pu(e.return,t,i)}function Ml(e,t,i,o,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=o,l.tail=i,l.tailMode=a)}function Ap(e,t,i){var o=t.pendingProps,a=o.revealOrder,l=o.tail;if(_t(e,t,o.children,i),o=ze.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xf(e,i,t);else if(e.tag===19)xf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ee(ze,o),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(i=t.child,a=null;i!==null;)e=i.alternate,e!==null&&ta(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=t.child,t.child=null):(a=i.sibling,i.sibling=null),Ml(t,!1,a,i,l);break;case"backwards":for(i=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ta(e)===null){t.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}Ml(t,!0,i,null,l);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function In(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Mi|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,i=ii(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ii(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function k_(e,t,i){switch(t.tag){case 3:Ip(t),mr();break;case 5:up(t);break;case 1:Tt(t.type)&&Ks(t);break;case 4:fc(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,a=t.memoizedProps.value;Ee(qs,o._currentValue),o._currentValue=a;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ee(ze,ze.current&1),t.flags|=128,null):i&t.child.childLanes?Rp(e,t,i):(Ee(ze,ze.current&1),e=In(e,t,i),e!==null?e.sibling:null);Ee(ze,ze.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return Ap(e,t,i);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ee(ze,ze.current),o)break;return null;case 22:case 23:return t.lanes=0,Op(e,t,i)}return In(e,t,i)}var Dp,ku,Bp,Zp;Dp=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};ku=function(){};Bp=function(e,t,i,o){var a=e.memoizedProps;if(a!==o){e=t.stateNode,Si(xn.current);var l=null;switch(i){case"input":a=Ul(e,a),o=Ul(e,o),l=[];break;case"select":a=Re({},a,{value:void 0}),o=Re({},o,{value:void 0}),l=[];break;case"textarea":a=Gl(e,a),o=Gl(e,o),l=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Gs)}Kl(i,o);var c;i=null;for(g in a)if(!o.hasOwnProperty(g)&&a.hasOwnProperty(g)&&a[g]!=null)if(g==="style"){var p=a[g];for(c in p)p.hasOwnProperty(c)&&(i||(i={}),i[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(mo.hasOwnProperty(g)?l||(l=[]):(l=l||[]).push(g,null));for(g in o){var f=o[g];if(p=a!=null?a[g]:void 0,o.hasOwnProperty(g)&&f!==p&&(f!=null||p!=null))if(g==="style")if(p){for(c in p)!p.hasOwnProperty(c)||f&&f.hasOwnProperty(c)||(i||(i={}),i[c]="");for(c in f)f.hasOwnProperty(c)&&p[c]!==f[c]&&(i||(i={}),i[c]=f[c])}else i||(l||(l=[]),l.push(g,i)),i=f;else g==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,p=p?p.__html:void 0,f!=null&&p!==f&&(l=l||[]).push(g,f)):g==="children"?typeof f!="string"&&typeof f!="number"||(l=l||[]).push(g,""+f):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(mo.hasOwnProperty(g)?(f!=null&&g==="onScroll"&&Ne("scroll",e),l||p===f||(l=[])):(l=l||[]).push(g,f))}i&&(l=l||[]).push("style",i);var g=l;(t.updateQueue=g)&&(t.flags|=4)}};Zp=function(e,t,i,o){i!==o&&(t.flags|=4)};function Kr(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function b_(e,t,i){var o=t.pendingProps;switch(oc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return Tt(t.type)&&Ys(),dt(t),null;case 3:return o=t.stateNode,vr(),Me(Lt),Me(ht),pc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,an!==null&&(Nu(an),an=null))),ku(e,t),dt(t),null;case 5:hc(t);var a=Si(Eo.current);if(i=t.type,e!==null&&t.stateNode!=null)Bp(e,t,i,o,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(W(166));return dt(t),null}if(e=Si(xn.current),vs(t)){o=t.stateNode,i=t.type;var l=t.memoizedProps;switch(o[_n]=t,o[Co]=l,e=(t.mode&1)!==0,i){case"dialog":Ne("cancel",o),Ne("close",o);break;case"iframe":case"object":case"embed":Ne("load",o);break;case"video":case"audio":for(a=0;a<no.length;a++)Ne(no[a],o);break;case"source":Ne("error",o);break;case"img":case"image":case"link":Ne("error",o),Ne("load",o);break;case"details":Ne("toggle",o);break;case"input":Ld(o,l),Ne("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},Ne("invalid",o);break;case"textarea":Nd(o,l),Ne("invalid",o)}Kl(i,l),a=null;for(var c in l)if(l.hasOwnProperty(c)){var p=l[c];c==="children"?typeof p=="string"?o.textContent!==p&&(l.suppressHydrationWarning!==!0&&gs(o.textContent,p,e),a=["children",p]):typeof p=="number"&&o.textContent!==""+p&&(l.suppressHydrationWarning!==!0&&gs(o.textContent,p,e),a=["children",""+p]):mo.hasOwnProperty(c)&&p!=null&&c==="onScroll"&&Ne("scroll",o)}switch(i){case"input":ls(o),Td(o,l,!0);break;case"textarea":ls(o),Md(o);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(o.onclick=Gs)}o=a,t.updateQueue=o,o!==null&&(t.flags|=4)}else{c=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ph(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=c.createElement(i,{is:o.is}):(e=c.createElement(i),i==="select"&&(c=e,o.multiple?c.multiple=!0:o.size&&(c.size=o.size))):e=c.createElementNS(e,i),e[_n]=t,e[Co]=o,Dp(e,t,!1,!1),t.stateNode=e;e:{switch(c=Xl(i,o),i){case"dialog":Ne("cancel",e),Ne("close",e),a=o;break;case"iframe":case"object":case"embed":Ne("load",e),a=o;break;case"video":case"audio":for(a=0;a<no.length;a++)Ne(no[a],e);a=o;break;case"source":Ne("error",e),a=o;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),a=o;break;case"details":Ne("toggle",e),a=o;break;case"input":Ld(e,o),a=Ul(e,o),Ne("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=Re({},o,{value:void 0}),Ne("invalid",e);break;case"textarea":Nd(e,o),a=Gl(e,o),Ne("invalid",e);break;default:a=o}Kl(i,a),p=a;for(l in p)if(p.hasOwnProperty(l)){var f=p[l];l==="style"?vh(e,f):l==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&mh(e,f)):l==="children"?typeof f=="string"?(i!=="textarea"||f!=="")&&go(e,f):typeof f=="number"&&go(e,""+f):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(mo.hasOwnProperty(l)?f!=null&&l==="onScroll"&&Ne("scroll",e):f!=null&&Uu(e,l,f,c))}switch(i){case"input":ls(e),Td(e,o,!1);break;case"textarea":ls(e),Md(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ri(o.value));break;case"select":e.multiple=!!o.multiple,l=o.value,l!=null?sr(e,!!o.multiple,l,!1):o.defaultValue!=null&&sr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Gs)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(e&&t.stateNode!=null)Zp(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(W(166));if(i=Si(Eo.current),Si(xn.current),vs(t)){if(o=t.stateNode,i=t.memoizedProps,o[_n]=t,(l=o.nodeValue!==i)&&(e=Zt,e!==null))switch(e.tag){case 3:gs(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gs(o.nodeValue,i,(e.mode&1)!==0)}l&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[_n]=t,t.stateNode=o}return dt(t),null;case 13:if(Me(ze),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&Bt!==null&&t.mode&1&&!(t.flags&128))rp(),mr(),t.flags|=98560,l=!1;else if(l=vs(t),o!==null&&o.dehydrated!==null){if(e===null){if(!l)throw Error(W(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(W(317));l[_n]=t}else mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dt(t),l=!1}else an!==null&&(Nu(an),an=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?Qe===0&&(Qe=3):Pc())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return vr(),ku(e,t),e===null&&bo(t.stateNode.containerInfo),dt(t),null;case 10:return uc(t.type._context),dt(t),null;case 17:return Tt(t.type)&&Ys(),dt(t),null;case 19:if(Me(ze),l=t.memoizedState,l===null)return dt(t),null;if(o=(t.flags&128)!==0,c=l.rendering,c===null)if(o)Kr(l,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=ta(e),c!==null){for(t.flags|=128,Kr(l,!1),o=c.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)l=i,e=o,l.flags&=14680066,c=l.alternate,c===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,e=c.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ee(ze,ze.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ze()>yr&&(t.flags|=128,o=!0,Kr(l,!1),t.lanes=4194304)}else{if(!o)if(e=ta(c),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Kr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!je)return dt(t),null}else 2*Ze()-l.renderingStartTime>yr&&i!==1073741824&&(t.flags|=128,o=!0,Kr(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(i=l.last,i!==null?i.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,i=ze.current,Ee(ze,o?i&1|2:i&1),t):(dt(t),null);case 22:case 23:return Cc(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Dt&1073741824&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function S_(e,t){switch(oc(t),t.tag){case 1:return Tt(t.type)&&Ys(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vr(),Me(Lt),Me(ht),pc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hc(t),null;case 13:if(Me(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(ze),null;case 4:return vr(),null;case 10:return uc(t.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var xs=!1,ft=!1,C_=typeof WeakSet=="function"?WeakSet:Set,re=null;function rr(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){De(e,t,o)}else i.current=null}function bu(e,t,i){try{i()}catch(o){De(e,t,o)}}var wf=!1;function P_(e,t){if(su=Us,e=Vh(),ic(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var a=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var c=0,p=-1,f=-1,g=0,b=0,x=e,w=null;t:for(;;){for(var N;x!==i||a!==0&&x.nodeType!==3||(p=c+a),x!==l||o!==0&&x.nodeType!==3||(f=c+o),x.nodeType===3&&(c+=x.nodeValue.length),(N=x.firstChild)!==null;)w=x,x=N;for(;;){if(x===e)break t;if(w===i&&++g===a&&(p=c),w===l&&++b===o&&(f=c),(N=x.nextSibling)!==null)break;x=w,w=x.parentNode}x=N}i=p===-1||f===-1?null:{start:p,end:f}}else i=null}i=i||{start:0,end:0}}else i=null;for(au={focusedElem:e,selectionRange:i},Us=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var I=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var M=I.memoizedProps,te=I.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?M:on(t.type,M),te);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(O){De(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return I=wf,wf=!1,I}function uo(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&bu(t,i,l)}a=a.next}while(a!==o)}}function ya(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Su(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Fp(e){var t=e.alternate;t!==null&&(e.alternate=null,Fp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_n],delete t[Co],delete t[cu],delete t[l_],delete t[u_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hp(e){return e.tag===5||e.tag===3||e.tag===4}function kf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Gs));else if(o!==4&&(e=e.child,e!==null))for(Cu(e,t,i),e=e.sibling;e!==null;)Cu(e,t,i),e=e.sibling}function Pu(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Pu(e,t,i),e=e.sibling;e!==null;)Pu(e,t,i),e=e.sibling}var st=null,sn=!1;function Hn(e,t,i){for(i=i.child;i!==null;)$p(e,t,i),i=i.sibling}function $p(e,t,i){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(da,i)}catch{}switch(i.tag){case 5:ft||rr(i,t);case 6:var o=st,a=sn;st=null,Hn(e,t,i),st=o,sn=a,st!==null&&(sn?(e=st,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):st.removeChild(i.stateNode));break;case 18:st!==null&&(sn?(e=st,i=i.stateNode,e.nodeType===8?Sl(e.parentNode,i):e.nodeType===1&&Sl(e,i),xo(e)):Sl(st,i.stateNode));break;case 4:o=st,a=sn,st=i.stateNode.containerInfo,sn=!0,Hn(e,t,i),st=o,sn=a;break;case 0:case 11:case 14:case 15:if(!ft&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var l=a,c=l.destroy;l=l.tag,c!==void 0&&(l&2||l&4)&&bu(i,t,c),a=a.next}while(a!==o)}Hn(e,t,i);break;case 1:if(!ft&&(rr(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(p){De(i,t,p)}Hn(e,t,i);break;case 21:Hn(e,t,i);break;case 22:i.mode&1?(ft=(o=ft)||i.memoizedState!==null,Hn(e,t,i),ft=o):Hn(e,t,i);break;default:Hn(e,t,i)}}function bf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new C_),t.forEach(function(o){var a=I_.bind(null,e,o);i.has(o)||(i.add(o),o.then(a,a))})}}function rn(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var a=i[o];try{var l=e,c=t,p=c;e:for(;p!==null;){switch(p.tag){case 5:st=p.stateNode,sn=!1;break e;case 3:st=p.stateNode.containerInfo,sn=!0;break e;case 4:st=p.stateNode.containerInfo,sn=!0;break e}p=p.return}if(st===null)throw Error(W(160));$p(l,c,a),st=null,sn=!1;var f=a.alternate;f!==null&&(f.return=null),a.return=null}catch(g){De(a,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Up(t,e),t=t.sibling}function Up(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rn(t,e),gn(e),o&4){try{uo(3,e,e.return),ya(3,e)}catch(M){De(e,e.return,M)}try{uo(5,e,e.return)}catch(M){De(e,e.return,M)}}break;case 1:rn(t,e),gn(e),o&512&&i!==null&&rr(i,i.return);break;case 5:if(rn(t,e),gn(e),o&512&&i!==null&&rr(i,i.return),e.flags&32){var a=e.stateNode;try{go(a,"")}catch(M){De(e,e.return,M)}}if(o&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,c=i!==null?i.memoizedProps:l,p=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{p==="input"&&l.type==="radio"&&l.name!=null&&fh(a,l),Xl(p,c);var g=Xl(p,l);for(c=0;c<f.length;c+=2){var b=f[c],x=f[c+1];b==="style"?vh(a,x):b==="dangerouslySetInnerHTML"?mh(a,x):b==="children"?go(a,x):Uu(a,b,x,g)}switch(p){case"input":Vl(a,l);break;case"textarea":hh(a,l);break;case"select":var w=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var N=l.value;N!=null?sr(a,!!l.multiple,N,!1):w!==!!l.multiple&&(l.defaultValue!=null?sr(a,!!l.multiple,l.defaultValue,!0):sr(a,!!l.multiple,l.multiple?[]:"",!1))}a[Co]=l}catch(M){De(e,e.return,M)}}break;case 6:if(rn(t,e),gn(e),o&4){if(e.stateNode===null)throw Error(W(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(M){De(e,e.return,M)}}break;case 3:if(rn(t,e),gn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{xo(t.containerInfo)}catch(M){De(e,e.return,M)}break;case 4:rn(t,e),gn(e);break;case 13:rn(t,e),gn(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(bc=Ze())),o&4&&bf(e);break;case 22:if(b=i!==null&&i.memoizedState!==null,e.mode&1?(ft=(g=ft)||b,rn(t,e),ft=g):rn(t,e),gn(e),o&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!b&&e.mode&1)for(re=e,b=e.child;b!==null;){for(x=re=b;re!==null;){switch(w=re,N=w.child,w.tag){case 0:case 11:case 14:case 15:uo(4,w,w.return);break;case 1:rr(w,w.return);var I=w.stateNode;if(typeof I.componentWillUnmount=="function"){o=w,i=w.return;try{t=o,I.props=t.memoizedProps,I.state=t.memoizedState,I.componentWillUnmount()}catch(M){De(o,i,M)}}break;case 5:rr(w,w.return);break;case 22:if(w.memoizedState!==null){Cf(x);continue}}N!==null?(N.return=w,re=N):Cf(x)}b=b.sibling}e:for(b=null,x=e;;){if(x.tag===5){if(b===null){b=x;try{a=x.stateNode,g?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(p=x.stateNode,f=x.memoizedProps.style,c=f!=null&&f.hasOwnProperty("display")?f.display:null,p.style.display=gh("display",c))}catch(M){De(e,e.return,M)}}}else if(x.tag===6){if(b===null)try{x.stateNode.nodeValue=g?"":x.memoizedProps}catch(M){De(e,e.return,M)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;b===x&&(b=null),x=x.return}b===x&&(b=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:rn(t,e),gn(e),o&4&&bf(e);break;case 21:break;default:rn(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Hp(i)){var o=i;break e}i=i.return}throw Error(W(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(go(a,""),o.flags&=-33);var l=kf(e);Pu(e,l,a);break;case 3:case 4:var c=o.stateNode.containerInfo,p=kf(e);Cu(e,p,c);break;default:throw Error(W(161))}}catch(f){De(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E_(e,t,i){re=e,Vp(e)}function Vp(e,t,i){for(var o=(e.mode&1)!==0;re!==null;){var a=re,l=a.child;if(a.tag===22&&o){var c=a.memoizedState!==null||xs;if(!c){var p=a.alternate,f=p!==null&&p.memoizedState!==null||ft;p=xs;var g=ft;if(xs=c,(ft=f)&&!g)for(re=a;re!==null;)c=re,f=c.child,c.tag===22&&c.memoizedState!==null?Pf(a):f!==null?(f.return=c,re=f):Pf(a);for(;l!==null;)re=l,Vp(l),l=l.sibling;re=a,xs=p,ft=g}Sf(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,re=l):Sf(e)}}function Sf(e){for(;re!==null;){var t=re;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||ya(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!ft)if(i===null)o.componentDidMount();else{var a=t.elementType===t.type?i.memoizedProps:on(t.type,i.memoizedProps);o.componentDidUpdate(a,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&lf(t,l,o);break;case 3:var c=t.updateQueue;if(c!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}lf(t,c,i)}break;case 5:var p=t.stateNode;if(i===null&&t.flags&4){i=p;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&i.focus();break;case"img":f.src&&(i.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var b=g.memoizedState;if(b!==null){var x=b.dehydrated;x!==null&&xo(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ft||t.flags&512&&Su(t)}catch(w){De(t,t.return,w)}}if(t===e){re=null;break}if(i=t.sibling,i!==null){i.return=t.return,re=i;break}re=t.return}}function Cf(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var i=t.sibling;if(i!==null){i.return=t.return,re=i;break}re=t.return}}function Pf(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{ya(4,t)}catch(f){De(t,i,f)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var a=t.return;try{o.componentDidMount()}catch(f){De(t,a,f)}}var l=t.return;try{Su(t)}catch(f){De(t,l,f)}break;case 5:var c=t.return;try{Su(t)}catch(f){De(t,c,f)}}}catch(f){De(t,t.return,f)}if(t===e){re=null;break}var p=t.sibling;if(p!==null){p.return=t.return,re=p;break}re=t.return}}var L_=Math.ceil,ra=Rn.ReactCurrentDispatcher,wc=Rn.ReactCurrentOwner,Kt=Rn.ReactCurrentBatchConfig,we=0,nt=null,We=null,at=0,Dt=0,or=ai(0),Qe=0,Mo=null,Mi=0,xa=0,kc=0,co=null,Pt=null,bc=0,yr=1/0,En=null,oa=!1,Eu=null,ti=null,ws=!1,Kn=null,sa=0,fo=0,Lu=null,Is=-1,Rs=0;function yt(){return we&6?Ze():Is!==-1?Is:Is=Ze()}function ni(e){return e.mode&1?we&2&&at!==0?at&-at:d_.transition!==null?(Rs===0&&(Rs=Th()),Rs):(e=be,e!==0||(e=window.event,e=e===void 0?16:Rh(e.type)),e):1}function un(e,t,i,o){if(50<fo)throw fo=0,Lu=null,Error(W(185));Io(e,i,o),(!(we&2)||e!==nt)&&(e===nt&&(!(we&2)&&(xa|=i),Qe===4&&Gn(e,at)),Nt(e,o),i===1&&we===0&&!(t.mode&1)&&(yr=Ze()+500,ga&&li()))}function Nt(e,t){var i=e.callbackNode;dv(e,t);var o=$s(e,e===nt?at:0);if(o===0)i!==null&&zd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&zd(i),t===1)e.tag===0?c_(Ef.bind(null,e)):tp(Ef.bind(null,e)),s_(function(){!(we&6)&&li()}),i=null;else{switch(Nh(o)){case 1:i=Ku;break;case 4:i=Eh;break;case 16:i=Hs;break;case 536870912:i=Lh;break;default:i=Hs}i=Jp(i,Wp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Wp(e,t){if(Is=-1,Rs=0,we&6)throw Error(W(327));var i=e.callbackNode;if(dr()&&e.callbackNode!==i)return null;var o=$s(e,e===nt?at:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=aa(e,o);else{t=o;var a=we;we|=2;var l=Yp();(nt!==e||at!==t)&&(En=null,yr=Ze()+500,Pi(e,t));do try{M_();break}catch(p){Gp(e,p)}while(!0);lc(),ra.current=l,we=a,We!==null?t=0:(nt=null,at=0,t=Qe)}if(t!==0){if(t===2&&(a=tu(e),a!==0&&(o=a,t=Tu(e,a))),t===1)throw i=Mo,Pi(e,0),Gn(e,o),Nt(e,Ze()),i;if(t===6)Gn(e,o);else{if(a=e.current.alternate,!(o&30)&&!T_(a)&&(t=aa(e,o),t===2&&(l=tu(e),l!==0&&(o=l,t=Tu(e,l))),t===1))throw i=Mo,Pi(e,0),Gn(e,o),Nt(e,Ze()),i;switch(e.finishedWork=a,e.finishedLanes=o,t){case 0:case 1:throw Error(W(345));case 2:wi(e,Pt,En);break;case 3:if(Gn(e,o),(o&130023424)===o&&(t=bc+500-Ze(),10<t)){if($s(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){yt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=uu(wi.bind(null,e,Pt,En),t);break}wi(e,Pt,En);break;case 4:if(Gn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,a=-1;0<o;){var c=31-ln(o);l=1<<c,c=t[c],c>a&&(a=c),o&=~l}if(o=a,o=Ze()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*L_(o/1960))-o,10<o){e.timeoutHandle=uu(wi.bind(null,e,Pt,En),o);break}wi(e,Pt,En);break;case 5:wi(e,Pt,En);break;default:throw Error(W(329))}}}return Nt(e,Ze()),e.callbackNode===i?Wp.bind(null,e):null}function Tu(e,t){var i=co;return e.current.memoizedState.isDehydrated&&(Pi(e,t).flags|=256),e=aa(e,t),e!==2&&(t=Pt,Pt=i,t!==null&&Nu(t)),e}function Nu(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function T_(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var a=i[o],l=a.getSnapshot;a=a.value;try{if(!cn(l(),a))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t){for(t&=~kc,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-ln(t),o=1<<i;e[i]=-1,t&=~o}}function Ef(e){if(we&6)throw Error(W(327));dr();var t=$s(e,0);if(!(t&1))return Nt(e,Ze()),null;var i=aa(e,t);if(e.tag!==0&&i===2){var o=tu(e);o!==0&&(t=o,i=Tu(e,o))}if(i===1)throw i=Mo,Pi(e,0),Gn(e,t),Nt(e,Ze()),i;if(i===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wi(e,Pt,En),Nt(e,Ze()),null}function Sc(e,t){var i=we;we|=1;try{return e(t)}finally{we=i,we===0&&(yr=Ze()+500,ga&&li())}}function ji(e){Kn!==null&&Kn.tag===0&&!(we&6)&&dr();var t=we;we|=1;var i=Kt.transition,o=be;try{if(Kt.transition=null,be=1,e)return e()}finally{be=o,Kt.transition=i,we=t,!(we&6)&&li()}}function Cc(){Dt=or.current,Me(or)}function Pi(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,o_(i)),We!==null)for(i=We.return;i!==null;){var o=i;switch(oc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ys();break;case 3:vr(),Me(Lt),Me(ht),pc();break;case 5:hc(o);break;case 4:vr();break;case 13:Me(ze);break;case 19:Me(ze);break;case 10:uc(o.type._context);break;case 22:case 23:Cc()}i=i.return}if(nt=e,We=e=ii(e.current,null),at=Dt=t,Qe=0,Mo=null,kc=xa=Mi=0,Pt=co=null,bi!==null){for(t=0;t<bi.length;t++)if(i=bi[t],o=i.interleaved,o!==null){i.interleaved=null;var a=o.next,l=i.pending;if(l!==null){var c=l.next;l.next=a,o.next=c}i.pending=o}bi=null}return e}function Gp(e,t){do{var i=We;try{if(lc(),js.current=ia,na){for(var o=Ie.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}na=!1}if(Ni=0,tt=Xe=Ie=null,lo=!1,Lo=0,wc.current=null,i===null||i.return===null){Qe=1,Mo=t,We=null;break}e:{var l=e,c=i.return,p=i,f=t;if(t=at,p.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var g=f,b=p,x=b.tag;if(!(b.mode&1)&&(x===0||x===11||x===15)){var w=b.alternate;w?(b.updateQueue=w.updateQueue,b.memoizedState=w.memoizedState,b.lanes=w.lanes):(b.updateQueue=null,b.memoizedState=null)}var N=pf(c);if(N!==null){N.flags&=-257,mf(N,c,p,l,t),N.mode&1&&hf(l,g,t),t=N,f=g;var I=t.updateQueue;if(I===null){var M=new Set;M.add(f),t.updateQueue=M}else I.add(f);break e}else{if(!(t&1)){hf(l,g,t),Pc();break e}f=Error(W(426))}}else if(je&&p.mode&1){var te=pf(c);if(te!==null){!(te.flags&65536)&&(te.flags|=256),mf(te,c,p,l,t),sc(_r(f,p));break e}}l=f=_r(f,p),Qe!==4&&(Qe=2),co===null?co=[l]:co.push(l),l=c;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var y=Np(l,f,t);af(l,y);break e;case 1:p=f;var v=l.type,k=l.stateNode;if(!(l.flags&128)&&(typeof v.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ti===null||!ti.has(k)))){l.flags|=65536,t&=-t,l.lanes|=t;var O=Mp(l,p,t);af(l,O);break e}}l=l.return}while(l!==null)}Xp(i)}catch(H){t=H,We===i&&i!==null&&(We=i=i.return);continue}break}while(!0)}function Yp(){var e=ra.current;return ra.current=ia,e===null?ia:e}function Pc(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),nt===null||!(Mi&268435455)&&!(xa&268435455)||Gn(nt,at)}function aa(e,t){var i=we;we|=2;var o=Yp();(nt!==e||at!==t)&&(En=null,Pi(e,t));do try{N_();break}catch(a){Gp(e,a)}while(!0);if(lc(),we=i,ra.current=o,We!==null)throw Error(W(261));return nt=null,at=0,Qe}function N_(){for(;We!==null;)Kp(We)}function M_(){for(;We!==null&&!nv();)Kp(We)}function Kp(e){var t=qp(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?Xp(e):We=t,wc.current=null}function Xp(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=S_(i,t),i!==null){i.flags&=32767,We=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,We=null;return}}else if(i=b_(i,t,Dt),i!==null){We=i;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Qe===0&&(Qe=5)}function wi(e,t,i){var o=be,a=Kt.transition;try{Kt.transition=null,be=1,j_(e,t,i,o)}finally{Kt.transition=a,be=o}return null}function j_(e,t,i,o){do dr();while(Kn!==null);if(we&6)throw Error(W(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var l=i.lanes|i.childLanes;if(fv(e,l),e===nt&&(We=nt=null,at=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||ws||(ws=!0,Jp(Hs,function(){return dr(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=Kt.transition,Kt.transition=null;var c=be;be=1;var p=we;we|=4,wc.current=null,P_(e,i),Up(i,e),qv(au),Us=!!su,au=su=null,e.current=i,E_(i),iv(),we=p,be=c,Kt.transition=l}else e.current=i;if(ws&&(ws=!1,Kn=e,sa=a),l=e.pendingLanes,l===0&&(ti=null),sv(i.stateNode),Nt(e,Ze()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)a=t[i],o(a.value,{componentStack:a.stack,digest:a.digest});if(oa)throw oa=!1,e=Eu,Eu=null,e;return sa&1&&e.tag!==0&&dr(),l=e.pendingLanes,l&1?e===Lu?fo++:(fo=0,Lu=e):fo=0,li(),null}function dr(){if(Kn!==null){var e=Nh(sa),t=Kt.transition,i=be;try{if(Kt.transition=null,be=16>e?16:e,Kn===null)var o=!1;else{if(e=Kn,Kn=null,sa=0,we&6)throw Error(W(331));var a=we;for(we|=4,re=e.current;re!==null;){var l=re,c=l.child;if(re.flags&16){var p=l.deletions;if(p!==null){for(var f=0;f<p.length;f++){var g=p[f];for(re=g;re!==null;){var b=re;switch(b.tag){case 0:case 11:case 15:uo(8,b,l)}var x=b.child;if(x!==null)x.return=b,re=x;else for(;re!==null;){b=re;var w=b.sibling,N=b.return;if(Fp(b),b===g){re=null;break}if(w!==null){w.return=N,re=w;break}re=N}}}var I=l.alternate;if(I!==null){var M=I.child;if(M!==null){I.child=null;do{var te=M.sibling;M.sibling=null,M=te}while(M!==null)}}re=l}}if(l.subtreeFlags&2064&&c!==null)c.return=l,re=c;else e:for(;re!==null;){if(l=re,l.flags&2048)switch(l.tag){case 0:case 11:case 15:uo(9,l,l.return)}var y=l.sibling;if(y!==null){y.return=l.return,re=y;break e}re=l.return}}var v=e.current;for(re=v;re!==null;){c=re;var k=c.child;if(c.subtreeFlags&2064&&k!==null)k.return=c,re=k;else e:for(c=v;re!==null;){if(p=re,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:ya(9,p)}}catch(H){De(p,p.return,H)}if(p===c){re=null;break e}var O=p.sibling;if(O!==null){O.return=p.return,re=O;break e}re=p.return}}if(we=a,li(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(da,e)}catch{}o=!0}return o}finally{be=i,Kt.transition=t}}return!1}function Lf(e,t,i){t=_r(i,t),t=Np(e,t,1),e=ei(e,t,1),t=yt(),e!==null&&(Io(e,1,t),Nt(e,t))}function De(e,t,i){if(e.tag===3)Lf(e,e,i);else for(;t!==null;){if(t.tag===3){Lf(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ti===null||!ti.has(o))){e=_r(i,e),e=Mp(t,e,1),t=ei(t,e,1),e=yt(),t!==null&&(Io(t,1,e),Nt(t,e));break}}t=t.return}}function O_(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&i,nt===e&&(at&i)===i&&(Qe===4||Qe===3&&(at&130023424)===at&&500>Ze()-bc?Pi(e,0):kc|=i),Nt(e,t)}function Qp(e,t){t===0&&(e.mode&1?(t=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):t=1);var i=yt();e=zn(e,t),e!==null&&(Io(e,t,i),Nt(e,i))}function z_(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Qp(e,i)}function I_(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(W(314))}o!==null&&o.delete(t),Qp(e,i)}var qp;qp=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)Et=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Et=!1,k_(e,t,i);Et=!!(e.flags&131072)}else Et=!1,je&&t.flags&1048576&&np(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;zs(e,t),e=t.pendingProps;var a=pr(t,ht.current);cr(t,i),a=gc(null,t,o,e,a,i);var l=vc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(o)?(l=!0,Ks(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,dc(t),a.updater=_a,t.stateNode=a,a._reactInternals=t,gu(t,o,e,i),t=yu(null,t,o,!0,l,i)):(t.tag=0,je&&l&&rc(t),_t(null,t,a,i),t=t.child),t;case 16:o=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,a=o._init,o=a(o._payload),t.type=o,a=t.tag=A_(o),e=on(o,e),a){case 0:t=_u(null,t,o,e,i);break e;case 1:t=_f(null,t,o,e,i);break e;case 11:t=gf(null,t,o,e,i);break e;case 14:t=vf(null,t,o,on(o.type,e),i);break e}throw Error(W(306,o,""))}return t;case 0:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:on(o,a),_u(e,t,o,a,i);case 1:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:on(o,a),_f(e,t,o,a,i);case 3:e:{if(Ip(t),e===null)throw Error(W(387));o=t.pendingProps,l=t.memoizedState,a=l.element,lp(e,t),ea(t,o,null,i);var c=t.memoizedState;if(o=c.element,l.isDehydrated)if(l={element:o,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=_r(Error(W(423)),t),t=yf(e,t,o,i,a);break e}else if(o!==a){a=_r(Error(W(424)),t),t=yf(e,t,o,i,a);break e}else for(Bt=Jn(t.stateNode.containerInfo.firstChild),Zt=t,je=!0,an=null,i=sp(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(mr(),o===a){t=In(e,t,i);break e}_t(e,t,o,i)}t=t.child}return t;case 5:return up(t),e===null&&hu(t),o=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,c=a.children,lu(o,a)?c=null:l!==null&&lu(o,l)&&(t.flags|=32),zp(e,t),_t(e,t,c,i),t.child;case 6:return e===null&&hu(t),null;case 13:return Rp(e,t,i);case 4:return fc(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=gr(t,null,o,i):_t(e,t,o,i),t.child;case 11:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:on(o,a),gf(e,t,o,a,i);case 7:return _t(e,t,t.pendingProps,i),t.child;case 8:return _t(e,t,t.pendingProps.children,i),t.child;case 12:return _t(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,a=t.pendingProps,l=t.memoizedProps,c=a.value,Ee(qs,o._currentValue),o._currentValue=c,l!==null)if(cn(l.value,c)){if(l.children===a.children&&!Lt.current){t=In(e,t,i);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var p=l.dependencies;if(p!==null){c=l.child;for(var f=p.firstContext;f!==null;){if(f.context===o){if(l.tag===1){f=Mn(-1,i&-i),f.tag=2;var g=l.updateQueue;if(g!==null){g=g.shared;var b=g.pending;b===null?f.next=f:(f.next=b.next,b.next=f),g.pending=f}}l.lanes|=i,f=l.alternate,f!==null&&(f.lanes|=i),pu(l.return,i,t),p.lanes|=i;break}f=f.next}}else if(l.tag===10)c=l.type===t.type?null:l.child;else if(l.tag===18){if(c=l.return,c===null)throw Error(W(341));c.lanes|=i,p=c.alternate,p!==null&&(p.lanes|=i),pu(c,i,t),c=l.sibling}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===t){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}_t(e,t,a.children,i),t=t.child}return t;case 9:return a=t.type,o=t.pendingProps.children,cr(t,i),a=Xt(a),o=o(a),t.flags|=1,_t(e,t,o,i),t.child;case 14:return o=t.type,a=on(o,t.pendingProps),a=on(o.type,a),vf(e,t,o,a,i);case 15:return jp(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:on(o,a),zs(e,t),t.tag=1,Tt(o)?(e=!0,Ks(t)):e=!1,cr(t,i),Tp(t,o,a),gu(t,o,a,i),yu(null,t,o,!0,e,i);case 19:return Ap(e,t,i);case 22:return Op(e,t,i)}throw Error(W(156,t.tag))};function Jp(e,t){return Ph(e,t)}function R_(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,i,o){return new R_(e,t,i,o)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function A_(e){if(typeof e=="function")return Ec(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wu)return 11;if(e===Gu)return 14}return 2}function ii(e,t){var i=e.alternate;return i===null?(i=Yt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function As(e,t,i,o,a,l){var c=2;if(o=e,typeof e=="function")Ec(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Ki:return Ei(i.children,a,l,t);case Vu:c=8,a|=8;break;case Zl:return e=Yt(12,i,t,a|2),e.elementType=Zl,e.lanes=l,e;case Fl:return e=Yt(13,i,t,a),e.elementType=Fl,e.lanes=l,e;case Hl:return e=Yt(19,i,t,a),e.elementType=Hl,e.lanes=l,e;case uh:return wa(i,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ah:c=10;break e;case lh:c=9;break e;case Wu:c=11;break e;case Gu:c=14;break e;case $n:c=16,o=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Yt(c,i,t,a),t.elementType=e,t.type=o,t.lanes=l,t}function Ei(e,t,i,o){return e=Yt(7,e,o,t),e.lanes=i,e}function wa(e,t,i,o){return e=Yt(22,e,o,t),e.elementType=uh,e.lanes=i,e.stateNode={isHidden:!1},e}function jl(e,t,i){return e=Yt(6,e,null,t),e.lanes=i,e}function Ol(e,t,i){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D_(e,t,i,o,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Lc(e,t,i,o,a,l,c,p,f){return e=new D_(e,t,i,p,f),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Yt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},dc(l),e}function B_(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yi,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function em(e){if(!e)return oi;e=e._reactInternals;e:{if(zi(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var i=e.type;if(Tt(i))return ep(e,i,t)}return t}function tm(e,t,i,o,a,l,c,p,f){return e=Lc(i,o,!0,e,a,l,c,p,f),e.context=em(null),i=e.current,o=yt(),a=ni(i),l=Mn(o,a),l.callback=t??null,ei(i,l,a),e.current.lanes=a,Io(e,a,o),Nt(e,o),e}function ka(e,t,i,o){var a=t.current,l=yt(),c=ni(a);return i=em(i),t.context===null?t.context=i:t.pendingContext=i,t=Mn(l,c),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=ei(a,t,c),e!==null&&(un(e,a,c,l),Ms(e,a,c)),c}function la(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Tc(e,t){Tf(e,t),(e=e.alternate)&&Tf(e,t)}function Z_(){return null}var nm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nc(e){this._internalRoot=e}ba.prototype.render=Nc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));ka(e,t,null,null)};ba.prototype.unmount=Nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ji(function(){ka(null,e,null,null)}),t[On]=null}};function ba(e){this._internalRoot=e}ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Wn.length&&t!==0&&t<Wn[i].priority;i++);Wn.splice(i,0,e),i===0&&Ih(e)}};function Mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nf(){}function F_(e,t,i,o,a){if(a){if(typeof o=="function"){var l=o;o=function(){var g=la(c);l.call(g)}}var c=tm(t,o,e,0,null,!1,!1,"",Nf);return e._reactRootContainer=c,e[On]=c.current,bo(e.nodeType===8?e.parentNode:e),ji(),c}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var p=o;o=function(){var g=la(f);p.call(g)}}var f=Lc(e,0,!1,null,null,!1,!1,"",Nf);return e._reactRootContainer=f,e[On]=f.current,bo(e.nodeType===8?e.parentNode:e),ji(function(){ka(t,f,i,o)}),f}function Ca(e,t,i,o,a){var l=i._reactRootContainer;if(l){var c=l;if(typeof a=="function"){var p=a;a=function(){var f=la(c);p.call(f)}}ka(t,c,e,a)}else c=F_(i,t,e,a,o);return la(c)}Mh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=to(t.pendingLanes);i!==0&&(Xu(t,i|1),Nt(t,Ze()),!(we&6)&&(yr=Ze()+500,li()))}break;case 13:ji(function(){var o=zn(e,1);if(o!==null){var a=yt();un(o,e,1,a)}}),Tc(e,1)}};Qu=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var i=yt();un(t,e,134217728,i)}Tc(e,134217728)}};jh=function(e){if(e.tag===13){var t=ni(e),i=zn(e,t);if(i!==null){var o=yt();un(i,e,t,o)}Tc(e,t)}};Oh=function(){return be};zh=function(e,t){var i=be;try{return be=e,t()}finally{be=i}};ql=function(e,t,i){switch(t){case"input":if(Vl(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var a=ma(o);if(!a)throw Error(W(90));dh(o),Vl(o,a)}}}break;case"textarea":hh(e,i);break;case"select":t=i.value,t!=null&&sr(e,!!i.multiple,t,!1)}};xh=Sc;wh=ji;var H_={usingClientEntryPoint:!1,Events:[Ao,Ji,ma,_h,yh,Sc]},Xr={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$_={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sh(e),e===null?null:e.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||Z_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ks.isDisabled&&ks.supportsFiber)try{da=ks.inject($_),yn=ks}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H_;Ht.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mc(t))throw Error(W(200));return B_(e,t,null,i)};Ht.createRoot=function(e,t){if(!Mc(e))throw Error(W(299));var i=!1,o="",a=nm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Lc(e,1,!1,null,null,i,!1,o,a),e[On]=t.current,bo(e.nodeType===8?e.parentNode:e),new Nc(t)};Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Sh(t),e=e===null?null:e.stateNode,e};Ht.flushSync=function(e){return ji(e)};Ht.hydrate=function(e,t,i){if(!Sa(t))throw Error(W(200));return Ca(null,e,t,!0,i)};Ht.hydrateRoot=function(e,t,i){if(!Mc(e))throw Error(W(405));var o=i!=null&&i.hydratedSources||null,a=!1,l="",c=nm;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),t=tm(t,null,e,1,i??null,a,!1,l,c),e[On]=t.current,bo(e),o)for(e=0;e<o.length;e++)i=o[e],a=i._getVersion,a=a(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,a]:t.mutableSourceEagerHydrationData.push(i,a);return new ba(t)};Ht.render=function(e,t,i){if(!Sa(t))throw Error(W(200));return Ca(null,e,t,!1,i)};Ht.unmountComponentAtNode=function(e){if(!Sa(e))throw Error(W(40));return e._reactRootContainer?(ji(function(){Ca(null,null,e,!1,function(){e._reactRootContainer=null,e[On]=null})}),!0):!1};Ht.unstable_batchedUpdates=Sc;Ht.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Sa(i))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Ca(e,t,i,!1,o)};Ht.version="18.3.1-next-f1338f8080-20240426";function im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(im)}catch(e){console.error(e)}}im(),ih.exports=Ht;var U_=ih.exports,Mf=U_;Dl.createRoot=Mf.createRoot,Dl.hydrateRoot=Mf.hydrateRoot;var Mu={exports:{}};/*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License */(function(e,t){(function(i,o){o(t)})(Ru,function(i){var o="dnd-poly-",a=["none","copy","copyLink","copyMove","link","linkMove","move","all"],l=["none","copy","move","link"];function c(){var T=!1;try{var B=Object.defineProperty({},"passive",{get:function(){T=!0}});window.addEventListener("test",null,B)}catch{}return T}var p=c();function f(T){return T&&T.tagName}function g(T,B,K){document.addEventListener(T,B,!!p&&{passive:K})}function b(T,B){document.removeEventListener(T,B)}function x(T,B,K,Y){Y===void 0&&(Y=!1);var ne=p?{passive:!0,capture:Y}:Y;return T.addEventListener(B,K,ne),{off:function(){T.removeEventListener(B,K,ne)}}}function w(T){return T.length===0?0:T.reduce(function(B,K){return K+B},0)/T.length}function N(T,B){for(var K=0;K<T.changedTouches.length;K++)if(T.changedTouches[K].identifier===B)return!0;return!1}function I(T,B,K){for(var Y=[],ne=[],C=0;C<B.touches.length;C++){var U=B.touches[C];Y.push(U[T+"X"]),ne.push(U[T+"Y"])}K.x=w(Y),K.y=w(ne)}var M=["","-webkit-"];function te(T,U,K,Y,ne){var C=U.x,U=U.y;Y&&(C+=Y.x,U+=Y.y),(ne=ne===void 0||ne)&&(C-=parseInt(T.offsetWidth,10)/2,U-=parseInt(T.offsetHeight,10)/2);for(var A="translate3d("+C+"px,"+U+"px, 0)",V=0;V<M.length;V++){var se=M[V]+"transform";T.style[se]=A+" "+K[V]}}var y=(Object.defineProperty(v.prototype,"dropEffect",{get:function(){return this.t},set:function(T){this.i.mode!==0&&-1<a.indexOf(T)&&(this.t=T)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"types",{get:function(){if(this.i.mode!==0)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(T){this.i.mode===2&&-1<a.indexOf(T)&&(this.i.effectAllowed=T)},enumerable:!1,configurable:!0}),v.prototype.setData=function(T,B){if(this.i.mode===2){if(-1<T.indexOf(" "))throw new Error("illegal arg: type contains space");this.i.data[T]=B,this.i.types.indexOf(T)===-1&&this.i.types.push(T)}},v.prototype.getData=function(T){if(this.i.mode===1||this.i.mode===2)return this.i.data[T]||""},v.prototype.clearData=function(T){this.i.mode===2&&(T&&this.i.data[T]?(delete this.i.data[T],-1<(T=this.i.types.indexOf(T))&&this.i.types.splice(T,1)):(this.i.data={},this.i.types=[]))},v.prototype.setDragImage=function(T,B,K){this.i.mode===2&&this.h(T,B,K)},v);function v(T,B){this.i=T,this.h=B,this.t=l[0]}function k(T,B){return T?T===a[0]?l[0]:T.indexOf(a[1])===0||T===a[7]?l[1]:T.indexOf(a[4])===0?l[3]:T===a[6]?l[2]:l[1]:B.nodeType===3&&B.tagName==="A"?l[3]:l[1]}function O(T,B,K,Y,ne,C,U){return U===void 0&&(U=null),ne=function(A,V,se,pe,q,ee,le){U===void 0&&(le=null);var fe=K.changedTouches[0],pe=new Event(T,{bubbles:!0,cancelable:pe});return pe.dataTransfer=ee,pe.relatedTarget=le,pe.screenX=fe.screenX,pe.screenY=fe.screenY,pe.clientX=fe.clientX,pe.clientY=fe.clientY,pe.pageX=fe.pageX,pe.pageY=fe.pageY,A=A.getBoundingClientRect(),pe.offsetX=pe.clientX-A.left,pe.offsetY=pe.clientY-A.top,pe}(B,0,0,C=C===void 0||C,document.defaultView,ne,U),ne=!B.dispatchEvent(ne),Y.mode=0,ne}function H(T,B){if(!T||T===a[7])return B;if(B===l[1]){if(T.indexOf(l[1])===0)return l[1]}else if(B===l[3]){if(T.indexOf(l[3])===0||-1<T.indexOf("Link"))return l[3]}else if(B===l[2]&&(T.indexOf(l[2])===0||-1<T.indexOf("Move")))return l[2];return l[0]}var G=($.prototype.o=function(){var T=this;this.u=1,this.l=l[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var B=this.m;if(this.I=new y(this.v,function(C,U,A){B=C,typeof U!="number"&&typeof A!="number"||(T.j={x:U||0,y:A||0})}),this.v.mode=2,this.I.dropEffect=l[0],O("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;I("page",this.k,this.g);var K,Y,ne=this.S.dragImageSetup(B);return this.A=(K=ne,M.map(function(C){return C=K.style[C+"transform"],C&&C!=="none"?C.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),ne.style.position="absolute",ne.style.left="0px",ne.style.top="0px",ne.style.zIndex="999999",ne.classList.add("dnd-poly-drag-image"),ne.classList.add("dnd-poly-icon"),this.O=ne,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(Y=getComputedStyle(B),this.j={x:0-parseInt(Y.marginLeft,10),y:0-parseInt(Y.marginTop,10)}):(ne=B.getBoundingClientRect(),Y=getComputedStyle(B),this.j={x:ne.left-this.M.clientX-parseInt(Y.marginLeft,10)+ne.width/2,y:ne.top-this.M.clientY-parseInt(Y.marginTop,10)+ne.height/2})),te(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){T.F||(T.F=!0,T.N(),T.F=!1)},this.S.iterationInterval),!0},$.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),b("touchmove",this.P),b("touchend",this.T),b("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},$.prototype._=function(T){var B=this;if(N(T,this.M.identifier)!==!1){if(this.k=T,this.u===0){var K=void 0;if(this.S.dragStartConditionOverride)try{K=this.S.dragStartConditionOverride(T)}catch{K=!1}else K=T.touches.length===1;return K?void(this.o()===!0&&(this.H.preventDefault(),T.preventDefault())):void this.C()}if(T.preventDefault(),I("client",T,this.p),I("page",T,this.g),this.S.dragImageTranslateOverride)try{var Y=!1;if(this.S.dragImageTranslateOverride(T,{x:this.p.x,y:this.p.y},this.V,function(ne,C){B.O&&(Y=!0,B.p.x+=ne,B.p.y+=C,B.g.x+=ne,B.g.y+=C,te(B.O,B.g,B.A,B.j,B.S.dragImageCenterOnTouch))}),Y)return}catch{}te(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},$.prototype.X=function(T){if(N(T,this.M.identifier)!==!1){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch{}this.u!==0?(T.preventDefault(),this.u=T.type==="touchcancel"?3:2):this.C()}},$.prototype.N=function(){var T=this,B=this.l;this.v.mode=3,this.I.dropEffect=l[0];var K,Y,ne,C,U,A=O("drag",this.m,this.k,this.v,this.I);if(A&&(this.l=l[0]),A||this.u===2||this.u===3)return this.Y(this.u)?(C=this.m,K=this.O,Y=this.A,se=function(){T.q()},void((U=getComputedStyle(C)).visibility!=="hidden"&&U.display!=="none"?(K.classList.add("dnd-poly-snapback"),ne=getComputedStyle(K),A=parseFloat(ne.transitionDuration),isNaN(A)||A===0?se():((C={x:(V=C.getBoundingClientRect()).left,y:V.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,C.y+=document.body.scrollTop||document.documentElement.scrollTop,C.x-=parseInt(U.marginLeft,10),C.y-=parseInt(U.marginTop,10),V=parseFloat(ne.transitionDelay),V=Math.round(1e3*(A+V)),te(K,C,Y,void 0,!1),setTimeout(se,V))):se())):void this.q();var V=this.S.elementFromPoint(this.p.x,this.p.y),se=this.B;V!==this.V&&V!==this.B&&(this.V=V,this.B!==null&&(this.v.mode=3,this.I.dropEffect=l[0],O("dragexit",this.B,this.k,this.v,this.I,!1)),this.V===null?this.B=this.V:(this.v.mode=3,this.I.dropEffect=k(this.v.effectAllowed,this.m),O("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=H(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),se!==this.B&&f(se)&&(this.v.mode=3,this.I.dropEffect=l[0],O("dragleave",se,this.k,this.v,this.I,!1,this.B)),f(this.B)&&(this.v.mode=3,this.I.dropEffect=k(this.v.effectAllowed,this.m),O("dragover",this.B,this.k,this.v,this.I)===!1?this.l=l[0]:this.l=H(this.I.effectAllowed,this.I.dropEffect)),B!==this.l&&this.O.classList.remove(o+B),B=o+this.l,this.O.classList.add(B)},$.prototype.Y=function(T){return T=this.l===l[0]||this.B===null||T===3,T?f(this.B)&&(this.v.mode=3,this.I.dropEffect=l[0],O("dragleave",this.B,this.k,this.v,this.I,!1)):f(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,O("drop",this.B,this.k,this.v,this.I)===!0?this.l=this.I.dropEffect:this.l=l[0]),T},$.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,O("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},$);function $(T,B,K,Y){this.H=T,this.S=B,this.m=K,this.L=Y,this.u=0,this.V=null,this.B=null,this.k=T,this.M=T.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),g("touchmove",this.P,!1),g("touchend",this.T,!1),g("touchcancel",this.T,!1)}var D,z={iterationInterval:150,tryFindDraggableTarget:function(T){for(var B=0,K=T.composedPath();B<K.length;B++){var Y=K[B];do if(Y.draggable!==!1&&(Y.draggable===!0||Y.getAttribute&&Y.getAttribute("draggable")==="true"))return Y;while((Y=Y.parentNode)&&Y!==document.body)}},dragImageSetup:function(T){var B=T.cloneNode(!0);return function K(Y,ne){if(Y.nodeType===1){for(var C,U,A=getComputedStyle(Y),V=0;V<A.length;V++){var se=A[V];ne.style.setProperty(se,A.getPropertyValue(se),A.getPropertyPriority(se))}ne.style.pointerEvents="none",ne.removeAttribute("id"),ne.removeAttribute("class"),ne.removeAttribute("draggable"),ne.nodeName==="CANVAS"&&(C=ne,U=(U=Y).getContext("2d").getImageData(0,0,U.width,U.height),C.getContext("2d").putImageData(U,0,0))}if(Y.hasChildNodes())for(V=0;V<Y.childNodes.length;V++)K(Y.childNodes[V],ne.childNodes[V]);(function me(q){if(q instanceof HTMLElement&&(q.style.pointerEvents="none"),q.children&&q.children.length)for(var ee=0;ee<q.children.length;ee++)me(q.children[ee]);if(q.shadowRoot&&q.shadowRoot.children.length)for(ee=0;ee<q.shadowRoot.children.length;ee++)me(q.shadowRoot.children[ee])})(ne)}(T,B),B},elementFromPoint:function(T,B){var K=document.elementFromPoint(T,B);if(K){for(;K.shadowRoot;){var Y=K.shadowRoot.elementFromPoint(T,B);if(Y===null||Y===K)break;K=Y}return K}}};function R(T){if(!D){var B=z.tryFindDraggableTarget(T);if(B)try{D=new G(T,z,B,X)}catch(K){throw X(z,T,3),K}}}function Z(T){function B(V){ne.off(),C.off(),U.off(),A.off(),K&&K.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(Y)}var K=T.target;K&&K.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var Y=window.setTimeout(function(){ne.off(),C.off(),U.off(),A.off(),R(T)},z.holdToDrag),ne=x(K,"touchend",B),C=x(K,"touchcancel",B),U=x(K,"touchmove",B),A=x(window,"scroll",B,!0)}function X(T,B,K){if(K===0&&T.defaultActionOverride)try{T.defaultActionOverride(B),B.defaultPrevented}catch{}D=null}i.polyfill=function(T){if(T&&Object.keys(T).forEach(function(K){z[K]=T[K]}),!z.forceApply&&(B=(B=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||B&&"ontouchstart"in document.documentElement)}),B.userAgentSupportingNativeDnD&&B.draggable&&B.dragEvents))return!1;var B;return z.holdToDrag?g("touchstart",Z,!1):g("touchstart",R,!1),!0},i.supportsPassiveEventListener=c,Object.defineProperty(i,"G",{value:!0})})})(Mu,Mu.exports);var V_=Mu.exports,ju={exports:{}};(function(e,t){(function(i,o){o(t)})(Ru,function(i){function o(z){return z===document.body||z===document.documentElement}function a(z,R){var Z;if(o(z))Z=R===0?z.clientLeft:z.clientTop;else{var X=z.getBoundingClientRect();Z=R===0?X.left:X.top}return Z}function l(z,R){var Z;return o(z)?Z=R===0?window.innerWidth:window.innerHeight:Z=R===0?z.clientWidth:z.clientHeight,Z}function c(z,R,Z){var X=R===0?"scrollLeft":"scrollTop",T=o(z);if(arguments.length===2)return T?document.body[X]||document.documentElement[X]:z[X];T?(document.documentElement[X]+=Z,document.body[X]+=Z):z[X]+=Z}function p(z){var R=getComputedStyle(z);return z.scrollHeight>z.clientHeight&&(R.overflowY==="scroll"||R.overflowY==="auto")||z.scrollWidth>z.clientWidth&&(R.overflowX==="scroll"||R.overflowX==="auto")}function f(z){do{if(!z)return;if(p(z))return z;if(z===document.documentElement)return null}while(z=z.parentNode);return null}function g(z,R,Z){return z<Z?-1:R-z<Z?1:0}function b(z,R,Z,X){return z===-1?Math.abs(R-X):z===1?Math.abs(Z-R-X):0}function x(z,R,Z){var X=z===0?Z.scrollX:Z.scrollY;if(R===1){var T=z===0?Z.scrollWidth-Z.width:Z.scrollHeight-Z.height;return X>=T}else if(R===-1)return X<=0;return!0}var w={threshold:75,velocityFn:function(z,R){var Z=z/R,X=Z*Z*Z;return X*R}},N={horizontal:0,vertical:0},I={x:0,y:0},M,te,y,v,k;function O(z,R,Z,X){te=R,k=X,y!==Z&&(y=Z,v=f(y));var T=$(te,v,w.threshold,N,I);T?H():M&&(window.cancelAnimationFrame(M),M=null)}function H(){M||(M=window.requestAnimationFrame(G))}function G(){var z=0,R=0,Z=o(v);N.horizontal!==0&&(z=Math.round(w.velocityFn(I.x,w.threshold)*N.horizontal),c(v,0,z)),N.vertical!==0&&(R=Math.round(w.velocityFn(I.y,w.threshold)*N.vertical),c(v,1,R)),Z?k(z,R):k(0,0),M=null,$(te,v,w.threshold,N,I)&&H()}function $(z,R,Z,X,T){if(!z||!R)return!1;var B={x:a(R,0),y:a(R,1),width:l(R,0),height:l(R,1),scrollX:c(R,0),scrollY:c(R,1),scrollWidth:R.scrollWidth,scrollHeight:R.scrollHeight},K={x:z.x-B.x,y:z.y-B.y};return X.horizontal=g(K.x,B.width,Z),X.vertical=g(K.y,B.height,Z),X.horizontal&&x(0,X.horizontal,B)?X.horizontal=0:X.horizontal&&(T.x=b(X.horizontal,K.x,B.width,Z)),X.vertical&&x(1,X.vertical,B)?X.vertical=0:X.vertical&&(T.y=b(X.vertical,K.y,B.height,Z)),!!(X.horizontal||X.vertical)}var D=O;i.scrollBehaviourDragImageTranslateOverride=D,Object.defineProperty(i,"__esModule",{value:!0})})})(ju,ju.exports);var W_=ju.exports;const G_=""+new URL("compass-DjuYXV7z.png",import.meta.url).href,Y_=""+new URL("layer-tgRGCNyO.png",import.meta.url).href,K_=""+new URL("menu-CTekbRYg.png",import.meta.url).href,X_=""+new URL("route-oCgy4FtE.png",import.meta.url).href,Q_=""+new URL("settings-DL-iSASc.png",import.meta.url).href,q_=""+new URL("zoom-BsLudKLj.png",import.meta.url).href;function J_(e,t){const i=S.useRef(t);S.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const e0=1;function t0(e){return Object.freeze({__version:e0,map:e})}function rm(e,t){return Object.freeze({...e,...t})}const om=S.createContext(null),sm=om.Provider;function Pa(){const e=S.useContext(om);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function am(e){function t(i,o){const{instance:a,context:l}=e(i).current;return S.useImperativeHandle(o,()=>a),i.children==null?null:po.createElement(sm,{value:l},i.children)}return S.forwardRef(t)}function lm(e){function t(i,o){const{instance:a}=e(i).current;return S.useImperativeHandle(o,()=>a),null}return S.forwardRef(t)}function n0(e){return function(i){const o=Pa(),a=e(i,o),{instance:l}=a.current,c=S.useRef(i.position),{position:p}=i;return S.useEffect(function(){return l.addTo(o.map),function(){l.remove()}},[o.map,l]),S.useEffect(function(){p!=null&&p!==c.current&&(l.setPosition(p),c.current=p)},[l,p]),a}}function um(e,t){const i=S.useRef();S.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function jc(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}var Ou={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,o){o(t)})(Ru,function(i){var o="1.9.4";function a(n){var r,s,u,d;for(s=1,u=arguments.length;s<u;s++){d=arguments[s];for(r in d)n[r]=d[r]}return n}var l=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function c(n,r){var s=Array.prototype.slice;if(n.bind)return n.bind.apply(n,s.call(arguments,1));var u=s.call(arguments,2);return function(){return n.apply(r,u.length?u.concat(s.call(arguments)):arguments)}}var p=0;function f(n){return"_leaflet_id"in n||(n._leaflet_id=++p),n._leaflet_id}function g(n,r,s){var u,d,m,_;return _=function(){u=!1,d&&(m.apply(s,d),d=!1)},m=function(){u?d=arguments:(n.apply(s,arguments),setTimeout(_,r),u=!0)},m}function b(n,r,s){var u=r[1],d=r[0],m=u-d;return n===u&&s?n:((n-d)%m+m)%m+d}function x(){return!1}function w(n,r){if(r===!1)return n;var s=Math.pow(10,r===void 0?6:r);return Math.round(n*s)/s}function N(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function I(n){return N(n).split(/\s+/)}function M(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?l(n.options):{});for(var s in r)n.options[s]=r[s];return n.options}function te(n,r,s){var u=[];for(var d in n)u.push(encodeURIComponent(s?d.toUpperCase():d)+"="+encodeURIComponent(n[d]));return(!r||r.indexOf("?")===-1?"?":"&")+u.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function v(n,r){return n.replace(y,function(s,u){var d=r[u];if(d===void 0)throw new Error("No value provided for variable "+s);return typeof d=="function"&&(d=d(r)),d})}var k=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function O(n,r){for(var s=0;s<n.length;s++)if(n[s]===r)return s;return-1}var H="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var $=0;function D(n){var r=+new Date,s=Math.max(0,16-(r-$));return $=r+s,window.setTimeout(n,s)}var z=window.requestAnimationFrame||G("RequestAnimationFrame")||D,R=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Z(n,r,s){if(s&&z===D)n.call(r);else return z.call(window,c(n,r))}function X(n){n&&R.call(window,n)}var T={__proto__:null,extend:a,create:l,bind:c,get lastId(){return p},stamp:f,throttle:g,wrapNum:b,falseFn:x,formatNum:w,trim:N,splitWords:I,setOptions:M,getParamString:te,template:v,isArray:k,indexOf:O,emptyImageUrl:H,requestFn:z,cancelFn:R,requestAnimFrame:Z,cancelAnimFrame:X};function B(){}B.extend=function(n){var r=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=r.__super__=this.prototype,u=l(s);u.constructor=r,r.prototype=u;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(r[d]=this[d]);return n.statics&&a(r,n.statics),n.includes&&(K(n.includes),a.apply(null,[u].concat(n.includes))),a(u,n),delete u.statics,delete u.includes,u.options&&(u.options=s.options?l(s.options):{},a(u.options,n.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,_=u._initHooks.length;m<_;m++)u._initHooks[m].call(this)}},r},B.include=function(n){var r=this.prototype.options;return a(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},B.mergeOptions=function(n){return a(this.prototype.options,n),this},B.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),s=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};function K(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=k(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(n,r,s){if(typeof n=="object")for(var u in n)this._on(u,n[u],r);else{n=I(n);for(var d=0,m=n.length;d<m;d++)this._on(n[d],r,s)}return this},off:function(n,r,s){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var u in n)this._off(u,n[u],r);else{n=I(n);for(var d=arguments.length===1,m=0,_=n.length;m<_;m++)d?this._off(n[m]):this._off(n[m],r,s)}return this},_on:function(n,r,s,u){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,s)===!1){s===this&&(s=void 0);var d={fn:r,ctx:s};u&&(d.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(d)}},_off:function(n,r,s){var u,d,m;if(this._events&&(u=this._events[n],!!u)){if(arguments.length===1){if(this._firingCount)for(d=0,m=u.length;d<m;d++)u[d].fn=x;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var _=this._listens(n,r,s);if(_!==!1){var E=u[_];this._firingCount&&(E.fn=x,this._events[n]=u=u.slice()),u.splice(_,1)}}},fire:function(n,r,s){if(!this.listens(n,s))return this;var u=a({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var d=this._events[n];if(d){this._firingCount=this._firingCount+1||1;for(var m=0,_=d.length;m<_;m++){var E=d[m],j=E.fn;E.once&&this.off(n,j,E.ctx),j.call(E.ctx||this,u)}this._firingCount--}}return s&&this._propagateEvent(u),this},listens:function(n,r,s,u){typeof n!="string"&&console.warn('"string" type argument expected');var d=r;typeof r!="function"&&(u=!!r,d=void 0,s=void 0);var m=this._events&&this._events[n];if(m&&m.length&&this._listens(n,d,s)!==!1)return!0;if(u){for(var _ in this._eventParents)if(this._eventParents[_].listens(n,r,s,u))return!0}return!1},_listens:function(n,r,s){if(!this._events)return!1;var u=this._events[n]||[];if(!r)return!!u.length;s===this&&(s=void 0);for(var d=0,m=u.length;d<m;d++)if(u[d].fn===r&&u[d].ctx===s)return d;return!1},once:function(n,r,s){if(typeof n=="object")for(var u in n)this._on(u,n[u],r,!0);else{n=I(n);for(var d=0,m=n.length;d<m;d++)this._on(n[d],r,s,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[f(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[f(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,a({layer:n.target,propagatedFrom:n.target},n),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var ne=B.extend(Y);function C(n,r,s){this.x=s?Math.round(n):n,this.y=s?Math.round(r):r}var U=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};C.prototype={clone:function(){return new C(this.x,this.y)},add:function(n){return this.clone()._add(A(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(A(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new C(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new C(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=U(this.x),this.y=U(this.y),this},distanceTo:function(n){n=A(n);var r=n.x-this.x,s=n.y-this.y;return Math.sqrt(r*r+s*s)},equals:function(n){return n=A(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=A(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function A(n,r,s){return n instanceof C?n:k(n)?new C(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new C(n.x,n.y):new C(n,r,s)}function V(n,r){if(n)for(var s=r?[n,r]:n,u=0,d=s.length;u<d;u++)this.extend(s[u])}V.prototype={extend:function(n){var r,s;if(!n)return this;if(n instanceof C||typeof n[0]=="number"||"x"in n)r=s=A(n);else if(n=se(n),r=n.min,s=n.max,!r||!s)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=s.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)),this},getCenter:function(n){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,s;return typeof n[0]=="number"||n instanceof C?n=A(n):n=se(n),n instanceof V?(r=n.min,s=n.max):r=s=n,r.x>=this.min.x&&s.x<=this.max.x&&r.y>=this.min.y&&s.y<=this.max.y},intersects:function(n){n=se(n);var r=this.min,s=this.max,u=n.min,d=n.max,m=d.x>=r.x&&u.x<=s.x,_=d.y>=r.y&&u.y<=s.y;return m&&_},overlaps:function(n){n=se(n);var r=this.min,s=this.max,u=n.min,d=n.max,m=d.x>r.x&&u.x<s.x,_=d.y>r.y&&u.y<s.y;return m&&_},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,s=this.max,u=Math.abs(r.x-s.x)*n,d=Math.abs(r.y-s.y)*n;return se(A(r.x-u,r.y-d),A(s.x+u,s.y+d))},equals:function(n){return n?(n=se(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function se(n,r){return!n||n instanceof V?n:new V(n,r)}function me(n,r){if(n)for(var s=r?[n,r]:n,u=0,d=s.length;u<d;u++)this.extend(s[u])}me.prototype={extend:function(n){var r=this._southWest,s=this._northEast,u,d;if(n instanceof ee)u=n,d=n;else if(n instanceof me){if(u=n._southWest,d=n._northEast,!u||!d)return this}else return n?this.extend(le(n)||q(n)):this;return!r&&!s?(this._southWest=new ee(u.lat,u.lng),this._northEast=new ee(d.lat,d.lng)):(r.lat=Math.min(u.lat,r.lat),r.lng=Math.min(u.lng,r.lng),s.lat=Math.max(d.lat,s.lat),s.lng=Math.max(d.lng,s.lng)),this},pad:function(n){var r=this._southWest,s=this._northEast,u=Math.abs(r.lat-s.lat)*n,d=Math.abs(r.lng-s.lng)*n;return new me(new ee(r.lat-u,r.lng-d),new ee(s.lat+u,s.lng+d))},getCenter:function(){return new ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ee||"lat"in n?n=le(n):n=q(n);var r=this._southWest,s=this._northEast,u,d;return n instanceof me?(u=n.getSouthWest(),d=n.getNorthEast()):u=d=n,u.lat>=r.lat&&d.lat<=s.lat&&u.lng>=r.lng&&d.lng<=s.lng},intersects:function(n){n=q(n);var r=this._southWest,s=this._northEast,u=n.getSouthWest(),d=n.getNorthEast(),m=d.lat>=r.lat&&u.lat<=s.lat,_=d.lng>=r.lng&&u.lng<=s.lng;return m&&_},overlaps:function(n){n=q(n);var r=this._southWest,s=this._northEast,u=n.getSouthWest(),d=n.getNorthEast(),m=d.lat>r.lat&&u.lat<s.lat,_=d.lng>r.lng&&u.lng<s.lng;return m&&_},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=q(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function q(n,r){return n instanceof me?n:new me(n,r)}function ee(n,r,s){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,s!==void 0&&(this.alt=+s)}ee.prototype={equals:function(n,r){if(!n)return!1;n=le(n);var s=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return s<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+w(this.lat,n)+", "+w(this.lng,n)+")"},distanceTo:function(n){return pe.distance(this,le(n))},wrap:function(){return pe.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,s=r/Math.cos(Math.PI/180*this.lat);return q([this.lat-r,this.lng-s],[this.lat+r,this.lng+s])},clone:function(){return new ee(this.lat,this.lng,this.alt)}};function le(n,r,s){return n instanceof ee?n:k(n)&&typeof n[0]!="object"?n.length===3?new ee(n[0],n[1],n[2]):n.length===2?new ee(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ee(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new ee(n,r,s)}var fe={latLngToPoint:function(n,r){var s=this.projection.project(n),u=this.scale(r);return this.transformation._transform(s,u)},pointToLatLng:function(n,r){var s=this.scale(r),u=this.transformation.untransform(n,s);return this.projection.unproject(u)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,s=this.scale(n),u=this.transformation.transform(r.min,s),d=this.transformation.transform(r.max,s);return new V(u,d)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?b(n.lng,this.wrapLng,!0):n.lng,s=this.wrapLat?b(n.lat,this.wrapLat,!0):n.lat,u=n.alt;return new ee(s,r,u)},wrapLatLngBounds:function(n){var r=n.getCenter(),s=this.wrapLatLng(r),u=r.lat-s.lat,d=r.lng-s.lng;if(u===0&&d===0)return n;var m=n.getSouthWest(),_=n.getNorthEast(),E=new ee(m.lat-u,m.lng-d),j=new ee(_.lat-u,_.lng-d);return new me(E,j)}},pe=a({},fe,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var s=Math.PI/180,u=n.lat*s,d=r.lat*s,m=Math.sin((r.lat-n.lat)*s/2),_=Math.sin((r.lng-n.lng)*s/2),E=m*m+Math.cos(u)*Math.cos(d)*_*_,j=2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E));return this.R*j}}),Mt=6378137,pt={R:Mt,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,s=this.MAX_LATITUDE,u=Math.max(Math.min(s,n.lat),-s),d=Math.sin(u*r);return new C(this.R*n.lng*r,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(n){var r=180/Math.PI;return new ee((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=Mt*Math.PI;return new V([-n,-n],[n,n])}()};function jt(n,r,s,u){if(k(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=s,this._d=u}jt.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new C((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function Ge(n,r,s,u){return new jt(n,r,s,u)}var kt=a({},pe,{code:"EPSG:3857",projection:pt,transformation:function(){var n=.5/(Math.PI*pt.R);return Ge(n,.5,-n,.5)}()}),dn=a({},kt,{code:"EPSG:900913"});function Ot(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Oe(n,r){var s="",u,d,m,_,E,j;for(u=0,m=n.length;u<m;u++){for(E=n[u],d=0,_=E.length;d<_;d++)j=E[d],s+=(d?"L":"M")+j.x+" "+j.y;s+=r?ae.svg?"z":"x":""}return s||"M0 0"}var Ye=document.documentElement.style,qt="ActiveXObject"in window,he=qt&&!document.addEventListener,Le="msLaunchUri"in navigator&&!("documentMode"in document),ke=St("webkit"),it=St("android"),Fe=St("android 2")||St("android 3"),Ke=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Jt=it&&St("Google")&&Ke<537&&!("AudioNode"in window),en=!!window.opera,qe=!Le&&St("chrome"),He=St("gecko")&&!ke&&!en&&!qt,mt=!qe&&St("safari"),oe=St("phantom"),J="OTransition"in Ye,rt=navigator.platform.indexOf("Win")===0,zt=qt&&"transition"in Ye,bt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Fe,Ae="MozPerspective"in Ye,Na=!window.L_DISABLE_3D&&(zt||bt||Ae)&&!J&&!oe,ui=typeof orientation<"u"||St("mobile"),Ii=ui&&ke,Ma=ui&&bt,$e=!window.PointerEvent&&window.MSPointerEvent,An=!!(window.PointerEvent||$e),Pr="ontouchstart"in window||!!window.TouchEvent,Ri=!window.L_NO_TOUCH&&(Pr||An),Zo=ui&&en,ja=ui&&He,Er=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ai=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",x,r),window.removeEventListener("testPassiveEventSupport",x,r)}catch{}return n}(),Di=function(){return!!document.createElement("canvas").getContext}(),Lr=!!(document.createElementNS&&Ot("svg").createSVGRect),Tr=!!Lr&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Oa=!Lr&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),za=navigator.platform.indexOf("Mac")===0,ci=navigator.platform.indexOf("Linux")===0;function St(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ae={ie:qt,ielt9:he,edge:Le,webkit:ke,android:it,android23:Fe,androidStock:Jt,opera:en,chrome:qe,gecko:He,safari:mt,phantom:oe,opera12:J,win:rt,ie3d:zt,webkit3d:bt,gecko3d:Ae,any3d:Na,mobile:ui,mobileWebkit:Ii,mobileWebkit3d:Ma,msPointer:$e,pointer:An,touch:Ri,touchNative:Pr,mobileOpera:Zo,mobileGecko:ja,retina:Er,passiveEvents:Ai,canvas:Di,svg:Lr,vml:Oa,inlineSvg:Tr,mac:za,linux:ci},Ue=ae.msPointer?"MSPointerDown":"pointerdown",Fo=ae.msPointer?"MSPointerMove":"pointermove",Nr=ae.msPointer?"MSPointerUp":"pointerup",Mr=ae.msPointer?"MSPointerCancel":"pointercancel",jr={touchstart:Ue,touchmove:Fo,touchend:Nr,touchcancel:Mr},Ho={touchstart:Uo,touchmove:fi,touchend:fi,touchcancel:fi},Dn={},$o=!1;function di(n,r,s){return r==="touchstart"&&Da(),Ho[r]?(s=Ho[r].bind(this,s),n.addEventListener(jr[r],s,!1),s):(console.warn("wrong event specified:",r),x)}function Ia(n,r,s){if(!jr[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(jr[r],s,!1)}function Ra(n){Dn[n.pointerId]=n}function Aa(n){Dn[n.pointerId]&&(Dn[n.pointerId]=n)}function Or(n){delete Dn[n.pointerId]}function Da(){$o||(document.addEventListener(Ue,Ra,!0),document.addEventListener(Fo,Aa,!0),document.addEventListener(Nr,Or,!0),document.addEventListener(Mr,Or,!0),$o=!0)}function fi(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var s in Dn)r.touches.push(Dn[s]);r.changedTouches=[r],n(r)}}function Uo(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&ot(r),fi(n,r)}function Ba(n){var r={},s,u;for(u in n)s=n[u],r[u]=s&&s.bind?s.bind(n):s;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Za=200;function Fa(n,r){n.addEventListener("dblclick",r);var s=0,u;function d(m){if(m.detail!==1){u=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var _=Dc(m);if(!(_.some(function(j){return j instanceof HTMLLabelElement&&j.attributes.for})&&!_.some(function(j){return j instanceof HTMLInputElement||j instanceof HTMLSelectElement}))){var E=Date.now();E-s<=Za?(u++,u===2&&r(Ba(m))):u=1,s=E}}}return n.addEventListener("click",d),{dblclick:r,simDblclick:d}}function Ha(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var zr=It(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hi=It(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Vo=hi==="webkitTransition"||hi==="OTransition"?hi+"End":"transitionend";function Wo(n){return typeof n=="string"?document.getElementById(n):n}function pi(n,r){var s=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!s||s==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(n,null);s=u?u[r]:null}return s==="auto"?null:s}function ye(n,r,s){var u=document.createElement(n);return u.className=r||"",s&&s.appendChild(u),u}function Te(n){var r=n.parentNode;r&&r.removeChild(n)}function mi(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function P(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function Q(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function de(n,r){if(n.classList!==void 0)return n.classList.contains(r);var s=Bn(n);return s.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(s)}function ue(n,r){if(n.classList!==void 0)for(var s=I(r),u=0,d=s.length;u<d;u++)n.classList.add(s[u]);else if(!de(n,r)){var m=Bn(n);fn(n,(m?m+" ":"")+r)}}function Ce(n,r){n.classList!==void 0?n.classList.remove(r):fn(n,N((" "+Bn(n)+" ").replace(" "+r+" "," ")))}function fn(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function Bn(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function gt(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&ut(n,r)}function ut(n,r){var s=!1,u="DXImageTransform.Microsoft.Alpha";try{s=n.filters.item(u)}catch{if(r===1)return}r=Math.round(r*100),s?(s.Enabled=r!==100,s.Opacity=r):n.style.filter+=" progid:"+u+"(opacity="+r+")"}function It(n){for(var r=document.documentElement.style,s=0;s<n.length;s++)if(n[s]in r)return n[s];return!1}function Je(n,r,s){var u=r||new C(0,0);n.style[zr]=(ae.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(s?" scale("+s+")":"")}function Se(n,r){n._leaflet_pos=r,ae.any3d?Je(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function Rt(n){return n._leaflet_pos||new C(0,0)}var wn,At,kn;if("onselectstart"in document)wn=function(){ge(window,"selectstart",ot)},At=function(){Pe(window,"selectstart",ot)};else{var Be=It(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wn=function(){if(Be){var n=document.documentElement.style;kn=n[Be],n[Be]="none"}},At=function(){Be&&(document.documentElement.style[Be]=kn,kn=void 0)}}function gi(){ge(window,"dragstart",ot)}function Ir(){Pe(window,"dragstart",ot)}var Bi,$a;function Ua(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Go(),Bi=n,$a=n.style.outlineStyle,n.style.outlineStyle="none",ge(window,"keydown",Go))}function Go(){Bi&&(Bi.style.outlineStyle=$a,Bi=void 0,$a=void 0,Pe(window,"keydown",Go))}function Rc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Va(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var Cm={__proto__:null,TRANSFORM:zr,TRANSITION:hi,TRANSITION_END:Vo,get:Wo,getStyle:pi,create:ye,remove:Te,empty:mi,toFront:P,toBack:Q,hasClass:de,addClass:ue,removeClass:Ce,setClass:fn,getClass:Bn,setOpacity:gt,testProp:It,setTransform:Je,setPosition:Se,getPosition:Rt,get disableTextSelection(){return wn},get enableTextSelection(){return At},disableImageDrag:gi,enableImageDrag:Ir,preventOutline:Ua,restoreOutline:Go,getSizedParentNode:Rc,getScale:Va};function ge(n,r,s,u){if(r&&typeof r=="object")for(var d in r)Ga(n,d,r[d],s);else{r=I(r);for(var m=0,_=r.length;m<_;m++)Ga(n,r[m],s,u)}return this}var hn="_leaflet_events";function Pe(n,r,s,u){if(arguments.length===1)Ac(n),delete n[hn];else if(r&&typeof r=="object")for(var d in r)Ya(n,d,r[d],s);else if(r=I(r),arguments.length===2)Ac(n,function(E){return O(r,E)!==-1});else for(var m=0,_=r.length;m<_;m++)Ya(n,r[m],s,u);return this}function Ac(n,r){for(var s in n[hn]){var u=s.split(/\d/)[0];(!r||r(u))&&Ya(n,u,null,null,s)}}var Wa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ga(n,r,s,u){var d=r+f(s)+(u?"_"+f(u):"");if(n[hn]&&n[hn][d])return this;var m=function(E){return s.call(u||n,E||window.event)},_=m;!ae.touchNative&&ae.pointer&&r.indexOf("touch")===0?m=di(n,r,m):ae.touch&&r==="dblclick"?m=Fa(n,m):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(Wa[r]||r,m,ae.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(m=function(E){E=E||window.event,Xa(n,E)&&_(E)},n.addEventListener(Wa[r],m,!1)):n.addEventListener(r,_,!1):n.attachEvent("on"+r,m),n[hn]=n[hn]||{},n[hn][d]=m}function Ya(n,r,s,u,d){d=d||r+f(s)+(u?"_"+f(u):"");var m=n[hn]&&n[hn][d];if(!m)return this;!ae.touchNative&&ae.pointer&&r.indexOf("touch")===0?Ia(n,r,m):ae.touch&&r==="dblclick"?Ha(n,m):"removeEventListener"in n?n.removeEventListener(Wa[r]||r,m,!1):n.detachEvent("on"+r,m),n[hn][d]=null}function vi(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Ka(n){return Ga(n,"wheel",vi),this}function Rr(n){return ge(n,"mousedown touchstart dblclick contextmenu",vi),n._leaflet_disable_click=!0,this}function ot(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function _i(n){return ot(n),vi(n),this}function Dc(n){if(n.composedPath)return n.composedPath();for(var r=[],s=n.target;s;)r.push(s),s=s.parentNode;return r}function Bc(n,r){if(!r)return new C(n.clientX,n.clientY);var s=Va(r),u=s.boundingClientRect;return new C((n.clientX-u.left)/s.x-r.clientLeft,(n.clientY-u.top)/s.y-r.clientTop)}var Pm=ae.linux&&ae.chrome?window.devicePixelRatio:ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Zc(n){return ae.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Pm:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Xa(n,r){var s=r.relatedTarget;if(!s)return!0;try{for(;s&&s!==n;)s=s.parentNode}catch{return!1}return s!==n}var Em={__proto__:null,on:ge,off:Pe,stopPropagation:vi,disableScrollPropagation:Ka,disableClickPropagation:Rr,preventDefault:ot,stop:_i,getPropagationPath:Dc,getMousePosition:Bc,getWheelDelta:Zc,isExternalTarget:Xa,addListener:ge,removeListener:Pe},Fc=ne.extend({run:function(n,r,s,u){this.stop(),this._el=n,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=Rt(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,s=this._duration*1e3;r<s?this._runFrame(this._easeOut(r/s),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var s=this._startPos.add(this._offset.multiplyBy(n));r&&s._round(),Se(this._el,s),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),xe=ne.extend({options:{crs:kt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=M(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(le(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hi&&ae.any3d&&!ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ge(this._proxy,Vo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,s){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(le(n),r,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==void 0&&(s.zoom=a({animate:s.animate},s.zoom),s.pan=a({animate:s.animate,duration:s.duration},s.pan));var u=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,s.zoom):this._tryAnimatedPan(n,s.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,s.pan&&s.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,s){var u=this.getZoomScale(r),d=this.getSize().divideBy(2),m=n instanceof C?n:this.latLngToContainerPoint(n),_=m.subtract(d).multiplyBy(1-1/u),E=this.containerPointToLatLng(d.add(_));return this.setView(E,r,{zoom:s})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():q(n);var s=A(r.paddingTopLeft||r.padding||[0,0]),u=A(r.paddingBottomRight||r.padding||[0,0]),d=this.getBoundsZoom(n,!1,s.add(u));if(d=typeof r.maxZoom=="number"?Math.min(r.maxZoom,d):d,d===1/0)return{center:n.getCenter(),zoom:d};var m=u.subtract(s).divideBy(2),_=this.project(n.getSouthWest(),d),E=this.project(n.getNorthEast(),d),j=this.unproject(_.add(E).divideBy(2).add(m),d);return{center:j,zoom:d}},fitBounds:function(n,r){if(n=q(n),!n.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(n,r);return this.setView(s.center,s.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=A(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){ue(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,s,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,s){if(s=s||{},s.animate===!1||!ae.any3d)return this.setView(n,r,s);this._stop();var u=this.project(this.getCenter()),d=this.project(n),m=this.getSize(),_=this._zoom;n=le(n),r=r===void 0?_:r;var E=Math.max(m.x,m.y),j=E*this.getZoomScale(_,r),F=d.distanceTo(u)||1,ie=1.42,ce=ie*ie;function ve(Ve){var os=Ve?-1:1,mg=Ve?j:E,gg=j*j-E*E+os*ce*ce*F*F,vg=2*mg*ce*F,al=gg/vg,wd=Math.sqrt(al*al+1)-al,_g=wd<1e-9?-18:Math.log(wd);return _g}function vt(Ve){return(Math.exp(Ve)-Math.exp(-Ve))/2}function et(Ve){return(Math.exp(Ve)+Math.exp(-Ve))/2}function Vt(Ve){return vt(Ve)/et(Ve)}var Ct=ve(0);function Vi(Ve){return E*(et(Ct)/et(Ct+ie*Ve))}function dg(Ve){return E*(et(Ct)*Vt(Ct+ie*Ve)-vt(Ct))/ce}function fg(Ve){return 1-Math.pow(1-Ve,1.5)}var hg=Date.now(),yd=(ve(1)-Ct)/ie,pg=s.duration?1e3*s.duration:1e3*yd*.8;function xd(){var Ve=(Date.now()-hg)/pg,os=fg(Ve)*yd;Ve<=1?(this._flyToFrame=Z(xd,this),this._move(this.unproject(u.add(d.subtract(u).multiplyBy(dg(os)/F)),_),this.getScaleZoom(E/Vi(os),_),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),xd.call(this),this},flyToBounds:function(n,r){var s=this._getBoundsCenterZoom(n,r);return this.flyTo(s.center,s.zoom,r)},setMaxBounds:function(n){return n=q(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var s=this.getCenter(),u=this._limitCenter(s,this._zoom,q(n));return s.equals(u)||this.panTo(u,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var s=A(r.paddingTopLeft||r.padding||[0,0]),u=A(r.paddingBottomRight||r.padding||[0,0]),d=this.project(this.getCenter()),m=this.project(n),_=this.getPixelBounds(),E=se([_.min.add(s),_.max.subtract(u)]),j=E.getSize();if(!E.contains(m)){this._enforcingBounds=!0;var F=m.subtract(E.getCenter()),ie=E.extend(m).getSize().subtract(j);d.x+=F.x<0?-ie.x:ie.x,d.y+=F.y<0?-ie.y:ie.y,this.panTo(this.unproject(d),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=a({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),u=r.divideBy(2).round(),d=s.divideBy(2).round(),m=u.subtract(d);return!m.x&&!m.y?this:(n.animate&&n.pan?this.panBy(m):(n.pan&&this._rawPanBy(m),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:s}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=a({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=c(this._handleGeolocationResponse,this),s=c(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,s,n):navigator.geolocation.getCurrentPosition(r,s,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,s=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+s+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,s=n.coords.longitude,u=new ee(r,s),d=u.toBounds(n.coords.accuracy*2),m=this._locateOptions;if(m.setView){var _=this.getBoundsZoom(d);this.setView(u,m.maxZoom?Math.min(_,m.maxZoom):_)}var E={latlng:u,bounds:d,timestamp:n.timestamp};for(var j in n.coords)typeof n.coords[j]=="number"&&(E[j]=n.coords[j]);this.fire("locationfound",E)}},addHandler:function(n,r){if(!r)return this;var s=this[n]=new r(this);return this._handlers.push(s),this.options[n]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Te(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Te(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var s="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),u=ye("div",s,r||this._mapPane);return n&&(this._panes[n]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),s=this.unproject(n.getTopRight());return new me(r,s)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,s){n=q(n),s=A(s||[0,0]);var u=this.getZoom()||0,d=this.getMinZoom(),m=this.getMaxZoom(),_=n.getNorthWest(),E=n.getSouthEast(),j=this.getSize().subtract(s),F=se(this.project(E,u),this.project(_,u)).getSize(),ie=ae.any3d?this.options.zoomSnap:1,ce=j.x/F.x,ve=j.y/F.y,vt=r?Math.max(ce,ve):Math.min(ce,ve);return u=this.getScaleZoom(vt,u),ie&&(u=Math.round(u/(ie/100))*(ie/100),u=r?Math.ceil(u/ie)*ie:Math.floor(u/ie)*ie),Math.max(d,Math.min(m,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new C(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var s=this._getTopLeftPoint(n,r);return new V(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var s=this.options.crs;return r=r===void 0?this._zoom:r,s.scale(n)/s.scale(r)},getScaleZoom:function(n,r){var s=this.options.crs;r=r===void 0?this._zoom:r;var u=s.zoom(n*s.scale(r));return isNaN(u)?1/0:u},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(le(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(A(n),r)},layerPointToLatLng:function(n){var r=A(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(le(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(le(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(q(n))},distance:function(n,r){return this.options.crs.distance(le(n),le(r))},containerPointToLayerPoint:function(n){return A(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return A(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(A(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(le(n)))},mouseEventToContainerPoint:function(n){return Bc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=Wo(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ge(r,"scroll",this._onScroll,this),this._containerId=f(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&ae.any3d,ue(n,"leaflet-container"+(ae.touch?" leaflet-touch":"")+(ae.retina?" leaflet-retina":"")+(ae.ielt9?" leaflet-oldie":"")+(ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=pi(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Se(this._mapPane,new C(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ue(n.markerPane,"leaflet-zoom-hide"),ue(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,s){Se(this._mapPane,new C(0,0));var u=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var d=this._zoom!==r;this._moveStart(d,s)._move(n,r)._moveEnd(d),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,s,u){r===void 0&&(r=this._zoom);var d=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),u?s&&s.pinch&&this.fire("zoom",s):((d||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Se(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[f(this._container)]=this;var r=n?Pe:ge;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),ae.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var s=[],u,d=r==="mouseout"||r==="mouseover",m=n.target||n.srcElement,_=!1;m;){if(u=this._targets[f(m)],u&&(r==="click"||r==="preclick")&&this._draggableMoved(u)){_=!0;break}if(u&&u.listens(r,!0)&&(d&&!Xa(m,n)||(s.push(u),d))||m===this._container)break;m=m.parentNode}return!s.length&&!_&&!d&&this.listens(r,!0)&&(s=[this]),s},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var s=n.type;s==="mousedown"&&Ua(r),this._fireDOMEvent(n,s)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,s){if(n.type==="click"){var u=a({},n);u.type="preclick",this._fireDOMEvent(u,u.type,s)}var d=this._findEventTargets(n,r);if(s){for(var m=[],_=0;_<s.length;_++)s[_].listens(r,!0)&&m.push(s[_]);d=m.concat(d)}if(d.length){r==="contextmenu"&&ot(n);var E=d[0],j={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var F=E.getLatLng&&(!E._radius||E._radius<=10);j.containerPoint=F?this.latLngToContainerPoint(E.getLatLng()):this.mouseEventToContainerPoint(n),j.layerPoint=this.containerPointToLayerPoint(j.containerPoint),j.latlng=F?E.getLatLng():this.layerPointToLatLng(j.layerPoint)}for(_=0;_<d.length;_++)if(d[_].fire(r,j,!0),j.originalEvent._stopped||d[_].options.bubblingMouseEvents===!1&&O(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return Rt(this._mapPane)||new C(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var s=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var s=this.getSize()._divideBy(2);return this.project(n,r)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,s){var u=this._getNewPixelOrigin(s,r);return this.project(n,r)._subtract(u)},_latLngBoundsToNewLayerBounds:function(n,r,s){var u=this._getNewPixelOrigin(s,r);return se([this.project(n.getSouthWest(),r)._subtract(u),this.project(n.getNorthWest(),r)._subtract(u),this.project(n.getSouthEast(),r)._subtract(u),this.project(n.getNorthEast(),r)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,s){if(!s)return n;var u=this.project(n,r),d=this.getSize().divideBy(2),m=new V(u.subtract(d),u.add(d)),_=this._getBoundsOffset(m,s,r);return Math.abs(_.x)<=1&&Math.abs(_.y)<=1?n:this.unproject(u.add(_),r)},_limitOffset:function(n,r){if(!r)return n;var s=this.getPixelBounds(),u=new V(s.min.add(n),s.max.add(n));return n.add(this._getBoundsOffset(u,r))},_getBoundsOffset:function(n,r,s){var u=se(this.project(r.getNorthEast(),s),this.project(r.getSouthWest(),s)),d=u.min.subtract(n.min),m=u.max.subtract(n.max),_=this._rebound(d.x,-m.x),E=this._rebound(d.y,-m.y);return new C(_,E)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),s=this.getMaxZoom(),u=ae.any3d?this.options.zoomSnap:1;return u&&(n=Math.round(n/u)*u),Math.max(r,Math.min(s,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var s=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,r),!0)},_createAnimProxy:function(){var n=this._proxy=ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var s=zr,u=this._proxy.style[s];Je(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),u===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Te(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();Je(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(r),d=this._getCenterOffset(n)._divideBy(1-1/u);return s.animate!==!0&&!this.getSize().contains(d)?!1:(Z(function(){this._moveStart(!0,s.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,s,u){this._mapPane&&(s&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Lm(n,r){return new xe(n,r)}var tn=B.extend({options:{position:"topright"},initialize:function(n){M(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),s=this.getPosition(),u=n._controlCorners[s];return ue(r,"leaflet-control"),s.indexOf("bottom")!==-1?u.insertBefore(r,u.firstChild):u.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Te(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Ar=function(n){return new tn(n)};xe.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",s=this._controlContainer=ye("div",r+"control-container",this._container);function u(d,m){var _=r+d+" "+r+m;n[d+m]=ye("div",_,s)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Te(this._controlCorners[n]);Te(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Hc=tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,s,u){return s<u?-1:u<s?1:0}},initialize:function(n,r,s){M(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in n)this._addLayer(n[u],u);for(u in r)this._addLayer(r[u],u,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return tn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(f(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=ye("div",n),s=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Rr(r),Ka(r);var u=this._section=ye("section",n+"-list");s&&(this._map.on("click",this.collapse,this),ge(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=ye("a",n+"-toggle",r);d.href="#",d.title="Layers",d.setAttribute("role","button"),ge(d,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){ot(m),this._expandSafely()}},this),s||this.expand(),this._baseLayersList=ye("div",n+"-base",u),this._separator=ye("div",n+"-separator",u),this._overlaysList=ye("div",n+"-overlays",u),r.appendChild(u)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&f(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,s){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:s}),this.options.sortLayers&&this._layers.sort(c(function(u,d){return this.options.sortFunction(u.layer,d.layer,u.name,d.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mi(this._baseLayersList),mi(this._overlaysList),this._layerControlInputs=[];var n,r,s,u,d=0;for(s=0;s<this._layers.length;s++)u=this._layers[s],this._addItem(u),r=r||u.overlay,n=n||!u.overlay,d+=u.overlay?0:1;return this.options.hideSingleBase&&(n=n&&d>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(f(n.target)),s=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;s&&this._map.fire(s,r)},_createRadioElement:function(n,r){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=s,u.firstChild},_addItem:function(n){var r=document.createElement("label"),s=this._map.hasLayer(n.layer),u;n.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=s):u=this._createRadioElement("leaflet-base-layers_"+f(this),s),this._layerControlInputs.push(u),u.layerId=f(n.layer),ge(u,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+n.name;var m=document.createElement("span");r.appendChild(m),m.appendChild(u),m.appendChild(d);var _=n.overlay?this._overlaysList:this._baseLayersList;return _.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,s,u=[],d=[];this._handlingClick=!0;for(var m=n.length-1;m>=0;m--)r=n[m],s=this._getLayer(r.layerId).layer,r.checked?u.push(s):r.checked||d.push(s);for(m=0;m<d.length;m++)this._map.hasLayer(d[m])&&this._map.removeLayer(d[m]);for(m=0;m<u.length;m++)this._map.hasLayer(u[m])||this._map.addLayer(u[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,s,u=this._map.getZoom(),d=n.length-1;d>=0;d--)r=n[d],s=this._getLayer(r.layerId).layer,r.disabled=s.options.minZoom!==void 0&&u<s.options.minZoom||s.options.maxZoom!==void 0&&u>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,ge(n,"click",ot),this.expand();var r=this;setTimeout(function(){Pe(n,"click",ot),r._preventClick=!1})}}),Tm=function(n,r,s){return new Hc(n,r,s)},Qa=tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",s=ye("div",r+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,r+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,r+"-out",s,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,s,u,d){var m=ye("a",s,u);return m.innerHTML=n,m.href="#",m.title=r,m.setAttribute("role","button"),m.setAttribute("aria-label",r),Rr(m),ge(m,"click",_i),ge(m,"click",d,this),ge(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";Ce(this._zoomInButton,r),Ce(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(ue(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(ue(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});xe.mergeOptions({zoomControl:!0}),xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qa,this.addControl(this.zoomControl))});var Nm=function(n){return new Qa(n)},$c=tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",s=ye("div",r),u=this.options;return this._addScales(u,r+"-line",s),n.on(u.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),s},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,s){n.metric&&(this._mScale=ye("div",r,s)),n.imperial&&(this._iScale=ye("div",r,s))},_update:function(){var n=this._map,r=n.getSize().y/2,s=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(s)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),s=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,s,r/n)},_updateImperial:function(n){var r=n*3.2808399,s,u,d;r>5280?(s=r/5280,u=this._getRoundNum(s),this._updateScale(this._iScale,u+" mi",u/s)):(d=this._getRoundNum(r),this._updateScale(this._iScale,d+" ft",d/r))},_updateScale:function(n,r,s){n.style.width=Math.round(this.options.maxWidth*s)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),s=n/r;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,r*s}}),Mm=function(n){return new $c(n)},jm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',qa=tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ae.inlineSvg?jm+" ":"")+"Leaflet</a>"},initialize:function(n){M(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=ye("div","leaflet-control-attribution"),Rr(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var s=[];this.options.prefix&&s.push(this.options.prefix),n.length&&s.push(n.join(", ")),this._container.innerHTML=s.join(' <span aria-hidden="true">|</span> ')}}});xe.mergeOptions({attributionControl:!0}),xe.addInitHook(function(){this.options.attributionControl&&new qa().addTo(this)});var Om=function(n){return new qa(n)};tn.Layers=Hc,tn.Zoom=Qa,tn.Scale=$c,tn.Attribution=qa,Ar.layers=Tm,Ar.zoom=Nm,Ar.scale=Mm,Ar.attribution=Om;var pn=B.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pn.addTo=function(n,r){return n.addHandler(r,this),this};var zm={Events:Y},Uc=ae.touch?"touchstart mousedown":"mousedown",Zn=ne.extend({options:{clickTolerance:3},initialize:function(n,r,s,u){M(this,u),this._element=n,this._dragStartTarget=r||n,this._preventOutline=s},enable:function(){this._enabled||(ge(this._dragStartTarget,Uc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Zn._dragging===this&&this.finishDrag(!0),Pe(this._dragStartTarget,Uc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!de(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Zn._dragging===this&&this.finishDrag();return}if(!(Zn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Zn._dragging=this,this._preventOutline&&Ua(this._element),gi(),wn(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,s=Rc(this._element);this._startPoint=new C(r.clientX,r.clientY),this._startPos=Rt(this._element),this._parentScale=Va(s);var u=n.type==="mousedown";ge(document,u?"mousemove":"touchmove",this._onMove,this),ge(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,s=new C(r.clientX,r.clientY)._subtract(this._startPoint);!s.x&&!s.y||Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,ot(n),this._moved||(this.fire("dragstart"),this._moved=!0,ue(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Se(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Ce(document.body,"leaflet-dragging"),this._lastTarget&&(Ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pe(document,"mousemove touchmove",this._onMove,this),Pe(document,"mouseup touchend touchcancel",this._onUp,this),Ir(),At();var r=this._moved&&this._moving;this._moving=!1,Zn._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Vc(n,r,s){var u,d=[1,4,2,8],m,_,E,j,F,ie,ce,ve;for(m=0,ie=n.length;m<ie;m++)n[m]._code=yi(n[m],r);for(E=0;E<4;E++){for(ce=d[E],u=[],m=0,ie=n.length,_=ie-1;m<ie;_=m++)j=n[m],F=n[_],j._code&ce?F._code&ce||(ve=Yo(F,j,ce,r,s),ve._code=yi(ve,r),u.push(ve)):(F._code&ce&&(ve=Yo(F,j,ce,r,s),ve._code=yi(ve,r),u.push(ve)),u.push(j));n=u}return n}function Wc(n,r){var s,u,d,m,_,E,j,F,ie;if(!n||n.length===0)throw new Error("latlngs not passed");Ut(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ce=le([0,0]),ve=q(n),vt=ve.getNorthWest().distanceTo(ve.getSouthWest())*ve.getNorthEast().distanceTo(ve.getNorthWest());vt<1700&&(ce=Ja(n));var et=n.length,Vt=[];for(s=0;s<et;s++){var Ct=le(n[s]);Vt.push(r.project(le([Ct.lat-ce.lat,Ct.lng-ce.lng])))}for(E=j=F=0,s=0,u=et-1;s<et;u=s++)d=Vt[s],m=Vt[u],_=d.y*m.x-m.y*d.x,j+=(d.x+m.x)*_,F+=(d.y+m.y)*_,E+=_*3;E===0?ie=Vt[0]:ie=[j/E,F/E];var Vi=r.unproject(A(ie));return le([Vi.lat+ce.lat,Vi.lng+ce.lng])}function Ja(n){for(var r=0,s=0,u=0,d=0;d<n.length;d++){var m=le(n[d]);r+=m.lat,s+=m.lng,u++}return le([r/u,s/u])}var Im={__proto__:null,clipPolygon:Vc,polygonCenter:Wc,centroid:Ja};function Gc(n,r){if(!r||!n.length)return n.slice();var s=r*r;return n=Dm(n,s),n=Am(n,s),n}function Yc(n,r,s){return Math.sqrt(Dr(n,r,s,!0))}function Rm(n,r,s){return Dr(n,r,s)}function Am(n,r){var s=n.length,u=typeof Uint8Array<"u"?Uint8Array:Array,d=new u(s);d[0]=d[s-1]=1,el(n,d,r,0,s-1);var m,_=[];for(m=0;m<s;m++)d[m]&&_.push(n[m]);return _}function el(n,r,s,u,d){var m=0,_,E,j;for(E=u+1;E<=d-1;E++)j=Dr(n[E],n[u],n[d],!0),j>m&&(_=E,m=j);m>s&&(r[_]=1,el(n,r,s,u,_),el(n,r,s,_,d))}function Dm(n,r){for(var s=[n[0]],u=1,d=0,m=n.length;u<m;u++)Bm(n[u],n[d])>r&&(s.push(n[u]),d=u);return d<m-1&&s.push(n[m-1]),s}var Kc;function Xc(n,r,s,u,d){var m=u?Kc:yi(n,s),_=yi(r,s),E,j,F;for(Kc=_;;){if(!(m|_))return[n,r];if(m&_)return!1;E=m||_,j=Yo(n,r,E,s,d),F=yi(j,s),E===m?(n=j,m=F):(r=j,_=F)}}function Yo(n,r,s,u,d){var m=r.x-n.x,_=r.y-n.y,E=u.min,j=u.max,F,ie;return s&8?(F=n.x+m*(j.y-n.y)/_,ie=j.y):s&4?(F=n.x+m*(E.y-n.y)/_,ie=E.y):s&2?(F=j.x,ie=n.y+_*(j.x-n.x)/m):s&1&&(F=E.x,ie=n.y+_*(E.x-n.x)/m),new C(F,ie,d)}function yi(n,r){var s=0;return n.x<r.min.x?s|=1:n.x>r.max.x&&(s|=2),n.y<r.min.y?s|=4:n.y>r.max.y&&(s|=8),s}function Bm(n,r){var s=r.x-n.x,u=r.y-n.y;return s*s+u*u}function Dr(n,r,s,u){var d=r.x,m=r.y,_=s.x-d,E=s.y-m,j=_*_+E*E,F;return j>0&&(F=((n.x-d)*_+(n.y-m)*E)/j,F>1?(d=s.x,m=s.y):F>0&&(d+=_*F,m+=E*F)),_=n.x-d,E=n.y-m,u?_*_+E*E:new C(d,m)}function Ut(n){return!k(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Qc(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ut(n)}function qc(n,r){var s,u,d,m,_,E,j,F;if(!n||n.length===0)throw new Error("latlngs not passed");Ut(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ie=le([0,0]),ce=q(n),ve=ce.getNorthWest().distanceTo(ce.getSouthWest())*ce.getNorthEast().distanceTo(ce.getNorthWest());ve<1700&&(ie=Ja(n));var vt=n.length,et=[];for(s=0;s<vt;s++){var Vt=le(n[s]);et.push(r.project(le([Vt.lat-ie.lat,Vt.lng-ie.lng])))}for(s=0,u=0;s<vt-1;s++)u+=et[s].distanceTo(et[s+1])/2;if(u===0)F=et[0];else for(s=0,m=0;s<vt-1;s++)if(_=et[s],E=et[s+1],d=_.distanceTo(E),m+=d,m>u){j=(m-u)/d,F=[E.x-j*(E.x-_.x),E.y-j*(E.y-_.y)];break}var Ct=r.unproject(A(F));return le([Ct.lat+ie.lat,Ct.lng+ie.lng])}var Zm={__proto__:null,simplify:Gc,pointToSegmentDistance:Yc,closestPointOnSegment:Rm,clipSegment:Xc,_getEdgeIntersection:Yo,_getBitCode:yi,_sqClosestPointOnSegment:Dr,isFlat:Ut,_flat:Qc,polylineCenter:qc},tl={project:function(n){return new C(n.lng,n.lat)},unproject:function(n){return new ee(n.y,n.x)},bounds:new V([-180,-90],[180,90])},nl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,s=this.R,u=n.lat*r,d=this.R_MINOR/s,m=Math.sqrt(1-d*d),_=m*Math.sin(u),E=Math.tan(Math.PI/4-u/2)/Math.pow((1-_)/(1+_),m/2);return u=-s*Math.log(Math.max(E,1e-10)),new C(n.lng*r*s,u)},unproject:function(n){for(var r=180/Math.PI,s=this.R,u=this.R_MINOR/s,d=Math.sqrt(1-u*u),m=Math.exp(-n.y/s),_=Math.PI/2-2*Math.atan(m),E=0,j=.1,F;E<15&&Math.abs(j)>1e-7;E++)F=d*Math.sin(_),F=Math.pow((1-F)/(1+F),d/2),j=Math.PI/2-2*Math.atan(m*F)-_,_+=j;return new ee(_*r,n.x*r/s)}},Fm={__proto__:null,LonLat:tl,Mercator:nl,SphericalMercator:pt},Hm=a({},pe,{code:"EPSG:3395",projection:nl,transformation:function(){var n=.5/(Math.PI*nl.R);return Ge(n,.5,-n,.5)}()}),Jc=a({},pe,{code:"EPSG:4326",projection:tl,transformation:Ge(1/180,1,-1/180,.5)}),$m=a({},fe,{projection:tl,transformation:Ge(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var s=r.lng-n.lng,u=r.lat-n.lat;return Math.sqrt(s*s+u*u)},infinite:!0});fe.Earth=pe,fe.EPSG3395=Hm,fe.EPSG3857=kt,fe.EPSG900913=dn,fe.EPSG4326=Jc,fe.Simple=$m;var nn=ne.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[f(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[f(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var s=this.getEvents();r.on(s,this),this.once("remove",function(){r.off(s,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});xe.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=f(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=f(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return f(n)in this._layers},eachLayer:function(n,r){for(var s in this._layers)n.call(r,this._layers[s]);return this},_addLayers:function(n){n=n?k(n)?n:[n]:[];for(var r=0,s=n.length;r<s;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[f(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=f(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,s=this._getZoomSpan();for(var u in this._zoomBoundLayers){var d=this._zoomBoundLayers[u].options;n=d.minZoom===void 0?n:Math.min(n,d.minZoom),r=d.maxZoom===void 0?r:Math.max(r,d.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zi=nn.extend({initialize:function(n,r){M(this,r),this._layers={};var s,u;if(n)for(s=0,u=n.length;s<u;s++)this.addLayer(n[s])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),s,u;for(s in this._layers)u=this._layers[s],u[n]&&u[n].apply(u,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var s in this._layers)n.call(r,this._layers[s]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return f(n)}}),Um=function(n,r){return new Zi(n,r)},bn=Zi.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Zi.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Zi.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new me;for(var r in this._layers){var s=this._layers[r];n.extend(s.getBounds?s.getBounds():s.getLatLng())}return n}}),Vm=function(n,r){return new bn(n,r)},Fi=B.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){M(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var s=this._getIconUrl(n);if(!s){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(s,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(u,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(n,r){var s=this.options,u=s[r+"Size"];typeof u=="number"&&(u=[u,u]);var d=A(u),m=A(r==="shadow"&&s.shadowAnchor||s.iconAnchor||d&&d.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(s.className||""),m&&(n.style.marginLeft=-m.x+"px",n.style.marginTop=-m.y+"px"),d&&(n.style.width=d.x+"px",n.style.height=d.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return ae.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Wm(n){return new Fi(n)}var Br=Fi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Br.imagePath!="string"&&(Br.imagePath=this._detectIconPath()),(this.options.imagePath||Br.imagePath)+Fi.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(s,u,d){var m=u.exec(s);return m&&m[d]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=ye("div","leaflet-default-icon-path",document.body),r=pi(n,"background-image")||pi(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var s=document.querySelector('link[href$="leaflet.css"]');return s?s.href.substring(0,s.href.length-11-1):""}}),ed=pn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Zn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ue(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,s=r._map,u=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,m=Rt(r._icon),_=s.getPixelBounds(),E=s.getPixelOrigin(),j=se(_.min._subtract(E).add(d),_.max._subtract(E).subtract(d));if(!j.contains(m)){var F=A((Math.max(j.max.x,m.x)-j.max.x)/(_.max.x-j.max.x)-(Math.min(j.min.x,m.x)-j.min.x)/(_.min.x-j.min.x),(Math.max(j.max.y,m.y)-j.max.y)/(_.max.y-j.max.y)-(Math.min(j.min.y,m.y)-j.min.y)/(_.min.y-j.min.y)).multiplyBy(u);s.panBy(F,{animate:!1}),this._draggable._newPos._add(F),this._draggable._startPos._add(F),Se(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Z(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,s=r._shadow,u=Rt(r._icon),d=r._map.layerPointToLatLng(u);s&&Se(s,u),r._latlng=d,n.latlng=d,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Ko=nn.extend({options:{icon:new Br,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){M(this,r),this._latlng=le(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=le(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=n.icon.createIcon(this._icon),u=!1;s!==this._icon&&(this._icon&&this._removeIcon(),u=!0,n.title&&(s.title=n.title),s.tagName==="IMG"&&(s.alt=n.alt||"")),ue(s,r),n.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(s,"focus",this._panOnFocus,this);var d=n.icon.createShadow(this._shadow),m=!1;d!==this._shadow&&(this._removeShadow(),m=!0),d&&(ue(d,r),d.alt=""),this._shadow=d,n.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&m&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(this._icon,"focus",this._panOnFocus,this),Te(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Te(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Se(this._icon,n),this._shadow&&Se(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ed)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ed(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&gt(this._icon,n),this._shadow&&gt(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,s=r.iconSize?A(r.iconSize):A(0,0),u=r.iconAnchor?A(r.iconAnchor):A(0,0);n.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:s.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gm(n,r){return new Ko(n,r)}var Fn=nn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return M(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xo=Fn.extend({options:{fill:!0,radius:10},initialize:function(n,r){M(this,r),this._latlng=le(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=le(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return Fn.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,s=this._clickTolerance(),u=[n+s,r+s];this._pxBounds=new V(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ym(n,r){return new Xo(n,r)}var il=Xo.extend({initialize:function(n,r,s){if(typeof r=="number"&&(r=a({},s,{radius:r})),M(this,r),this._latlng=le(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new me(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Fn.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,s=this._map,u=s.options.crs;if(u.distance===pe.distance){var d=Math.PI/180,m=this._mRadius/pe.R/d,_=s.project([r+m,n]),E=s.project([r-m,n]),j=_.add(E).divideBy(2),F=s.unproject(j).lat,ie=Math.acos((Math.cos(m*d)-Math.sin(r*d)*Math.sin(F*d))/(Math.cos(r*d)*Math.cos(F*d)))/d;(isNaN(ie)||ie===0)&&(ie=m/Math.cos(Math.PI/180*r)),this._point=j.subtract(s.getPixelOrigin()),this._radius=isNaN(ie)?0:j.x-s.project([F,n-ie]).x,this._radiusY=j.y-_.y}else{var ce=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(ce).x}this._updateBounds()}});function Km(n,r,s){return new il(n,r,s)}var Sn=Fn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){M(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,s=null,u=Dr,d,m,_=0,E=this._parts.length;_<E;_++)for(var j=this._parts[_],F=1,ie=j.length;F<ie;F++){d=j[F-1],m=j[F];var ce=u(n,d,m,!0);ce<r&&(r=ce,s=u(n,d,m))}return s&&(s.distance=Math.sqrt(r)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=le(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new me,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Ut(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],s=Ut(n),u=0,d=n.length;u<d;u++)s?(r[u]=le(n[u]),this._bounds.extend(r[u])):r[u]=this._convertLatLngs(n[u]);return r},_project:function(){var n=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new C(n,n);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,s){var u=n[0]instanceof ee,d=n.length,m,_;if(u){for(_=[],m=0;m<d;m++)_[m]=this._map.latLngToLayerPoint(n[m]),s.extend(_[m]);r.push(_)}else for(m=0;m<d;m++)this._projectLatlngs(n[m],r,s)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,s,u,d,m,_,E,j;for(s=0,d=0,m=this._rings.length;s<m;s++)for(j=this._rings[s],u=0,_=j.length;u<_-1;u++)E=Xc(j[u],j[u+1],n,u,!0),E&&(r[d]=r[d]||[],r[d].push(E[0]),(E[1]!==j[u+1]||u===_-2)&&(r[d].push(E[1]),d++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,s=0,u=n.length;s<u;s++)n[s]=Gc(n[s],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var s,u,d,m,_,E,j=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(s=0,m=this._parts.length;s<m;s++)for(E=this._parts[s],u=0,_=E.length,d=_-1;u<_;d=u++)if(!(!r&&u===0)&&Yc(n,E[d],E[u])<=j)return!0;return!1}});function Xm(n,r){return new Sn(n,r)}Sn._flat=Qc;var Hi=Sn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=Sn.prototype._convertLatLngs.call(this,n),s=r.length;return s>=2&&r[0]instanceof ee&&r[0].equals(r[s-1])&&r.pop(),r},_setLatLngs:function(n){Sn.prototype._setLatLngs.call(this,n),Ut(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ut(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,s=new C(r,r);if(n=new V(n.min.subtract(s),n.max.add(s)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,d=this._rings.length,m;u<d;u++)m=Vc(this._rings[u],n,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,s,u,d,m,_,E,j,F;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(m=0,j=this._parts.length;m<j;m++)for(s=this._parts[m],_=0,F=s.length,E=F-1;_<F;E=_++)u=s[_],d=s[E],u.y>n.y!=d.y>n.y&&n.x<(d.x-u.x)*(n.y-u.y)/(d.y-u.y)+u.x&&(r=!r);return r||Sn.prototype._containsPoint.call(this,n,!0)}});function Qm(n,r){return new Hi(n,r)}var Cn=bn.extend({initialize:function(n,r){M(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=k(n)?n:n.features,s,u,d;if(r){for(s=0,u=r.length;s<u;s++)d=r[s],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var m=this.options;if(m.filter&&!m.filter(n))return this;var _=Qo(n,m);return _?(_.feature=es(n),_.defaultOptions=_.options,this.resetStyle(_),m.onEachFeature&&m.onEachFeature(n,_),this.addLayer(_)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=a({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function Qo(n,r){var s=n.type==="Feature"?n.geometry:n,u=s?s.coordinates:null,d=[],m=r&&r.pointToLayer,_=r&&r.coordsToLatLng||rl,E,j,F,ie;if(!u&&!s)return null;switch(s.type){case"Point":return E=_(u),td(m,n,E,r);case"MultiPoint":for(F=0,ie=u.length;F<ie;F++)E=_(u[F]),d.push(td(m,n,E,r));return new bn(d);case"LineString":case"MultiLineString":return j=qo(u,s.type==="LineString"?0:1,_),new Sn(j,r);case"Polygon":case"MultiPolygon":return j=qo(u,s.type==="Polygon"?1:2,_),new Hi(j,r);case"GeometryCollection":for(F=0,ie=s.geometries.length;F<ie;F++){var ce=Qo({geometry:s.geometries[F],type:"Feature",properties:n.properties},r);ce&&d.push(ce)}return new bn(d);case"FeatureCollection":for(F=0,ie=s.features.length;F<ie;F++){var ve=Qo(s.features[F],r);ve&&d.push(ve)}return new bn(d);default:throw new Error("Invalid GeoJSON object.")}}function td(n,r,s,u){return n?n(r,s):new Ko(s,u&&u.markersInheritOptions&&u)}function rl(n){return new ee(n[1],n[0],n[2])}function qo(n,r,s){for(var u=[],d=0,m=n.length,_;d<m;d++)_=r?qo(n[d],r-1,s):(s||rl)(n[d]),u.push(_);return u}function ol(n,r){return n=le(n),n.alt!==void 0?[w(n.lng,r),w(n.lat,r),w(n.alt,r)]:[w(n.lng,r),w(n.lat,r)]}function Jo(n,r,s,u){for(var d=[],m=0,_=n.length;m<_;m++)d.push(r?Jo(n[m],Ut(n[m])?0:r-1,s,u):ol(n[m],u));return!r&&s&&d.length>0&&d.push(d[0].slice()),d}function $i(n,r){return n.feature?a({},n.feature,{geometry:r}):es(r)}function es(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var sl={toGeoJSON:function(n){return $i(this,{type:"Point",coordinates:ol(this.getLatLng(),n)})}};Ko.include(sl),il.include(sl),Xo.include(sl),Sn.include({toGeoJSON:function(n){var r=!Ut(this._latlngs),s=Jo(this._latlngs,r?1:0,!1,n);return $i(this,{type:(r?"Multi":"")+"LineString",coordinates:s})}}),Hi.include({toGeoJSON:function(n){var r=!Ut(this._latlngs),s=r&&!Ut(this._latlngs[0]),u=Jo(this._latlngs,s?2:r?1:0,!0,n);return r||(u=[u]),$i(this,{type:(s?"Multi":"")+"Polygon",coordinates:u})}}),Zi.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(s){r.push(s.toGeoJSON(n).geometry.coordinates)}),$i(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var s=r==="GeometryCollection",u=[];return this.eachLayer(function(d){if(d.toGeoJSON){var m=d.toGeoJSON(n);if(s)u.push(m.geometry);else{var _=es(m);_.type==="FeatureCollection"?u.push.apply(u,_.features):u.push(_)}}}),s?$i(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function nd(n,r){return new Cn(n,r)}var qm=nd,ts=nn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,s){this._url=n,this._bounds=q(r),M(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Te(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&P(this._image),this},bringToBack:function(){return this._map&&Q(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=q(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:ye("img");if(ue(r,"leaflet-image-layer"),this._zoomAnimated&&ue(r,"leaflet-zoom-animated"),this.options.className&&ue(r,this.options.className),r.onselectstart=x,r.onmousemove=x,r.onload=c(this.fire,this,"load"),r.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Je(this._image,s,r)},_reset:function(){var n=this._image,r=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=r.getSize();Se(n,r.min),n.style.width=s.x+"px",n.style.height=s.y+"px"},_updateOpacity:function(){gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Jm=function(n,r,s){return new ts(n,r,s)},id=ts.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:ye("video");if(ue(r,"leaflet-image-layer"),this._zoomAnimated&&ue(r,"leaflet-zoom-animated"),this.options.className&&ue(r,this.options.className),r.onselectstart=x,r.onmousemove=x,r.onloadeddata=c(this.fire,this,"load"),n){for(var s=r.getElementsByTagName("source"),u=[],d=0;d<s.length;d++)u.push(s[d].src);this._url=s.length>0?u:[r.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var _=ye("source");_.src=this._url[m],r.appendChild(_)}}});function eg(n,r,s){return new id(n,r,s)}var rd=ts.extend({_initImage:function(){var n=this._image=this._url;ue(n,"leaflet-image-layer"),this._zoomAnimated&&ue(n,"leaflet-zoom-animated"),this.options.className&&ue(n,this.options.className),n.onselectstart=x,n.onmousemove=x}});function tg(n,r,s){return new rd(n,r,s)}var mn=nn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof ee||k(n))?(this._latlng=le(n),M(this,r)):(M(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&gt(this._container,1),this.bringToFront(),this.options.interactive&&(ue(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(gt(this._container,0),this._removeTimeout=setTimeout(c(Te,void 0,this._container),200)):Te(this._container),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=le(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&P(this._container),this},bringToBack:function(){return this._map&&Q(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof bn){r=null;var s=this._source._layers;for(var u in s)if(s[u]._map){r=s[u];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=A(this.options.offset),s=this._getAnchor();this._zoomAnimated?Se(this._container,n.add(s)):r=r.add(n).add(s);var u=this._containerBottom=-r.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=u+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});xe.include({_initOverlay:function(n,r,s,u){var d=r;return d instanceof n||(d=new n(u).setContent(r)),s&&d.setLatLng(s),d}}),nn.include({_initOverlay:function(n,r,s,u){var d=s;return d instanceof n?(M(d,u),d._source=this):(d=r&&!u?r:new n(u,this),d.setContent(s)),d}});var ns=mn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,mn.prototype.openOn.call(this,n)},onAdd:function(n){mn.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fn||this._source.on("preclick",vi))},onRemove:function(n){mn.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fn||this._source.off("preclick",vi))},getEvents:function(){var n=mn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=ye("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=ye("div",n+"-content-wrapper",r);if(this._contentNode=ye("div",n+"-content",s),Rr(r),Ka(this._contentNode),ge(r,"contextmenu",vi),this._tipContainer=ye("div",n+"-tip-container",r),this._tip=ye("div",n+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=ye("a",n+"-close-button",r);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',ge(u,"click",function(d){ot(d),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var s=n.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),r.width=s+1+"px",r.whiteSpace="",r.height="";var u=n.offsetHeight,d=this.options.maxHeight,m="leaflet-popup-scrolled";d&&u>d?(r.height=d+"px",ue(n,m)):Ce(n,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),s=this._getAnchor();Se(this._container,r.add(s))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(pi(this._container,"marginBottom"),10)||0,s=this._container.offsetHeight+r,u=this._containerWidth,d=new C(this._containerLeft,-s-this._containerBottom);d._add(Rt(this._container));var m=n.layerPointToContainerPoint(d),_=A(this.options.autoPanPadding),E=A(this.options.autoPanPaddingTopLeft||_),j=A(this.options.autoPanPaddingBottomRight||_),F=n.getSize(),ie=0,ce=0;m.x+u+j.x>F.x&&(ie=m.x+u-F.x+j.x),m.x-ie-E.x<0&&(ie=m.x-E.x),m.y+s+j.y>F.y&&(ce=m.y+s-F.y+j.y),m.y-ce-E.y<0&&(ce=m.y-E.y),(ie||ce)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ie,ce]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ng=function(n,r){return new ns(n,r)};xe.mergeOptions({closePopupOnClick:!0}),xe.include({openPopup:function(n,r,s){return this._initOverlay(ns,n,r,s).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),nn.include({bindPopup:function(n,r){return this._popup=this._initOverlay(ns,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof bn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){_i(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof Fn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var is=mn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){mn.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){mn.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=mn.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ye("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,s,u=this._map,d=this._container,m=u.latLngToContainerPoint(u.getCenter()),_=u.layerPointToContainerPoint(n),E=this.options.direction,j=d.offsetWidth,F=d.offsetHeight,ie=A(this.options.offset),ce=this._getAnchor();E==="top"?(r=j/2,s=F):E==="bottom"?(r=j/2,s=0):E==="center"?(r=j/2,s=F/2):E==="right"?(r=0,s=F/2):E==="left"?(r=j,s=F/2):_.x<m.x?(E="right",r=0,s=F/2):(E="left",r=j+(ie.x+ce.x)*2,s=F/2),n=n.subtract(A(r,s,!0)).add(ie).add(ce),Ce(d,"leaflet-tooltip-right"),Ce(d,"leaflet-tooltip-left"),Ce(d,"leaflet-tooltip-top"),Ce(d,"leaflet-tooltip-bottom"),ue(d,"leaflet-tooltip-"+E),Se(d,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&gt(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ig=function(n,r){return new is(n,r)};xe.include({openTooltip:function(n,r,s){return this._initOverlay(is,n,r,s).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),nn.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(is,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,s.click=this._openTooltip,this._map?this._addFocusListeners():s.add=this._addFocusListeners),this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),this[r](s),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof bn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(ge(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),ge(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,s,u;this._tooltip.options.sticky&&n.originalEvent&&(s=this._map.mouseEventToContainerPoint(n.originalEvent),u=this._map.containerPointToLayerPoint(s),r=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(r)}});var od=Fi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),s=this.options;if(s.html instanceof Element?(mi(r),r.appendChild(s.html)):r.innerHTML=s.html!==!1?s.html:"",s.bgPos){var u=A(s.bgPos);r.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function rg(n){return new od(n)}Fi.Default=Br;var Zr=nn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){M(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Te(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(P(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Q(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof C?n:new C(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,s=-n(-1/0,1/0),u=0,d=r.length,m;u<d;u++)m=r[u].style.zIndex,r[u]!==this._container&&m&&(s=n(s,+m));isFinite(s)&&(this.options.zIndex=s+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ae.ielt9){gt(this._container,this.options.opacity);var n=+new Date,r=!1,s=!1;for(var u in this._tiles){var d=this._tiles[u];if(!(!d.current||!d.loaded)){var m=Math.min(1,(n-d.loaded)/200);gt(d.el,m),m<1?r=!0:(d.active?s=!0:this._onOpaqueTile(d),d.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),r&&(X(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===n?(this._levels[s].el.style.zIndex=r-Math.abs(n-s),this._onUpdateLevel(s)):(Te(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var u=this._levels[n],d=this._map;return u||(u=this._levels[n]={},u.el=ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=r,u.origin=d.project(d.unproject(d.getPixelOrigin()),n).round(),u.zoom=n,this._setZoomTransform(u,d.getCenter(),d.getZoom()),x(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var n,r,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var u=r.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Te(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,s,u){var d=Math.floor(n/2),m=Math.floor(r/2),_=s-1,E=new C(+d,+m);E.z=+_;var j=this._tileCoordsToKey(E),F=this._tiles[j];return F&&F.active?(F.retain=!0,!0):(F&&F.loaded&&(F.retain=!0),_>u?this._retainParent(d,m,_,u):!1)},_retainChildren:function(n,r,s,u){for(var d=2*n;d<2*n+2;d++)for(var m=2*r;m<2*r+2;m++){var _=new C(d,m);_.z=s+1;var E=this._tileCoordsToKey(_),j=this._tiles[E];if(j&&j.active){j.retain=!0;continue}else j&&j.loaded&&(j.retain=!0);s+1<u&&this._retainChildren(d,m,s+1,u)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,s,u){var d=Math.round(r);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var m=this.options.updateWhenZooming&&d!==this._tileZoom;(!u||m)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(n),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var s in this._levels)this._setZoomTransform(this._levels[s],n,r)},_setZoomTransform:function(n,r,s){var u=this._map.getZoomScale(s,n.zoom),d=n.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(r,s)).round();ae.any3d?Je(n.el,d,u):Se(n.el,d)},_resetGrid:function(){var n=this._map,r=n.options.crs,s=this._tileSize=this.getTileSize(),u=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],u).x/s.x),Math.ceil(n.project([0,r.wrapLng[1]],u).x/s.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],u).y/s.x),Math.ceil(n.project([r.wrapLat[1],0],u).y/s.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,s=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),u=r.getZoomScale(s,this._tileZoom),d=r.project(n,this._tileZoom).floor(),m=r.getSize().divideBy(u*2);return new V(d.subtract(m),d.add(m))},_update:function(n){var r=this._map;if(r){var s=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(n),d=this._pxBoundsToTileRange(u),m=d.getCenter(),_=[],E=this.options.keepBuffer,j=new V(d.getBottomLeft().subtract([E,-E]),d.getTopRight().add([E,-E]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var F in this._tiles){var ie=this._tiles[F].coords;(ie.z!==this._tileZoom||!j.contains(new C(ie.x,ie.y)))&&(this._tiles[F].current=!1)}if(Math.abs(s-this._tileZoom)>1){this._setView(n,s);return}for(var ce=d.min.y;ce<=d.max.y;ce++)for(var ve=d.min.x;ve<=d.max.x;ve++){var vt=new C(ve,ce);if(vt.z=this._tileZoom,!!this._isValidTile(vt)){var et=this._tiles[this._tileCoordsToKey(vt)];et?et.current=!0:_.push(vt)}}if(_.sort(function(Ct,Vi){return Ct.distanceTo(m)-Vi.distanceTo(m)}),_.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Vt=document.createDocumentFragment();for(ve=0;ve<_.length;ve++)this._addTile(_[ve],Vt);this._level.el.appendChild(Vt)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var s=this._globalTileRange;if(!r.wrapLng&&(n.x<s.min.x||n.x>s.max.x)||!r.wrapLat&&(n.y<s.min.y||n.y>s.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(n);return q(this.options.bounds).overlaps(u)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,s=this.getTileSize(),u=n.scaleBy(s),d=u.add(s),m=r.unproject(u,n.z),_=r.unproject(d,n.z);return[m,_]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),s=new me(r[0],r[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),s=new C(+r[0],+r[1]);return s.z=+r[2],s},_removeTile:function(n){var r=this._tiles[n];r&&(Te(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){ue(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=x,n.onmousemove=x,ae.ielt9&&this.options.opacity<1&&gt(n,this.options.opacity)},_addTile:function(n,r){var s=this._getTilePos(n),u=this._tileCoordsToKey(n),d=this.createTile(this._wrapCoords(n),c(this._tileReady,this,n));this._initTile(d),this.createTile.length<2&&Z(c(this._tileReady,this,n,null,d)),Se(d,s),this._tiles[u]={el:d,coords:n,current:!0},r.appendChild(d),this.fire("tileloadstart",{tile:d,coords:n})},_tileReady:function(n,r,s){r&&this.fire("tileerror",{error:r,tile:s,coords:n});var u=this._tileCoordsToKey(n);s=this._tiles[u],s&&(s.loaded=+new Date,this._map._fadeAnimated?(gt(s.el,0),X(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),r||(ue(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ae.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new C(this._wrapX?b(n.x,this._wrapX):n.x,this._wrapY?b(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new V(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function og(n){return new Zr(n)}var Ui=Zr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=M(this,r),r.detectRetina&&ae.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var s=document.createElement("img");return ge(s,"load",c(this._tileOnLoad,this,r,s)),ge(s,"error",c(this._tileOnError,this,r,s)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(s.referrerPolicy=this.options.referrerPolicy),s.alt="",s.src=this.getTileUrl(n),s},getTileUrl:function(n){var r={r:ae.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=s),r["-y"]=s}return v(this._url,a(r,this.options))},_tileOnLoad:function(n,r){ae.ielt9?setTimeout(c(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,s){var u=this.options.errorTileUrl;u&&r.getAttribute("src")!==u&&(r.src=u),n(s,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,s=this.options.zoomReverse,u=this.options.zoomOffset;return s&&(n=r-n),n+u},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=x,r.onerror=x,!r.complete)){r.src=H;var s=this._tiles[n].coords;Te(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:s})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",H),Zr.prototype._removeTile.call(this,n)},_tileReady:function(n,r,s){if(!(!this._map||s&&s.getAttribute("src")===H))return Zr.prototype._tileReady.call(this,n,r,s)}});function sd(n,r){return new Ui(n,r)}var ad=Ui.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var s=a({},this.defaultWmsParams);for(var u in r)u in this.options||(s[u]=r[u]);r=M(this,r);var d=r.detectRetina&&ae.retina?2:1,m=this.getTileSize();s.width=m.x*d,s.height=m.y*d,this.wmsParams=s},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Ui.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),s=this._crs,u=se(s.project(r[0]),s.project(r[1])),d=u.min,m=u.max,_=(this._wmsVersion>=1.3&&this._crs===Jc?[d.y,d.x,m.y,m.x]:[d.x,d.y,m.x,m.y]).join(","),E=Ui.prototype.getTileUrl.call(this,n);return E+te(this.wmsParams,E,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_},setParams:function(n,r){return a(this.wmsParams,n),r||this.redraw(),this}});function sg(n,r){return new ad(n,r)}Ui.WMS=ad,sd.wms=sg;var Pn=nn.extend({options:{padding:.1},initialize:function(n){M(this,n),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var s=this._map.getZoomScale(r,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,r),m=u.multiplyBy(-s).add(d).subtract(this._map._getNewPixelOrigin(n,r));ae.any3d?Je(this._container,m,s):Se(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),s=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new V(s,s.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ld=Pn.extend({options:{tolerance:0},getEvents:function(){var n=Pn.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");ge(n,"mousemove",this._onMouseMove,this),ge(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ge(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,Te(this._container),Pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pn.prototype._update.call(this);var n=this._bounds,r=this._container,s=n.getSize(),u=ae.retina?2:1;Se(r,n.min),r.width=u*s.x,r.height=u*s.y,r.style.width=s.x+"px",r.style.height=s.y+"px",ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Pn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[f(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,s=r.next,u=r.prev;s?s.prev=u:this._drawLast=u,u?u.next=s:this._drawFirst=s,delete n._order,delete this._layers[f(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),s=[],u,d;for(d=0;d<r.length;d++){if(u=Number(r[d]),isNaN(u))return;s.push(u)}n.options._dashArray=s}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var s=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)n=u.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var s,u,d,m,_=n._parts,E=_.length,j=this._ctx;if(E){for(j.beginPath(),s=0;s<E;s++){for(u=0,d=_[s].length;u<d;u++)m=_[s][u],j[u?"lineTo":"moveTo"](m.x,m.y);r&&j.closePath()}this._fillStroke(j,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,s=this._ctx,u=Math.max(Math.round(n._radius),1),d=(Math.max(Math.round(n._radiusY),1)||u)/u;d!==1&&(s.save(),s.scale(1,d)),s.beginPath(),s.arc(r.x,r.y/d,u,0,Math.PI*2,!1),d!==1&&s.restore(),this._fillStroke(s,n)}},_fillStroke:function(n,r){var s=r.options;s.fill&&(n.globalAlpha=s.fillOpacity,n.fillStyle=s.fillColor||s.color,n.fill(s.fillRule||"evenodd")),s.stroke&&s.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=s.opacity,n.lineWidth=s.weight,n.strokeStyle=s.color,n.lineCap=s.lineCap,n.lineJoin=s.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),s,u,d=this._drawFirst;d;d=d.next)s=d.layer,s.options.interactive&&s._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(s))&&(u=s);this._fireEvent(u?[u]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var s,u,d=this._drawFirst;d;d=d.next)s=d.layer,s.options.interactive&&s._containsPoint(r)&&(u=s);u!==this._hoveredLayer&&(this._handleMouseOut(n),u&&(ue(this._container,"leaflet-interactive"),this._fireEvent([u],n,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,s){this._map._fireDOMEvent(r,s||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var s=r.next,u=r.prev;if(s)s.prev=u;else return;u?u.next=s:s&&(this._drawFirst=s),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var s=r.next,u=r.prev;if(u)u.next=s;else return;s?s.prev=u:u&&(this._drawLast=u),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function ud(n){return ae.canvas?new ld(n):null}var Fr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ag={_initContainer:function(){this._container=ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pn.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=Fr("shape");ue(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=Fr("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[f(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;Te(r),n.removeInteractiveTarget(r),delete this._layers[f(n)]},_updateStyle:function(n){var r=n._stroke,s=n._fill,u=n.options,d=n._container;d.stroked=!!u.stroke,d.filled=!!u.fill,u.stroke?(r||(r=n._stroke=Fr("stroke")),d.appendChild(r),r.weight=u.weight+"px",r.color=u.color,r.opacity=u.opacity,u.dashArray?r.dashStyle=k(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=u.lineCap.replace("butt","flat"),r.joinstyle=u.lineJoin):r&&(d.removeChild(r),n._stroke=null),u.fill?(s||(s=n._fill=Fr("fill")),d.appendChild(s),s.color=u.fillColor||u.color,s.opacity=u.fillOpacity):s&&(d.removeChild(s),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),s=Math.round(n._radius),u=Math.round(n._radiusY||s);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+s+","+u+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){P(n._container)},_bringToBack:function(n){Q(n._container)}},rs=ae.vml?Fr:Ot,Hr=Pn.extend({_initContainer:function(){this._container=rs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=rs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Te(this._container),Pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pn.prototype._update.call(this);var n=this._bounds,r=n.getSize(),s=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,s.setAttribute("width",r.x),s.setAttribute("height",r.y)),Se(s,n.min),s.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=rs("path");n.options.className&&ue(r,n.options.className),n.options.interactive&&ue(r,"leaflet-interactive"),this._updateStyle(n),this._layers[f(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Te(n._path),n.removeInteractiveTarget(n._path),delete this._layers[f(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,s=n.options;r&&(s.stroke?(r.setAttribute("stroke",s.color),r.setAttribute("stroke-opacity",s.opacity),r.setAttribute("stroke-width",s.weight),r.setAttribute("stroke-linecap",s.lineCap),r.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?r.setAttribute("stroke-dasharray",s.dashArray):r.removeAttribute("stroke-dasharray"),s.dashOffset?r.setAttribute("stroke-dashoffset",s.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),s.fill?(r.setAttribute("fill",s.fillColor||s.color),r.setAttribute("fill-opacity",s.fillOpacity),r.setAttribute("fill-rule",s.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,Oe(n._parts,r))},_updateCircle:function(n){var r=n._point,s=Math.max(Math.round(n._radius),1),u=Math.max(Math.round(n._radiusY),1)||s,d="a"+s+","+u+" 0 1,0 ",m=n._empty()?"M0 0":"M"+(r.x-s)+","+r.y+d+s*2+",0 "+d+-s*2+",0 ";this._setPath(n,m)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){P(n._path)},_bringToBack:function(n){Q(n._path)}});ae.vml&&Hr.include(ag);function cd(n){return ae.svg||ae.vml?new Hr(n):null}xe.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&ud(n)||cd(n)}});var dd=Hi.extend({initialize:function(n,r){Hi.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=q(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function lg(n,r){return new dd(n,r)}Hr.create=rs,Hr.pointsToPath=Oe,Cn.geometryToLayer=Qo,Cn.coordsToLatLng=rl,Cn.coordsToLatLngs=qo,Cn.latLngToCoords=ol,Cn.latLngsToCoords=Jo,Cn.getFeature=$i,Cn.asFeature=es,xe.mergeOptions({boxZoom:!0});var fd=pn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Te(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wn(),gi(),this._startPoint=this._map.mouseEventToContainerPoint(n),ge(document,{contextmenu:_i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=ye("div","leaflet-zoom-box",this._container),ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new V(this._point,this._startPoint),s=r.getSize();Se(this._box,r.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(Te(this._box),Ce(this._container,"leaflet-crosshair")),At(),Ir(),Pe(document,{contextmenu:_i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var r=new me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xe.addInitHook("addHandler","boxZoom",fd),xe.mergeOptions({doubleClickZoom:!0});var hd=pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,s=r.getZoom(),u=r.options.zoomDelta,d=n.originalEvent.shiftKey?s-u:s+u;r.options.doubleClickZoom==="center"?r.setZoom(d):r.setZoomAround(n.containerPoint,d)}});xe.addInitHook("addHandler","doubleClickZoom",hd),xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var pd=pn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Zn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ce(this._map._container,"leaflet-grab"),Ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=q(this._map.options.maxBounds);this._offsetLimit=se(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),s=this._initialWorldOffset,u=this._draggable._newPos.x,d=(u-r+s)%n+r-s,m=(u+r+s)%n-r-s,_=Math.abs(d+s)<Math.abs(m+s)?d:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_},_onDragEnd:function(n){var r=this._map,s=r.options,u=!s.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),u)r.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,_=s.easeLinearity,E=d.multiplyBy(_/m),j=E.distanceTo([0,0]),F=Math.min(s.inertiaMaxSpeed,j),ie=E.multiplyBy(F/j),ce=F/(s.inertiaDeceleration*_),ve=ie.multiplyBy(-ce/2).round();!ve.x&&!ve.y?r.fire("moveend"):(ve=r._limitOffset(ve,r.options.maxBounds),Z(function(){r.panBy(ve,{duration:ce,easeLinearity:_,noMoveStart:!0,animate:!0})}))}}});xe.addInitHook("addHandler","dragging",pd),xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var md=pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),ge(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,s=n.scrollTop||r.scrollTop,u=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(u,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},s=this.keyCodes,u,d;for(u=0,d=s.left.length;u<d;u++)r[s.left[u]]=[-1*n,0];for(u=0,d=s.right.length;u<d;u++)r[s.right[u]]=[n,0];for(u=0,d=s.down.length;u<d;u++)r[s.down[u]]=[0,n];for(u=0,d=s.up.length;u<d;u++)r[s.up[u]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},s=this.keyCodes,u,d;for(u=0,d=s.zoomIn.length;u<d;u++)r[s.zoomIn[u]]=n;for(u=0,d=s.zoomOut.length;u<d;u++)r[s.zoomOut[u]]=-n},_addHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,s=this._map,u;if(r in this._panKeys){if(!s._panAnim||!s._panAnim._inProgress)if(u=this._panKeys[r],n.shiftKey&&(u=A(u).multiplyBy(3)),s.options.maxBounds&&(u=s._limitOffset(A(u),s.options.maxBounds)),s.options.worldCopyJump){var d=s.wrapLatLng(s.unproject(s.project(s.getCenter()).add(u)));s.panTo(d)}else s.panBy(u)}else if(r in this._zoomKeys)s.setZoom(s.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&s._popup&&s._popup.options.closeOnEscapeKey)s.closePopup();else return;_i(n)}}});xe.addInitHook("addHandler","keyboard",md),xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var gd=pn.extend({addHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Zc(n),s=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var u=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),u),_i(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),s=this._map.options.zoomSnap||0;n._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,m=s?Math.ceil(d/s)*s:d,_=n._limitZoom(r+(this._delta>0?m:-m))-r;this._delta=0,this._startTime=null,_&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+_):n.setZoomAround(this._lastMousePos,r+_))}});xe.addInitHook("addHandler","scrollWheelZoom",gd);var ug=600;xe.mergeOptions({tapHold:ae.touchNative&&ae.safari&&ae.mobile,tapTolerance:15});var vd=pn.extend({addHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new C(r.clientX,r.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ge(document,"touchend",ot),ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),ug),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Pe(document,"touchend",ot),Pe(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new C(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var s=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});s._simulated=!0,r.target.dispatchEvent(s)}});xe.addInitHook("addHandler","tapHold",vd),xe.mergeOptions({touchZoom:ae.touch,bounceAtZoomLimits:!0});var _d=pn.extend({addHooks:function(){ue(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var s=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(s.add(u)._divideBy(2))),this._startDist=s.distanceTo(u),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),ot(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,s=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]),d=s.distanceTo(u)/this._startDist;if(this._zoom=r.getScaleZoom(d,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&d<1||this._zoom>r.getMaxZoom()&&d>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var m=s._add(u)._divideBy(2)._subtract(this._centerPoint);if(d===1&&m.x===0&&m.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var _=c(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(_,this,!0),ot(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xe.addInitHook("addHandler","touchZoom",_d),xe.BoxZoom=fd,xe.DoubleClickZoom=hd,xe.Drag=pd,xe.Keyboard=md,xe.ScrollWheelZoom=gd,xe.TapHold=vd,xe.TouchZoom=_d,i.Bounds=V,i.Browser=ae,i.CRS=fe,i.Canvas=ld,i.Circle=il,i.CircleMarker=Xo,i.Class=B,i.Control=tn,i.DivIcon=od,i.DivOverlay=mn,i.DomEvent=Em,i.DomUtil=Cm,i.Draggable=Zn,i.Evented=ne,i.FeatureGroup=bn,i.GeoJSON=Cn,i.GridLayer=Zr,i.Handler=pn,i.Icon=Fi,i.ImageOverlay=ts,i.LatLng=ee,i.LatLngBounds=me,i.Layer=nn,i.LayerGroup=Zi,i.LineUtil=Zm,i.Map=xe,i.Marker=Ko,i.Mixin=zm,i.Path=Fn,i.Point=C,i.PolyUtil=Im,i.Polygon=Hi,i.Polyline=Sn,i.Popup=ns,i.PosAnimation=Fc,i.Projection=Fm,i.Rectangle=dd,i.Renderer=Pn,i.SVG=Hr,i.SVGOverlay=rd,i.TileLayer=Ui,i.Tooltip=is,i.Transformation=jt,i.Util=T,i.VideoOverlay=id,i.bind=c,i.bounds=se,i.canvas=ud,i.circle=Km,i.circleMarker=Ym,i.control=Ar,i.divIcon=rg,i.extend=a,i.featureGroup=Vm,i.geoJSON=nd,i.geoJson=qm,i.gridLayer=og,i.icon=Wm,i.imageOverlay=Jm,i.latLng=le,i.latLngBounds=q,i.layerGroup=Um,i.map=Lm,i.marker=Gm,i.point=A,i.polygon=Qm,i.polyline=Xm,i.popup=ng,i.rectangle=lg,i.setOptions=M,i.stamp=f,i.svg=cd,i.svgOverlay=tg,i.tileLayer=sd,i.tooltip=ig,i.transformation=Ge,i.version=o,i.videoOverlay=eg;var cg=window.L;i.noConflict=function(){return window.L=cg,this},window.L=i})})(Ou,Ou.exports);var Sr=Ou.exports;const Oc=Au(Sr);function Ea(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function La(e,t){return t==null?function(o,a){const l=S.useRef();return l.current||(l.current=e(o,a)),l}:function(o,a){const l=S.useRef();l.current||(l.current=e(o,a));const c=S.useRef(o),{instance:p}=l.current;return S.useEffect(function(){c.current!==o&&(t(p,o,c.current),c.current=o)},[p,o,a]),l}}function cm(e,t){S.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function dm(e){return function(i){const o=Pa(),a=e(jc(i,o),o);return J_(o.map,i.attribution),um(a.current,i.eventHandlers),cm(a.current,o),a}}function i0(e,t){const i=S.useRef();S.useEffect(function(){if(t.pathOptions!==i.current){const a=t.pathOptions??{};e.instance.setStyle(a),i.current=a}},[e,t])}function r0(e){return function(i){const o=Pa(),a=e(jc(i,o),o);return um(a.current,i.eventHandlers),cm(a.current,o),i0(a.current,i),a}}function o0(e){function t(a,l){return Ea(e(a),l)}const i=La(t),o=n0(i);return lm(o)}function s0(e,t){const i=La(e,t),o=dm(i);return am(o)}function a0(e,t){const i=La(e,t),o=r0(i);return am(o)}function l0(e,t){const i=La(e,t),o=dm(i);return lm(o)}function u0(e,t,i){const{opacity:o,zIndex:a}=t;o!=null&&o!==i.opacity&&e.setOpacity(o),a!=null&&a!==i.zIndex&&e.setZIndex(a)}function fm(){return Pa().map}function c0(e){const t=fm();return S.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const d0=o0(function(t){return new Sr.Control.Attribution(t)});function zu(){return zu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},zu.apply(this,arguments)}function f0({bounds:e,boundsOptions:t,center:i,children:o,className:a,id:l,placeholder:c,style:p,whenReady:f,zoom:g,...b},x){const[w]=S.useState({className:a,id:l,style:p}),[N,I]=S.useState(null);S.useImperativeHandle(x,()=>(N==null?void 0:N.map)??null,[N]);const M=S.useCallback(y=>{if(y!==null&&N===null){const v=new Sr.Map(y,b);i!=null&&g!=null?v.setView(i,g):e!=null&&v.fitBounds(e,t),f!=null&&v.whenReady(f),I(t0(v))}},[]);S.useEffect(()=>()=>{N==null||N.map.remove()},[N]);const te=N?po.createElement(sm,{value:N},o):c??null;return po.createElement("div",zu({},w,{ref:M}),te)}const h0=S.forwardRef(f0),zl=s0(function({position:t,...i},o){const a=new Sr.Marker(t,i);return Ea(a,rm(o,{overlayContainer:a}))},function(t,i,o){i.position!==o.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),bs=a0(function({positions:t,...i},o){const a=new Sr.Polyline(t,i);return Ea(a,rm(o,{overlayContainer:a}))},function(t,i,o){i.positions!==o.positions&&t.setLatLngs(i.positions)}),p0=l0(function({url:t,...i},o){const a=new Sr.TileLayer(t,jc(i,o));return Ea(a,o)},function(t,i,o){u0(t,i,o);const{url:a}=i;a!=null&&a!==o.url&&t.setUrl(a)}),m0={},jf=e=>{let t;const i=new Set,o=(b,x)=>{const w=typeof b=="function"?b(t):b;if(!Object.is(w,t)){const N=t;t=x??(typeof w!="object"||w===null)?w:Object.assign({},t,w),i.forEach(I=>I(t,N))}},a=()=>t,f={setState:o,getState:a,getInitialState:()=>g,subscribe:b=>(i.add(b),()=>i.delete(b)),destroy:()=>{(m0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},g=t=e(o,a,f);return f},g0=e=>e?jf(e):jf;var hm={exports:{}},pm={},mm={exports:{}},gm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=S;function v0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _0=typeof Object.is=="function"?Object.is:v0,y0=xr.useState,x0=xr.useEffect,w0=xr.useLayoutEffect,k0=xr.useDebugValue;function b0(e,t){var i=t(),o=y0({inst:{value:i,getSnapshot:t}}),a=o[0].inst,l=o[1];return w0(function(){a.value=i,a.getSnapshot=t,Il(a)&&l({inst:a})},[e,i,t]),x0(function(){return Il(a)&&l({inst:a}),e(function(){Il(a)&&l({inst:a})})},[e]),k0(i),i}function Il(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!_0(e,i)}catch{return!0}}function S0(e,t){return t()}var C0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S0:b0;gm.useSyncExternalStore=xr.useSyncExternalStore!==void 0?xr.useSyncExternalStore:C0;mm.exports=gm;var P0=mm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=S,E0=P0;function L0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var T0=typeof Object.is=="function"?Object.is:L0,N0=E0.useSyncExternalStore,M0=Ta.useRef,j0=Ta.useEffect,O0=Ta.useMemo,z0=Ta.useDebugValue;pm.useSyncExternalStoreWithSelector=function(e,t,i,o,a){var l=M0(null);if(l.current===null){var c={hasValue:!1,value:null};l.current=c}else c=l.current;l=O0(function(){function f(N){if(!g){if(g=!0,b=N,N=o(N),a!==void 0&&c.hasValue){var I=c.value;if(a(I,N))return x=I}return x=N}if(I=x,T0(b,N))return I;var M=o(N);return a!==void 0&&a(I,M)?(b=N,I):(b=N,x=M)}var g=!1,b,x,w=i===void 0?null:i;return[function(){return f(t())},w===null?void 0:function(){return f(w())}]},[t,i,o,a]);var p=N0(e,l[0],l[1]);return j0(function(){c.hasValue=!0,c.value=p},[p]),z0(p),p};hm.exports=pm;var I0=hm.exports;const R0=Au(I0),vm={},{useDebugValue:A0}=po,{useSyncExternalStoreWithSelector:D0}=R0;let Of=!1;const B0=e=>e;function Z0(e,t=B0,i){(vm?"production":void 0)!=="production"&&i&&!Of&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Of=!0);const o=D0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,i);return A0(o),o}const zf=e=>{(vm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?g0(e):e,i=(o,a)=>Z0(t,o,a);return Object.assign(i,t),i},_m=e=>e?zf(e):zf,F0=e=>{if(typeof globalThis<"u"&&typeof globalThis.btoa=="function")return globalThis.btoa(e);if(typeof Buffer<"u")return Buffer.from(e,"utf-8").toString("base64");throw new Error("Base64 encoding is not supported in this environment.")},ym=e=>{if(typeof globalThis<"u"&&typeof globalThis.atob=="function")return globalThis.atob(e);if(typeof Buffer<"u")return Buffer.from(e,"base64").toString("utf-8");throw new Error("Base64 decoding is not supported in this environment.")},H0=e=>{let t="";for(let i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return t},$0=e=>{const t=new Uint8Array(e.length);for(let i=0;i<e.length;i+=1)t[i]=e.charCodeAt(i);return t},U0=e=>F0(H0(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,""),V0=e=>{const t=e.replace(/-/g,"+").replace(/_/g,"/"),i=t.length%4===0?"":"=".repeat(4-t.length%4),o=ym(`${t}${i}`);return $0(o)},If=e=>Math.round(e*1e6)/1e6,Rf=e=>typeof e=="number"&&Number.isFinite(e),Gi=e=>{if(!e||typeof e!="object")return null;const t=Number(e.lat),i=Number(e.lng);return!Rf(t)||!Rf(i)||t<-90||t>90||i<-180||i>180?null:{lat:If(t),lng:If(i)}},jo=3,Vn=1e5,ua=e=>{if(!e||typeof e!="object")return null;const t=typeof e.version=="number"?e.version:jo;if(t<3){let l=[],c="direct";if(t===1){c=e.connectVia==="route"?"route":"direct";const p=Gi(e.start),f=Gi(e.end),g=Array.isArray(e.checkpoints)?e.checkpoints.map(Gi).filter(Boolean):[];p&&l.push(p),l.push(...g),f&&l.push(f)}else c=e.connectVia==="route"?"route":"direct",l=Array.isArray(e.checkpoints)?e.checkpoints.map(Gi).filter(Boolean):[];return{version:3,connectVia:c,checkpoints:l,routes:[{name:"Route 1",color:"#38bdf8",indices:l.map((p,f)=>f),isVisible:!0}]}}if(t!==jo)return null;const i=e.connectVia==="route"?"route":"direct",o=Array.isArray(e.checkpoints)?e.checkpoints.map(Gi).filter(Boolean):[],a=Array.isArray(e.routes)?e.routes.map(l=>({name:typeof l.name=="string"?l.name.slice(0,20):"Route",color:typeof l.color=="string"?l.color:"#38bdf8",indices:Array.isArray(l.indices)?l.indices.filter(c=>typeof c=="number"&&c>=0&&c<o.length):[],isVisible:typeof l.isVisible=="boolean"?l.isVisible:!0})):[];return{version:t,connectVia:i,checkpoints:o,routes:a}},W0=({checkpointMap:e,routes:t,connectVia:i})=>{const o=Object.keys(e),a=o.map(p=>e[p].position),l={};o.forEach((p,f)=>{l[p]=f});const c=t.map(p=>({name:p.name,color:p.color,isVisible:p.isVisible,indices:p.items.map(f=>l[f]).filter(f=>f!==void 0)}));return{version:jo,connectVia:i,checkpoints:a,routes:c}},G0=e=>{const t=e.checkpoints,i=e.routes;let o=5;o+=t.length*8;const a=new TextEncoder,l=i.map(g=>{const b=a.encode(g.color),x=a.encode(g.name);return{colorBytes:b,nameBytes:x,indices:g.indices,length:1+b.length+1+x.length+1+2+g.indices.length*2}});o+=l.reduce((g,b)=>g+b.length,0);const c=new ArrayBuffer(o),p=new DataView(c);let f=0;return p.setUint8(f,jo),f+=1,p.setUint8(f,e.connectVia==="route"?1:0),f+=1,p.setUint16(f,t.length,!1),f+=2,p.setUint8(f,i.length),f+=1,t.forEach(g=>{p.setInt32(f,Math.round(g.lat*Vn),!1),f+=4,p.setInt32(f,Math.round(g.lng*Vn),!1),f+=4}),l.forEach(g=>{p.setUint8(f,g.colorBytes.length),f+=1,new Uint8Array(c).set(g.colorBytes,f),f+=g.colorBytes.length,p.setUint8(f,g.nameBytes.length),f+=1,new Uint8Array(c).set(g.nameBytes,f),f+=g.nameBytes.length,p.setUint8(f,i[l.indexOf(g)].isVisible?1:0),f+=1,p.setUint16(f,g.indices.length,!1),f+=2,g.indices.forEach(b=>{p.setUint16(f,b,!1),f+=2})}),U0(new Uint8Array(c))},Y0=e=>{try{const t=V0(e);if(t.length<4)return null;const i=new DataView(t.buffer,t.byteOffset,t.byteLength);let o=0;const a=i.getUint8(o);if(o+=1,a<3){let x="direct",w=[];if(a===1){const N=i.getUint8(o);o+=1,x=i.getUint8(o)===1?"route":"direct",o+=1;const I=i.getUint16(o,!1);o+=2;const M=()=>{const te=i.getInt32(o,!1)/Vn;o+=4;const y=i.getInt32(o,!1)/Vn;return o+=4,{lat:te,lng:y}};N&1&&w.push(M());for(let te=0;te<I;te++)w.push(M());N&2&&w.push(M())}else{x=i.getUint8(o)===1?"route":"direct",o+=1;const N=i.getUint16(o,!1);o+=2;for(let I=0;I<N;I++){const M=i.getInt32(o,!1)/Vn;o+=4;const te=i.getInt32(o,!1)/Vn;o+=4,w.push({lat:M,lng:te})}}return{version:3,connectVia:x,checkpoints:w,routes:[{name:"Route 1",color:"#38bdf8",indices:w.map((N,I)=>I),isVisible:!0}]}}const l=i.getUint8(o)===1?"route":"direct";o+=1;const c=i.getUint16(o,!1);o+=2;const p=i.getUint8(o);o+=1;const f=[];for(let x=0;x<c;x++){const w=i.getInt32(o,!1)/Vn;o+=4;const N=i.getInt32(o,!1)/Vn;o+=4,f.push({lat:w,lng:N})}const g=new TextDecoder,b=[];for(let x=0;x<p;x++){const w=i.getUint8(o);o+=1;const N=new Uint8Array(t.buffer,t.byteOffset+o,w),I=g.decode(N);o+=w;const M=i.getUint8(o);o+=1;const te=new Uint8Array(t.buffer,t.byteOffset+o,M),y=g.decode(te);o+=M;const v=i.getUint8(o)===1;o+=1;const k=i.getUint16(o,!1);o+=2;const O=[];for(let H=0;H<k;H++)O.push(i.getUint16(o,!1)),o+=2;b.push({name:y,color:I,isVisible:v,indices:O})}return{version:jo,connectVia:l,checkpoints:f,routes:b}}catch(t){return console.error(t),null}},K0=e=>{const t=ua(e);return t?G0(t):""},X0=e=>{if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const i=Y0(t);if(i)return ua(i);try{const o=JSON.parse(ym(t));return ua(o)}catch{return null}},xm="0123456789bcdefghjkmnpqrstuvwxyz",ho=[16,8,4,2,1],wm=(e,t=9)=>{if(typeof t!="number"||t<1||t>12)throw new Error("encodeLocationCode precision must be between 1 and 12.");const i=Gi(e);if(!i)return null;let o=-90,a=90,l=-180,c=180,p=!0,f=0,g=0,b="";for(;b.length<t;){if(p){const x=(l+c)/2;i.lng>=x?(g|=ho[f],l=x):c=x}else{const x=(o+a)/2;i.lat>=x?(g|=ho[f],o=x):a=x}p=!p,f<ho.length-1?f+=1:(b+=xm[g],f=0,g=0)}return b},Af=e=>{if(typeof e!="string"||e.length===0)return null;let t=-90,i=90,o=-180,a=180,l=!0;for(let c=0;c<e.length;c+=1){const p=e[c].toLowerCase(),f=xm.indexOf(p);if(f===-1)return null;for(let g=0;g<ho.length;g+=1){const b=ho[g];if(l){const x=(o+a)/2;f&b?o=x:a=x}else{const x=(t+i)/2;f&b?t=x:i=x}l=!l}}return{lat:(t+i)/2,lng:(o+a)/2}},Qr=e=>`${e}-${Math.random().toString(36).slice(2,9)}`,Iu="#38bdf8",fr={checkpointMap:{},routes:[{id:"route-1",name:"Route 1",color:Iu,items:[],isVisible:!0}],activeRouteId:"route-1",selectedId:null,connectVia:"direct",placementMode:null},Df=e=>e==null?null:typeof e=="string"?{type:e}:typeof e=="object"&&typeof e.type=="string"?e:null,Q0=_m((e,t)=>({...fr,addRoute:(i="New Route",o=Iu)=>e(a=>{const l={id:Qr("route"),name:i,color:o,items:[],isVisible:!0};return{routes:[...a.routes,l],activeRouteId:l.id}}),removeRoute:i=>e(o=>{if(o.routes.length<=1)return o;const a=o.routes.filter(f=>f.id!==i),l=o.activeRouteId===i?a[0].id:o.activeRouteId,c=new Set(a.flatMap(f=>f.items)),p={};return Object.values(o.checkpointMap).forEach(f=>{c.has(f.id)&&(p[f.id]=f)}),{routes:a,activeRouteId:l,checkpointMap:p,selectedId:o.selectedId}}),setActiveRoute:i=>e(o=>({activeRouteId:o.routes.find(a=>a.id===i)?i:o.activeRouteId})),updateRoute:(i,o)=>e(a=>({routes:a.routes.map(l=>l.id===i?{...l,...o}:l)})),setPlacementMode:i=>e(o=>{const a=Df(i);if(!a)return{placementMode:null};const l=Df(o.placementMode);return(l==null?void 0:l.type)===a.type&&((l==null?void 0:l.insertIndex)??null)===((a==null?void 0:a.insertIndex)??null)?{placementMode:null}:{placementMode:a}}),toggleConnectMode:()=>e(i=>({connectVia:i.connectVia==="direct"?"route":"direct"})),addCheckpoint:(i,o)=>e(a=>{const l=a.routes.find(b=>b.id===a.activeRouteId);if(!l)return a;const c={id:Qr("checkpoint"),position:i},p={...a.checkpointMap,[c.id]:c},f=[...l.items];typeof o=="number"&&o>=0&&o<=f.length?f.splice(o,0,c.id):f.push(c.id);const g=a.routes.map(b=>b.id===a.activeRouteId?{...b,items:f}:b);return{checkpointMap:p,routes:g,placementMode:null,selectedId:c.id}}),selectCheckpoint:i=>e({selectedId:i}),updateCheckpoint:(i,o)=>e(a=>({checkpointMap:{...a.checkpointMap,[i]:{...a.checkpointMap[i],position:o}}})),moveCheckpoint:(i,o)=>e(a=>{const l=a.routes.find(f=>f.id===a.activeRouteId);if(!l)return a;const c=l.items.indexOf(i);if(c===-1||typeof o!="number")return a;const p=[...l.items];return o<0||o>=p.length||o===c?a:(p.splice(c,1),p.splice(o,0,i),{routes:a.routes.map(f=>f.id===a.activeRouteId?{...f,items:p}:f)})}),removeCheckpoint:i=>e(o=>{const a=o.routes.find(g=>g.id===o.activeRouteId);if(!a)return o;const l=a.items.includes(i);let c=o.routes;l?c=o.routes.map(g=>g.id===o.activeRouteId?{...g,items:g.items.filter(b=>b!==i)}:g):c=o.routes.map(g=>({...g,items:g.items.filter(b=>b!==i)}));const p=new Set(c.flatMap(g=>g.items)),f={};return Object.values(o.checkpointMap).forEach(g=>{p.has(g.id)&&(f[g.id]=g)}),{routes:c,checkpointMap:f,selectedId:o.selectedId===i?null:o.selectedId,placementMode:null}}),loadRouteSnapshot:i=>e(o=>{const a=ua(i);if(!a)return o;const l={},p=(a.checkpoints||[]).map(g=>{const b=Qr("checkpoint");return l[b]={id:b,position:g},b}),f=a.routes.map(g=>({id:Qr("route"),name:g.name,color:g.color,isVisible:g.isVisible,items:g.indices.map(b=>p[b]).filter(Boolean)}));if(f.length===0){const g=Qr("route");f.push({id:g,name:"Route 1",color:Iu,items:p,isVisible:!0})}return{...fr,connectVia:a.connectVia,checkpointMap:l,routes:f,activeRouteId:f[0].id,selectedId:null,placementMode:null}}),clearAll:()=>e(fr),swapCheckpoints:(i,o)=>e(a=>{const l=a.routes.find(g=>g.id===a.activeRouteId);if(!l)return a;const c=l.items.indexOf(i),p=l.items.indexOf(o);if(c===-1||p===-1)return a;const f=[...l.items];return f[c]=o,f[p]=i,{routes:a.routes.map(g=>g.id===a.activeRouteId?{...g,items:f}:g)}})})),Cr=()=>Q0(e=>{const t=Array.isArray(e.routes)?e.routes:fr.routes,i=e.checkpointMap||fr.checkpointMap,o=e.activeRouteId||fr.activeRouteId,a=t.find(c=>c.id===o)||t[0],l=a?a.items.map(c=>i[c]).filter(Boolean):[];return{...e,routes:t,checkpointMap:i,activeRouteId:o,checkpoints:l,activeRoute:a}}),q0=({onDropItem:e})=>{const t=fm();return S.useEffect(()=>{if(!e)return;const i=t.getContainer(),o=c=>{c.preventDefault(),c.dataTransfer.dropEffect="copy"},a=c=>{c.preventDefault(),c.dataTransfer.dropEffect="copy"},l=c=>{c.preventDefault(),c.stopPropagation();const{clientX:p,clientY:f}=c,g=i.getBoundingClientRect(),b=p-g.left,x=f-g.top,w=t.containerPointToLatLng([b,x]),N=c.dataTransfer.getData("application/x-cadet-map-item");N&&e(N,w)};return i.addEventListener("dragenter",o),i.addEventListener("dragover",a),i.addEventListener("drop",l),()=>{i.removeEventListener("dragenter",o),i.removeEventListener("dragover",a),i.removeEventListener("drop",l)}},[t,e]),null},J0=Object.assign({"../../assets/compass.png":G_,"../../assets/layer.png":Y_,"../../assets/menu.png":K_,"../../assets/route.png":X_,"../../assets/settings.png":Q_,"../../assets/zoom.png":q_}),ey=e=>J0[`../../assets/${e}.png`]??null,qr=({iconName:e,label:t,onClick:i,title:o,isActive:a=!1,disabled:l=!1,themeStyles:c})=>{const p=ey(e),f=(c==null?void 0:c.button)??{},g=f.base??"flex h-12 w-12 items-center justify-center rounded-2xl border transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",b=f.active??"border-sky-500 bg-sky-200 text-slate-900 focus-visible:ring-sky-400",x=f.idle??"border-slate-300 bg-slate-100 text-slate-900 hover:border-slate-400 hover:bg-slate-200 focus-visible:ring-slate-500/50",w=l?f.disabled??"opacity-60 pointer-events-none":"",N=(c==null?void 0:c.iconStyle)??null,I=(c==null?void 0:c.iconClass)??"";return h.jsx("button",{type:"button",className:`${g} ${a?b:x} ${w}`,onClick:i,title:o??t,"aria-label":t,disabled:l,children:p?h.jsx("img",{src:p,alt:"",className:`h-5 w-5 object-contain select-none ${I}`,style:N??void 0,"aria-hidden":"true",draggable:"false"}):h.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide",children:t})})},ty=[51.505,10],Rl={street:{id:"street",label:"OpenStreetMap Standard",description:"Balanced street map with global coverage sourced from the OpenStreetMap community.",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c"],maxZoom:19,minZoom:3,category:"Streets"},light:{id:"light",label:"Carto Light",description:"Soft grayscale basemap designed for daylight navigation with minimal visual noise.",url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://carto.com/attributions">CARTO</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c","d"],maxZoom:19,minZoom:3,category:"Streets"},dark:{id:"dark",label:"Carto Dark Matter",description:"Night-friendly basemap with high contrast roads and landmarks on a deep navy canvas.",url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://carto.com/attributions">CARTO</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c","d"],maxZoom:19,minZoom:3,category:"Streets"},voyager:{id:"voyager",label:"Carto Voyager",description:"Colorful, detail-rich cartography ideal for orientation and wayfinding at multiple zoom levels.",url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://carto.com/attributions">CARTO</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c","d"],maxZoom:19,minZoom:3,category:"Streets"},hot:{id:"hot",label:"OSM Humanitarian",description:"Humanitarian OpenStreetMap Team basemap with emphasis on populated areas and infrastructure.",url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="https://www.hotosm.org/">Humanitarian OpenStreetMap Team</a>',subdomains:["a","b","c"],maxZoom:19,minZoom:3,category:"Streets"},topo:{id:"topo",label:"OpenTopoMap",description:"Topographic map derived from OSM data with contour lines and terrain shading.",url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors | SRTM | <a href="https://opentopomap.org">OpenTopoMap</a>',subdomains:["a","b","c"],maxZoom:17,minZoom:3,category:"Outdoor"},satellite:{id:"satellite",label:"Esri World Imagery",description:"High-resolution satellite and aerial imagery from Esri and the GIS user community.",url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Imagery &copy; Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",subdomains:[],maxZoom:19,minZoom:3,category:"Imagery"}},ny=["street","light","dark","voyager","hot","topo","satellite"],Bf={light:{container:"pointer-events-auto flex flex-col gap-2 rounded-3xl border border-slate-200 bg-slate-100 p-2 text-slate-900 backdrop-blur-sm",badge:"rounded-full border border-slate-300 bg-slate-100 px-3 py-1 text-[10px] font-semibold text-slate-700",button:{base:"flex h-12 w-12 items-center justify-center rounded-2xl border transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-slate-400/40 focus-visible:ring-offset-slate-100/60",active:"border-sky-500 bg-sky-200 text-slate-900",idle:"border-slate-300 bg-slate-100 text-slate-900 hover:border-slate-400 hover:bg-slate-200",disabled:"opacity-60 pointer-events-none"},panel:"pointer-events-auto w-60 rounded-3xl border border-slate-200 bg-slate-100 p-4 text-slate-900 backdrop-blur-md",panelTitle:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",panelButton:"rounded-xl border border-slate-300 bg-white px-3 py-1.5 text-[12px] font-semibold text-slate-900 transition hover:border-sky-400 hover:bg-sky-100",panelToggle:"rounded-xl border border-slate-300 bg-slate-100 px-3 py-1.5 text-[12px] font-semibold text-slate-900 transition hover:border-sky-400 hover:bg-sky-100",layerScroll:"flex max-h-60 flex-col gap-2 overflow-y-auto pr-1",layerOption:"flex flex-col gap-1 rounded-2xl border border-slate-300 bg-white px-3 py-2 text-left transition hover:border-sky-400 hover:bg-sky-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/40",layerOptionActive:"border-sky-500 bg-sky-100 text-slate-900 shadow-inner shadow-sky-200/60",layerOptionDescription:"text-[11px] text-slate-500 leading-snug",layerOptionCategory:"text-[10px] font-semibold uppercase tracking-wide text-slate-400",iconStyle:null,iconClass:""},dark:{container:"pointer-events-auto flex flex-col gap-2 rounded-3xl border border-slate-700 bg-[#0b1224] p-2 text-slate-100 backdrop-blur-sm",badge:"rounded-full border border-slate-600 bg-[#0f1b38] px-3 py-1 text-[10px] font-semibold text-slate-200",button:{base:"flex h-12 w-12 items-center justify-center rounded-2xl border transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-slate-200/30 focus-visible:ring-offset-[#0b1224]/40",active:"border-sky-400 bg-[#1e335d] text-sky-100",idle:"border-slate-600 bg-[#0d172e] text-slate-100 hover:border-slate-400 hover:bg-[#15213f]",disabled:"opacity-50 pointer-events-none"},panel:"pointer-events-auto w-60 rounded-3xl border border-slate-700 bg-[#080f1e] p-4 text-slate-100 backdrop-blur-md",panelTitle:"text-[11px] font-semibold uppercase tracking-wide text-slate-400",panelButton:"rounded-xl border border-slate-600 bg-[#111b33] px-3 py-1.5 text-[12px] font-semibold text-slate-100 transition hover:border-sky-400 hover:bg-[#1d2b4e]",panelToggle:"rounded-xl border border-slate-500 bg-[#0f1b38] px-3 py-1.5 text-[12px] font-semibold text-slate-100 transition hover:border-sky-400 hover:bg-[#1a2a4d]",layerScroll:"flex max-h-60 flex-col gap-2 overflow-y-auto pr-1",layerOption:"flex flex-col gap-1 rounded-2xl border border-slate-600 bg-[#101d39] px-3 py-2 text-left transition hover:border-sky-400 hover:bg-[#16254a] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-200/30",layerOptionActive:"border-sky-400 bg-[#1e335d] text-sky-100 shadow-inner shadow-sky-900/40",layerOptionDescription:"text-[11px] text-slate-300 leading-snug",layerOptionCategory:"text-[10px] font-semibold uppercase tracking-wide text-slate-400/90",iconStyle:{filter:"invert(0.9)"},iconClass:""}},iy=6,ry=[{id:"getting-started",title:"Getting started",description:"Allow location access, choose a base map that fits the terrain, and use the Route tools to plan your path.",points:['Use the Route tab to manage multiple routes. Click "Add New Route" to start a fresh path.','Tap "Add Checkpoint" to place markers on the map. Drag markers to move them.',"Switch between the light and night toolbar themes for readability in different lighting conditions."]},{id:"toolbar",title:"Toolbar buttons",description:"Each button in the floating toolbar opens a tool. All tools can also be accessed from the Menu button.",points:["Menu toggles the quick actions panel where you can jump to Compass, Route, or Grid tools.","Compass opens the heading overlay. You can select a specific route to navigate to.","Route leads to the checkpoint manager where you can organize routes, change colors, and share data."]},{id:"maps",title:"Choosing maps",description:"Different base layers emphasise different features. Pick the layer that best supports the task at hand.",points:["OpenStreetMap Street is the fallback layer and works reliably online or with low mobile reception.","Carto Light or Dark provide high-contrast styling that is easier to read in bright sun or at night.","OpenTopoMap is ideal for land navigation where contours and terrain shading matter.","Esri Satellite is ideal when you need to see real details, but is heavy on mobile data."]}],oy=(e,t,i)=>{const o=e*Math.PI/180,a=2**i,l=Math.floor((t+180)/360*a),c=Math.floor((1-Math.log(Math.tan(o)+1/Math.cos(o))/Math.PI)/2*a),p=a-1;return{x:Math.min(Math.max(l,0),p),y:Math.min(Math.max(c,0),p),z:i}},sy=(e,t,{x:i,y:o,z:a})=>{const l=Array.isArray(t)&&t.length>0?t:[""],c=Math.abs((i+o)%l.length),p=l[c];return e.replace("{s}",p).replace("{x}",i).replace("{y}",o).replace("{z}",a)},Bo=(e,t)=>Oc.divIcon({className:"flex items-center justify-center rounded-full text-xs font-semibold text-white shadow-lg shadow-slate-900/50",html:`<div style="background:${e};width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:9999px;">${t}</div>`});Bo("#22c55e","S");Bo("#ef4444","F");Bo("#3b82f6","");const ay=Bo("#d946ef",""),ly=e=>Oc.divIcon({className:"user-heading-icon",html:`
      <div style="position:relative;width:44px;height:44px;">
        <div style="position:absolute;inset:0;border-radius:50%;background:rgba(14,165,233,0.12);border:2px solid rgba(56,189,248,0.9);box-shadow:0 0 8px rgba(56,189,248,0.4);"></div>
        <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(${e}deg);transform-origin:center;">
          <div style="width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:18px solid #fbbf24;"></div>
        </div>
      </div>
    `,iconSize:[44,44],iconAnchor:[22,22]}),uy=()=>{const{placementMode:e,addCheckpoint:t,setPlacementMode:i}=Cr();return c0({click:o=>{if(!e)return;const a=typeof e=="string"?{type:e}:e;if(!(a!=null&&a.type))return;const{latlng:l}=o;if(a.type==="checkpoint"){const c=typeof a.insertIndex=="number"?a.insertIndex:void 0;t({lat:l.lat,lng:l.lng},c)}i(null)}}),null},cy=({userLocation:e,userHeading:t,targets:i=[],onEnableLocation:o,locationEnabled:a,hasLocationFix:l,isRequestingLocation:c,locationRequestToken:p=0,baseLayer:f="street",onBaseLayerChange:g,onToggleMenu:b,onOpenCompass:x,onOpenRoute:w,toolbarTheme:N="light",onToolbarThemeToggle:I,isMenuOpen:M=!1,isSettingsOpen:te=!1,onToggleSettings:y,previewLocation:v,onDropItem:k,hideToolbar:O=!1})=>{const{checkpoints:H,checkpointMap:G,routes:$,activeRouteId:D,connectVia:z,selectedId:R,selectCheckpoint:Z,updateCheckpoint:X,setPlacementMode:T,toggleConnectMode:B,loadRouteSnapshot:K,placementMode:Y,addCheckpoint:ne}=Cr(),C=S.useRef(null),U=S.useRef(!1),A=S.useRef(0),[V,se]=S.useState(null),[me,q]=S.useState(!1),[ee,le]=S.useState(!1),[fe,pe]=S.useState("settings"),[Mt,pt]=S.useState(0),[jt,Ge]=S.useState(null),[kt,dn]=S.useState(""),[Ot,Oe]=S.useState(null),[Ye,qt]=S.useState(""),[he,Le]=S.useState("checkpoint"),[ke,it]=S.useState(null),Fe=S.useRef(null),Ke=S.useRef(0),Jt=S.useRef(null),en=S.useRef(null),qe=S.useRef(null),He=S.useRef(null),mt=S.useRef(null),oe=Rl[f]??Rl.street,J=Bf[N]??Bf.light,rt=N==="dark"?"map-theme-dark":"map-theme-light",zt=e?[e.lat,e.lng]:ty,bt=e?"user-centered":"default-centered",Ae=S.useCallback(()=>{C.current&&C.current.invalidateSize({animate:!1})},[]),Na=S.useMemo(()=>ny.map(P=>Rl[P]).filter(Boolean),[]),ui=S.useMemo(()=>({top:"calc(env(safe-area-inset-top, 0px) + 1rem)",right:"calc(env(safe-area-inset-right, 0px) + 1rem)"}),[]),[Ii,Ma]=S.useState("all"),$e=S.useMemo(()=>{let P=$;return Ii!=="all"&&(P=$.filter(Q=>Q.id===Ii)),W0({checkpointMap:G,routes:P,connectVia:z})},[G,$,z,Ii]),An=S.useMemo(()=>$e?K0($e):"",[$e]),Pr=S.useMemo(()=>{if(!$e)return null;const P=[];$e.checkpoints.length>0&&P.push(`${$e.checkpoints.length} checkpoint${$e.checkpoints.length===1?"":"s"}`),$e.routes&&$e.routes.length>0&&P.push(`${$e.routes.length} route${$e.routes.length===1?"":"s"}`);const Q=P.length?`Includes ${P.join(", ")}. `:"",de=$e.connectVia==="route"?"Route mode connections maintained.":"Direct line connections maintained.";return`${Q}${de}`},[$e]),Ri=!!An,Zo=S.useMemo(()=>{if(!$e)return[];const P=[];return $e.routes.forEach(Q=>{const de=[];Q.indices.forEach((ue,Ce)=>{const fn=$e.checkpoints[ue];fn&&de.push({key:`${Q.name}-${Ce}`,label:`Point ${Ce+1}`,code:wm(fn),position:fn})}),de.length>0&&P.push({route:Q.name,color:Q.color,codes:de})}),P},[$e]),ja=S.useCallback(P=>P?`${P.lat.toFixed(4)}, ${P.lng.toFixed(4)}`:"",[]),Er=S.useCallback(P=>P==="success"?"text-emerald-500":P==="error"?"text-rose-500":P==="warning"?"text-amber-500":"text-slate-500",[]),Ai=S.useCallback((P,Q,de=2500)=>{qe.current&&typeof window<"u"&&(window.clearTimeout(qe.current),qe.current=null),Ge(Q?{tone:P,message:Q}:null),Q&&de!==null&&typeof window<"u"&&(qe.current=window.setTimeout(()=>{Ge(null),qe.current=null},de))},[Ge,qe]),Di=S.useCallback((P,Q,de=4e3)=>{He.current&&typeof window<"u"&&(window.clearTimeout(He.current),He.current=null),Oe(Q?{tone:P,message:Q}:null),Q&&de!==null&&typeof window<"u"&&(He.current=window.setTimeout(()=>{Oe(null),it(null),He.current=null},de))},[Oe,He]),Lr=S.useCallback(async()=>{var P;if(!Ri){Ai("warning","Define a route to generate a share code.",3200);return}try{let Q=!1;if(typeof navigator<"u"&&((P=navigator.clipboard)!=null&&P.writeText))await navigator.clipboard.writeText(An),Q=!0;else if(typeof document<"u"&&en.current){const de=en.current;de.focus(),de.select(),typeof de.setSelectionRange=="function"&&de.setSelectionRange(0,An.length),Q=!!(typeof document.execCommand=="function"&&document.execCommand("copy"))}if(!Q)throw new Error("Copy not supported");Ai("success","Share code copied to clipboard.",2500)}catch(Q){Ai("error",Q!=null&&Q.message&&Q.message!=="Copy not supported"?Q.message:"Copy failed. Try selecting and copying the code manually.",4e3)}},[Ri,An,Ai]),Tr=S.useCallback(()=>{const P=kt.trim();if(!P){Di("warning","Paste a share code to import.",3500);return}const Q=X0(P);if(!Q){Di("error","That share code could not be read. Check the full code and try again.",4e3);return}K(Q),dn(""),Di("success","Route imported. Close this panel to review it on the map.",4e3)},[K,kt,Di]),Oa=S.useCallback(P=>{He.current&&typeof window<"u"&&(window.clearTimeout(He.current),He.current=null),dn(P.target.value),Oe(null)},[Oe,dn,He]),za=S.useCallback(P=>{(P.ctrlKey||P.metaKey)&&P.key==="Enter"&&(P.preventDefault(),Tr())},[Tr]);S.useEffect(()=>{fe!=="share"&&(Ge(null),Oe(null),qe.current&&typeof window<"u"&&(window.clearTimeout(qe.current),qe.current=null),He.current&&typeof window<"u"&&(window.clearTimeout(He.current),He.current=null))},[fe]);const ci=S.useMemo(()=>N==="light"?"border border-slate-300 bg-white text-slate-900 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-400":"border border-slate-700 bg-slate-950 text-slate-100 focus:border-sky-400 focus:outline-none focus:ring-1 focus:ring-sky-500",[N]),St=S.useMemo(()=>{if(!Y)return null;const P=typeof Y=="string"?{type:Y}:Y;return P!=null&&P.type?P.type==="start"?"Start point":P.type==="end"?"End point":P.type==="checkpoint"?typeof P.insertIndex=="number"?`Checkpoint (position ${P.insertIndex+1})`:"Checkpoint":null:null},[Y]),ae=S.useMemo(()=>St?[{key:"placement",text:`Currently placing: ${St}`,tone:"emerald"}]:[],[St]),Ue=S.useCallback((P,Q="info",de=4e3)=>{Fe.current&&typeof window<"u"&&(window.clearTimeout(Fe.current),Fe.current=null),se(P?{message:P,tone:Q}:null),P&&de!==null&&typeof window<"u"&&(Fe.current=window.setTimeout(()=>{se(null),Fe.current=null},de))},[]);S.useEffect(()=>{Oc.Icon.Default.mergeOptions({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},[]),S.useEffect(()=>{Ue(null),q(!1),Ke.current=0,pt(P=>P+1)},[f,Ue]),S.useEffect(()=>{M&&pe("settings")},[M,pe]),S.useEffect(()=>{if(!ee||typeof window>"u")return;const P=()=>{window.requestAnimationFrame(Ae)};return window.requestAnimationFrame(Ae),window.addEventListener("resize",P,{passive:!0}),window.addEventListener("orientationchange",P,{passive:!0}),()=>{window.removeEventListener("resize",P),window.removeEventListener("orientationchange",P)}},[ee,Ae]),S.useEffect(()=>{var de;if(!ee||typeof ResizeObserver>"u")return;const P=(de=C.current)==null?void 0:de.getContainer();if(!P)return;const Q=new ResizeObserver(()=>{typeof window<"u"?window.requestAnimationFrame(Ae):Ae()});return Q.observe(P),()=>Q.disconnect()},[ee,Ae]),S.useEffect(()=>{ee&&Ae()},[ee,Ae,N,te,M,f]),S.useEffect(()=>{!C.current||!e||U.current||(C.current.setView([e.lat,e.lng],16),U.current=!0)},[e]),S.useEffect(()=>{Jt.current=e},[e]),S.useEffect(()=>{if(!C.current)return;U.current=!1,Ae();const P=Jt.current;P&&(C.current.flyTo([P.lat,P.lng],Math.max(C.current.getZoom(),16),{animate:!1}),U.current=!0)},[f,Ae]),S.useEffect(()=>{C.current&&(p===void 0||p===A.current||(A.current=p,U.current=!1,e&&(C.current.flyTo([e.lat,e.lng],Math.max(C.current.getZoom(),16),{animate:!0}),U.current=!0)))},[p,e]);const Fo=S.useMemo(()=>ly(t??0),[t]),Nr=S.useCallback(()=>{if(!C.current)return;const P=Jt.current??e;if(!P)return;const Q=C.current;Ae();const de=Math.max(Q.getZoom(),16);Q.flyTo([P.lat,P.lng],de,{animate:!0}),U.current=!0},[Ae,e]);S.useEffect(()=>()=>{C.current&&(C.current.getContainer().classList.remove("mapview-attribution-offset"),C.current=null)},[]),S.useEffect(()=>()=>{Fe.current&&typeof window<"u"&&window.clearTimeout(Fe.current),qe.current&&typeof window<"u"&&window.clearTimeout(qe.current),He.current&&typeof window<"u"&&window.clearTimeout(He.current),mt.current&&typeof window<"u"&&window.clearTimeout(mt.current)},[]);const Mr=S.useCallback(()=>typeof o=="function"?o():!1,[o]),jr=S.useCallback(()=>{typeof b=="function"&&b()},[b]),Ho=S.useCallback(()=>{typeof x=="function"&&x()},[x]),Dn=S.useCallback(()=>{typeof w=="function"&&w()},[w]),$o=S.useCallback(P=>{P!==f&&typeof g=="function"&&g(P)},[f,g]),di=S.useCallback((P,Q,de=3500)=>{mt.current&&typeof window<"u"&&(window.clearTimeout(mt.current),mt.current=null),it(Q?{tone:P,message:Q}:null),Q&&de!==null&&typeof window<"u"&&(mt.current=window.setTimeout(()=>{it(null),mt.current=null},de))},[it,mt]),Ia=S.useCallback(async()=>{if(!ee||!C.current){Ue("Map not ready yet.","warning");return}if(f!=="satellite"){Ue("Switch to satellite view to cache imagery.","warning");return}if(typeof window>"u"||!("caches"in window)){Ue("Tile caching not supported in this browser.","error");return}const P=C.current,Q=Math.round(P.getZoom()),de=2**Q,ue=[];if(e&&ue.push(e),H.forEach(ut=>{ut!=null&&ut.position&&ue.push(ut.position)}),ue.length===0){Ue("Add a checkpoint or enable location before caching.","warning");return}const fn=40075016686e-3/de,Bn=new Set;if(ue.forEach(ut=>{const It=oy(ut.lat,ut.lng,Q),Je=ut.lat*Math.PI/180,Se=Math.cos(Je)||1e-4,Rt=fn*Se,wn=fn,At=Math.max(1,Math.ceil(2e3/Rt)),kn=Math.max(1,Math.ceil(2e3/wn));for(let Be=-At;Be<=At;Be+=1)for(let gi=-kn;gi<=kn;gi+=1){const Ir=Math.min(Math.max(It.x+Be,0),de-1),Bi=Math.min(Math.max(It.y+gi,0),de-1);Bn.add(`${Ir}:${Bi}:${Q}`)}}),Bn.size===0){Ue("No tiles identified for caching.","warning");return}const gt=Array.from(Bn).map(ut=>{const[It,Je,Se]=ut.split(":").map(Rt=>Number(Rt));return{x:It,y:Je,z:Se}});try{q(!0),Ue("Caching satellite tiles nearby","info",null);const ut=await caches.open("cadet-map-tile-cache");let It=0;const Je=[],Se=[...gt],Rt=Math.min(iy,Se.length),wn=async()=>{for(;Se.length>0;){const At=Se.shift();if(!At)continue;const kn=sy(oe.url,oe.subdomains,At);try{const Be=await fetch(kn,{mode:"cors"});if(!Be.ok&&Be.type!=="opaque")throw new Error(`HTTP ${Be.status}`);await ut.put(kn,Be.clone()),It+=1}catch(Be){Je.push((Be==null?void 0:Be.message)??"Unknown error")}await new Promise(Be=>{if(typeof window>"u"){Be();return}window.requestAnimationFrame(Be)})}};if(await Promise.all(Array.from({length:Rt},wn)),Je.length===gt.length)Ue("Unable to cache tiles. Please try again later.","error");else{const At=Je.length?` (skipped ${Je.length} tile${Je.length===1?"":"s"})`:"";Ue(`Cached ${It} satellite tile${It===1?"":"s"}${At}.`,Je.length?"warning":"success")}}catch(ut){Ue(ut.message??"Tile caching failed.","error")}finally{q(!1)}},[f,H,ee,Ue,oe.subdomains,oe.url,e]),Ra=S.useCallback(()=>{typeof y=="function"&&y(),pe("settings")},[y]),Aa=S.useCallback(()=>{pe("help"),!te&&typeof y=="function"&&y()},[te,y]),Or=S.useCallback(()=>{!te&&typeof y=="function"&&y(),pe("share")},[te,y]),Da=S.useCallback(()=>{typeof I=="function"&&I()},[I]),fi=S.useCallback(()=>{if(e){Nr(),te&&typeof y=="function"&&y(),pe("settings");return}Mr()?Ue("Requesting location fix","info",2500):Ue("Enable location permissions to center the map.","warning")},[Mr,Nr,te,y,Ue,e]),Uo=f!=="satellite"||me,Ba=me?"Caching":f!=="satellite"?"Satellite required":"Cache tiles",Za=S.useMemo(()=>({loading:()=>{Ke.current=0},load:()=>{Ae()},tileerror:()=>{Ke.current+=1,Ke.current>=3&&(Ke.current=0,Ue("Tile issues detected. Reverting to standard map.","warning",3e3),f!=="street"&&typeof g=="function"?g("street"):pt(P=>P+1))}}),[f,g,Ae,pt,Ue]),Fa=S.useCallback(P=>{const Q=P.target.value.replace(/\s+/g,"").toLowerCase();qt(Q),it(null),mt.current&&typeof window<"u"&&(window.clearTimeout(mt.current),mt.current=null)},[]),Ha=S.useCallback(P=>{Le(P.target.value)},[]),zr=S.useCallback(()=>{const P=Ye.trim().toLowerCase();if(!P){di("warning","Enter a callout code to place it.");return}if(P.length<4||P.length>12){di("error","Callouts should be between 4 and 12 characters.");return}const Q=Af(P);if(!Q){di("error","That code could not be decoded. Double-check the letters.");return}ne(Q),di("success","Checkpoint added from callout.",3e3),qt("")},[ne,Af,Ye,di]),hi=S.useMemo(()=>`${J.panelToggle} ${fe==="settings"?"ring-1 ring-sky-400 text-sky-500 border-sky-400":"opacity-80 hover:opacity-100"}`,[fe,J.panelToggle]),Vo=S.useMemo(()=>`${J.panelToggle} ${fe==="share"?"ring-1 ring-sky-400 text-sky-500 border-sky-400":"opacity-80 hover:opacity-100"}`,[fe,J.panelToggle]),Wo=S.useMemo(()=>`${J.panelToggle} ${fe==="help"?"ring-1 ring-sky-400 text-sky-500 border-sky-400":"opacity-80 hover:opacity-100"}`,[fe,J.panelToggle]),pi=S.useMemo(()=>{const P={};return $.filter(Q=>Q.isVisible).forEach(Q=>{var de;(de=Q.items)==null||de.forEach(ue=>{(!P[ue]||Q.id===D)&&(P[ue]={checkpoint:G[ue],color:Q.color,routeId:Q.id})})}),Object.values(P).filter(Q=>Q.checkpoint)},[$,G,D]),ye=S.useRef(new Map),Te=S.useCallback(P=>(ye.current.has(P)||ye.current.set(P,Bo(P,"")),ye.current.get(P)),[]),mi=S.useMemo(()=>$.filter(P=>P.isVisible).map(P=>{const Q=(P.items||[]).map(de=>{var ue;return(ue=G[de])==null?void 0:ue.position}).filter(Boolean).map(de=>[de.lat,de.lng]);return{id:P.id,color:P.color,positions:Q}}),[$,G]);return h.jsxs("div",{className:"relative h-full w-full flex-1",children:[h.jsxs(h0,{center:zt,zoom:13,className:`h-full w-full ${rt}`,preferCanvas:!0,ref:C,attributionControl:!1,whenCreated:P=>{P.getContainer().classList.add("mapview-attribution-offset")},children:[h.jsx(q0,{onDropItem:k}),h.jsx(d0,{position:"bottomleft",prefix:!1}),h.jsx(p0,{url:oe.url,attribution:oe.attribution,subdomains:oe.subdomains,minZoom:oe.minZoom,maxZoom:oe.maxZoom,eventHandlers:Za},`${oe.id}-${Mt}`),h.jsx(uy,{}),e&&h.jsx(zl,{position:[e.lat,e.lng],icon:Fo,interactive:!1}),pi.map(({checkpoint:P,color:Q})=>h.jsx(zl,{position:[P.position.lat,P.position.lng],icon:Te(Q),draggable:!0,eventHandlers:{click:()=>Z(P.id),dragend:de=>{const{lat:ue,lng:Ce}=de.target.getLatLng();X(P.id,{lat:ue,lng:Ce})}}},P.id)),(v==null?void 0:v.position)&&h.jsxs(h.Fragment,{children:[h.jsx(zl,{position:[v.position.lat,v.position.lng],icon:ay,opacity:.8}),v.source&&h.jsx(bs,{positions:[[v.source.lat,v.source.lng],[v.position.lat,v.position.lng]],pathOptions:{color:"#d946ef",weight:3,dashArray:"5 5",opacity:.6}})]}),z==="direct"&&mi.map(P=>P.positions.length>=2&&h.jsx(bs,{positions:P.positions,pathOptions:{color:P.color,weight:4,opacity:.7}},`direct-${P.id}`)),z==="route"&&mi.map(P=>P.positions.length>=2&&h.jsx(bs,{positions:P.positions,pathOptions:{color:P.color,weight:4,dashArray:"10 6",opacity:.8}},`route-${P.id}`)),e&&i.filter(P=>P.position).map(P=>h.jsx(bs,{positions:[[e.lat,e.lng],[P.position.lat,P.position.lng]],pathOptions:{color:"#818cf8",weight:2,dashArray:"4 6",opacity:.4}},`user-target-${P.id}`))]},bt),V&&h.jsx("div",{className:`pointer-events-none absolute left-1/2 top-4 z-[1000] -translate-x-1/2 rounded-full border px-4 py-1.5 text-[11px] font-semibold tracking-wide ${V.tone==="success"?"border-emerald-300 bg-emerald-200 text-emerald-900":V.tone==="warning"?"border-amber-300 bg-amber-200 text-amber-900":V.tone==="error"?"border-rose-300 bg-rose-200 text-rose-900":"border-sky-300 bg-sky-200 text-slate-900"}`,children:V.message}),h.jsxs("div",{className:`pointer-events-none absolute z-[990] flex flex-col items-end gap-3 transition-opacity duration-300 ${O?"opacity-0":"opacity-100"}`,style:ui,children:[h.jsxs("div",{className:J.container,children:[h.jsx(qr,{iconName:"menu",label:"Menu",onClick:jr,title:"Toggle navigation menu",isActive:M,themeStyles:J}),h.jsx(qr,{iconName:"compass",label:"Compass",onClick:Ho,title:"Open compass overlay",themeStyles:J}),h.jsx(qr,{iconName:"route",label:"Route",onClick:Dn,title:"Open route tools",themeStyles:J}),h.jsx(qr,{iconName:"settings",label:"Settings",onClick:Ra,title:"Open settings",isActive:te,themeStyles:J})]}),(c||a&&!l)&&h.jsx("div",{className:`pointer-events-none ${J.badge}`,children:c?"Getting location":"GPS active, awaiting fix"})]}),h.jsx("div",{className:"pointer-events-none absolute z-[990] flex flex-col items-start gap-3",style:{bottom:"calc(env(safe-area-inset-bottom, 0px) + 1rem)",left:"calc(env(safe-area-inset-left, 0px) + 1rem)"},children:h.jsx("div",{className:"pointer-events-auto",children:h.jsx(qr,{iconName:"zoom",label:"Zoom",onClick:fi,title:"Zoom to location",isActive:!1,themeStyles:J})})}),te&&h.jsxs("div",{className:"pointer-events-auto fixed inset-0 z-[1180] flex items-center justify-center p-4",children:[h.jsx("button",{type:"button",className:"absolute inset-0 rounded-none border-0 bg-slate-950 backdrop-blur-sm",style:{backgroundColor:"rgba(2, 6, 23, 0.45)"},"aria-label":"Close settings",onClick:()=>{typeof y=="function"&&y(),pe("settings")}}),h.jsxs("div",{className:`${J.panel} w-full max-w-md max-h-[80vh] overflow-hidden shadow-2xl shadow-slate-950/50`,role:"dialog","aria-modal":"true","aria-label":fe==="help"?"Map help":fe==="share"?"Share current route":"Map settings",children:[h.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[h.jsx("span",{className:J.panelTitle,children:fe==="help"?"Help":fe==="share"?"Share route":"Settings"}),h.jsx("button",{type:"button",className:J.panelButton,onClick:()=>{typeof y=="function"&&y(),pe("settings")},children:"Close"})]}),h.jsxs("div",{className:"mb-3 flex items-center gap-2 text-[11px]",children:[h.jsx("button",{type:"button",className:hi,onClick:()=>pe("settings"),"aria-pressed":fe==="settings",children:"Settings"}),h.jsx("button",{type:"button",className:Vo,onClick:Or,"aria-pressed":fe==="share",children:"Share"}),h.jsx("button",{type:"button",className:Wo,onClick:Aa,"aria-pressed":fe==="help",children:"Help"})]}),h.jsx("div",{className:"flex h-full max-h-[65vh] flex-col gap-3 overflow-y-auto pr-1 text-[12px]",children:fe==="help"?h.jsx("div",{className:"flex flex-col gap-2",children:ry.map(P=>h.jsxs("section",{className:`${J.layerOption} cursor-default`,"aria-labelledby":`${P.id}-title`,children:[h.jsx("h3",{id:`${P.id}-title`,className:"text-[12px] font-semibold leading-tight",children:P.title}),h.jsx("p",{className:J.layerOptionDescription,children:P.description}),h.jsx("ul",{className:"ml-3 list-disc space-y-1 text-[11px] leading-snug",children:P.points.map((Q,de)=>h.jsx("li",{children:Q},de))})]},P.id))}):fe==="share"?h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("section",{className:`${J.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Share code"}),h.jsx("p",{className:J.layerOptionDescription,children:"Copy and send this code to share the current route."})]}),h.jsx("button",{type:"button",className:`${J.panelButton} ${Ri?"":"pointer-events-none opacity-50"}`,onClick:Lr,disabled:!Ri,children:"Copy code"})]}),$.length>1&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-[11px] font-semibold opacity-70",children:"Scope:"}),h.jsxs("select",{value:Ii,onChange:P=>Ma(P.target.value),className:`${ci} flex-1 rounded-lg px-2 py-1 text-[11px]`,children:[h.jsx("option",{value:"all",children:"All Routes"}),$.map(P=>h.jsx("option",{value:P.id,children:P.name},P.id))]})]}),h.jsx("p",{className:J.layerOptionDescription,children:Pr??"Add at least one waypoint to generate a share code."}),h.jsx("textarea",{ref:en,className:`${ci} min-h-[90px] w-full rounded-xl px-3 py-2 text-[11px] leading-snug`,value:An,readOnly:!0,spellCheck:!1,"aria-label":"Current route share code",onFocus:P=>P.target.select()}),jt&&h.jsx("span",{role:"status","aria-live":"polite",className:`text-[11px] font-semibold ${Er(jt.tone)}`,children:jt.message})]}),h.jsxs("section",{className:`${J.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Import route"}),h.jsx("p",{className:J.layerOptionDescription,children:"Paste a code received from another teammate to replace your current route."})]}),h.jsx("textarea",{className:`${ci} min-h-[110px] w-full rounded-xl px-3 py-2 text-[11px] leading-snug`,value:kt,onChange:Oa,onKeyDown:za,placeholder:"Paste a share code here",spellCheck:!1,"aria-label":"Paste a share code to import"}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("button",{type:"button",className:`${J.panelButton} ${kt.trim()?"":"pointer-events-none opacity-50"}`,onClick:Tr,disabled:!kt.trim(),children:"Load route"}),Ot?h.jsx("span",{role:"status","aria-live":"polite",className:`text-[11px] font-semibold ${Er(Ot.tone)}`,children:Ot.message}):h.jsx("span",{className:"text-[10px] opacity-60",children:"Press Ctrl/ + Enter to load"})]})]}),h.jsxs("section",{className:`${J.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Plot callout"}),h.jsx("p",{className:J.layerOptionDescription,children:"Drop a shared geohash onto the map as a start, checkpoint, or finish marker."})]}),h.jsx("input",{type:"text",className:`${ci} w-full rounded-xl px-3 py-2 text-[11px] uppercase tracking-wide`,value:Ye,onChange:Fa,placeholder:"e.g. u4pruydqq",spellCheck:!1,"aria-label":"Enter a location callout code"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{htmlFor:"callout-target",className:"text-[11px] font-semibold opacity-70",children:"Place as"}),h.jsx("select",{id:"callout-target",className:`${ci} w-full rounded-xl px-3 py-2 text-[11px]`,value:he,onChange:Ha,disabled:!0,children:h.jsx("option",{value:"checkpoint",children:"Checkpoint"})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("button",{type:"button",className:`${J.panelButton} ${Ye.trim()?"":"pointer-events-none opacity-50"}`,onClick:zr,disabled:!Ye.trim(),children:"Place callout"}),ke&&h.jsx("span",{role:"status","aria-live":"polite",className:`text-[11px] font-semibold ${Er(ke.tone)}`,children:ke.message})]})]}),Zo.length>0&&h.jsxs("section",{className:`${J.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Location codes"}),h.jsx("p",{className:J.layerOptionDescription,children:"Geohash references 5m accuracy for quick callouts."})]}),h.jsx("div",{className:"flex flex-col gap-3",children:Zo.map(P=>h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center gap-2 border-b border-slate-700/50 pb-1",children:[h.jsx("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:P.color}}),h.jsx("span",{className:"text-[11px] font-semibold text-slate-300",children:P.route})]}),h.jsx("ul",{className:"flex flex-col gap-1 text-[11px] font-mono",children:P.codes.map(Q=>h.jsxs("li",{className:"flex flex-col pl-4",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"font-semibold uppercase tracking-wide text-[10px] opacity-70",children:Q.label}),h.jsx("span",{className:"opacity-60",children:ja(Q.position)})]}),h.jsx("span",{children:Q.code})]},Q.key))})]},P.route))})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center justify-between gap-3",children:[h.jsx("span",{className:"font-medium",children:"Toolbar theme"}),h.jsx("button",{type:"button",className:J.panelToggle,onClick:Da,children:N==="light"?"Light":"Night"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Map layers"}),h.jsx("p",{className:"text-[11px] opacity-70",children:"Choose the basemap that suits your mission."}),h.jsx("div",{className:`${J.layerScroll} mt-2`,children:Na.map(P=>{const Q=P.id===f;return h.jsxs("button",{type:"button",className:`${J.layerOption} ${Q?J.layerOptionActive:""}`,onClick:()=>$o(P.id),children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:P.label}),P.category&&h.jsx("p",{className:J.layerOptionCategory,children:P.category})]}),Q&&h.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide text-sky-500",children:"Current"})]}),h.jsx("p",{className:J.layerOptionDescription,children:P.description})]},P.id)})})]}),h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"Cache imagery"}),h.jsx("p",{className:"text-[11px] opacity-70",children:"Download tiles within 2km"})]}),h.jsx("button",{type:"button",className:`${J.panelButton} ${Uo?"opacity-60 pointer-events-none":""}`,onClick:Ia,disabled:Uo,children:Ba})]}),h.jsxs("section",{className:`${J.layerOption} flex flex-col gap-2`,children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Share this route"}),h.jsx("p",{className:J.layerOptionDescription,children:"switch to the share view to copy or import a route."})]}),h.jsx("button",{type:"button",className:J.panelButton,onClick:Or,children:"Open"})]}),h.jsx("p",{className:J.layerOptionDescription,children:Pr??"Add at least one waypoint to enable route sharing."})]}),h.jsx("button",{type:"button",className:J.panelButton,onClick:fi,children:"Center map on my location"})]})})]})]}),ae.length>0&&h.jsx("div",{className:"pointer-events-none absolute bottom-4 left-1/2 flex w-[min(90vw,18rem)] -translate-x-1/2 flex-col gap-2",children:ae.map(P=>{const Q=P.tone==="emerald"?"border-emerald-500 text-emerald-100":"border-sky-500 text-sky-200";return h.jsx("div",{className:`rounded-lg border bg-slate-950 p-3 text-center text-sm font-semibold shadow-lg shadow-slate-950 ${Q}`,children:P.text},P.key)})})]})},Ci=e=>e*Math.PI/180,dy=e=>e*180/Math.PI,km=(e,t)=>{if(!e||!t)return null;const i=Ci(e.lat),o=Ci(t.lat),a=Ci(t.lng-e.lng),l=Math.sin(a)*Math.cos(o),c=Math.cos(i)*Math.sin(o)-Math.sin(i)*Math.cos(o)*Math.cos(a),p=Math.atan2(l,c);return(dy(p)+360)%360},bm=(e,t)=>{if(!e||!t)return null;const i=6371e3,o=Ci(e.lat),a=Ci(t.lat),l=Ci(t.lat-e.lat),c=Ci(t.lng-e.lng),p=Math.sin(l/2)*Math.sin(l/2)+Math.cos(o)*Math.cos(a)*Math.sin(c/2)*Math.sin(c/2),f=2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p));return i*f},Sm=(e,t)=>e==null||t==null?null:(t-e+360)%360,fy=e=>{const[t,i]=S.useState(null),[o,a]=S.useState(null),[l,c]=S.useState(null),[p,f]=S.useState(!1),[g,b]=S.useState(!0),[x,w]=S.useState(!1),[N,I]=S.useState(!1),[M,te]=S.useState(!1),y=S.useRef(null),v=S.useRef(null),k=S.useRef(typeof navigator<"u"&&"geolocation"in navigator);S.useEffect(()=>{if(!(typeof window>"u")){if(typeof DeviceOrientationEvent>"u"){b(!1),c(z=>z??"Compass not supported on this device");return}typeof DeviceOrientationEvent.requestPermission=="function"&&f(!0)}},[]);const O=S.useCallback(z=>{if(typeof z.alpha=="number"){const R=z.webkitCompassHeading??360-z.alpha;i((R+360)%360)}},[]),H=S.useCallback(()=>{if(!k.current)return c("Geolocation not supported"),!1;y.current!==null&&(navigator.geolocation.clearWatch(y.current),y.current=null);const z=Z=>{const{latitude:X,longitude:T}=Z.coords;a({lat:X,lng:T}),w(!0),I(!0),te(!1),c(null)},R=Z=>{var X;(Z==null?void 0:Z.code)===1?(c("Location permission denied"),w(!1)):(Z==null?void 0:Z.code)===2?c("Location unavailable"):(Z==null?void 0:Z.code)===3?c("Location request timed out"):c((Z==null?void 0:Z.message)??"Unable to access location"),I(!1),w(!1),te(!1),y.current!==null&&((X=navigator.geolocation)!=null&&X.clearWatch)&&(navigator.geolocation.clearWatch(y.current),y.current=null)};try{return te(!0),navigator.geolocation.getCurrentPosition(z,R,{enableHighAccuracy:!0,maximumAge:0,timeout:15e3}),y.current=navigator.geolocation.watchPosition(z,R,{enableHighAccuracy:!0,maximumAge:0,timeout:15e3}),!0}catch(Z){return c(Z.message??"Unable to access location"),te(!1),w(!1),!1}},[]),G=S.useCallback(async()=>{if(typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"?(window.removeEventListener("deviceorientation",O),window.addEventListener("deviceorientation",O),v.current="deviceorientation",H(),f(!1)):c("Compass permission denied")}catch(z){c(z.message??"Compass permission error")}},[O,H]);S.useEffect(()=>{if(!k.current)return()=>{};if(typeof window>"u"||!window.isSecureContext)return()=>{};let z=!1;return(async()=>{var Z;if((Z=navigator.permissions)!=null&&Z.query)try{const X=await navigator.permissions.query({name:"geolocation"});if(z)return;X.state==="granted"?H():X.state==="denied"&&c(T=>T??"Location permission denied"),X.onchange=()=>{z||(X.state==="granted"?H():X.state==="denied"&&(c("Location permission denied"),w(!1),I(!1)))}}catch(X){c(T=>T??X.message??"Geolocation unavailable")}})(),()=>{var Z;y.current!==null&&((Z=navigator.geolocation)!=null&&Z.clearWatch)&&navigator.geolocation.clearWatch(y.current),y.current=null,z=!0}},[H]),S.useEffect(()=>{if(typeof window>"u")return()=>{};if(!g)return()=>{};if(typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function")return()=>{window.removeEventListener("deviceorientation",O)};const z="ondeviceorientationabsolute"in window?"deviceorientationabsolute":"deviceorientation";return window.addEventListener(z,O),v.current=z,()=>{v.current&&window.removeEventListener(v.current,O)}},[O,g]);const $=km(o,e),D=bm(o,e);return{heading:t,bearing:$,distance:D,geolocation:o,error:l,needsPermission:p,isSupported:g,locationEnabled:x,hasLocationFix:N,isRequestingLocation:M,requestPermission:G,startGeolocation:H}},Zf=e=>e==null?"N/A":e<1e3?`${e.toFixed(0)} m`:`${(e/1e3).toFixed(2)} km`,hy=3200/Math.PI,py=({heading:e,bearing:t,distance:i,error:o,enableCompass:a,onEnableLocation:l,needsPermission:c,isSupported:p,locationEnabled:f,hasLocationFix:g,isRequestingLocation:b,targets:x=[],selectedTarget:w=null,onSelectTarget:N,bearingUnit:I="degrees",onToggleBearingUnit:M,routes:te=[],activeRouteId:y=null,onSelectRoute:v=null})=>{const k=S.useMemo(()=>Sm(e,t),[e,t]),O=()=>{typeof l=="function"&&l()},H=()=>{typeof a=="function"&&a()},G=g?"Location Active":b?"Locating":f?"Retry Location":"Enable Location",$=b||g,D=typeof M!="function",z=!p&&!c,R=typeof N=="function",Z=q=>{if(!q)return null;const{lat:ee,lng:le}=q;return typeof ee!="number"||typeof le!="number"?null:`${ee.toFixed(4)}, ${le.toFixed(4)}`},X=q=>{R&&N(q)},T=w?"Other checkpoints":"Select a checkpoint",B=Z(w==null?void 0:w.position),K=q=>{if(q==null)return null;const ee=(q%360+360)%360;return I==="mils"?(ee*Math.PI/180*hy+6400)%6400:ee},Y=q=>{if(q==null)return"N/A";const ee=K(q);return ee==null?"N/A":I==="mils"?`${ee.toFixed(1)} mil`:`${ee.toFixed(0)}`},ne=()=>{D||M()},C=t!=null&&e!=null,U=C?k??0:null,A=e!=null?(360-e)%360:null,V=c||!p,se=V?"border border-rose-500 text-rose-200":"border border-slate-800 text-slate-100",me=V?"border-rose-500 bg-slate-800":"border-sky-500 bg-slate-950";return h.jsxs("div",{className:`flex flex-col items-center gap-4 rounded-2xl bg-slate-900 p-5 text-center shadow-lg shadow-slate-950 ${se}`,children:[te&&te.length>1&&v&&h.jsxs("div",{className:"w-full max-w-xs",children:[h.jsx("label",{className:"mb-1 block text-left text-xs font-medium text-slate-400",children:"Target Route"}),h.jsx("select",{value:y,onChange:q=>v(q.target.value),className:"w-full rounded-lg border border-slate-700 bg-slate-800 px-3 py-2 text-sm text-slate-200 focus:border-sky-500 focus:outline-none",children:te.map(q=>h.jsx("option",{value:q.id,children:q.name},q.id))})]}),h.jsxs("div",{className:"flex w-full flex-wrap items-center justify-center gap-2",children:[h.jsx("h2",{className:"text-base font-semibold text-sky-200",children:"Compass"}),h.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[h.jsx("button",{type:"button",className:"rounded-full border border-emerald-500 px-3 py-1 text-[11px] font-semibold text-emerald-200 hover:bg-emerald-700 hover:text-emerald-100 disabled:cursor-not-allowed disabled:opacity-60",onClick:O,disabled:$,children:G}),h.jsx("button",{type:"button",className:"rounded-full border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-700 hover:text-sky-100 disabled:cursor-not-allowed disabled:opacity-60",onClick:H,disabled:z,children:"Enable Compass"}),h.jsx("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-[11px] font-semibold text-slate-200 hover:border-sky-500 hover:text-sky-200 disabled:cursor-not-allowed disabled:opacity-60",onClick:ne,disabled:D,children:I==="degrees"?"Show mils":"Show degrees"})]})]}),h.jsxs("div",{className:`relative flex h-44 w-44 items-center justify-center rounded-full shadow-inner shadow-slate-950/40 ${me}`,children:[h.jsx("div",{className:"absolute inset-3 rounded-full border border-slate-800","aria-hidden":"true"}),h.jsx("div",{className:"absolute inset-0","aria-hidden":"true",children:h.jsx("div",{className:"absolute left-1/2 top-0 h-1/2 w-[3px] -translate-x-1/2 rounded-full bg-slate-200 opacity-40"})}),A!=null&&h.jsxs("div",{className:"absolute inset-0",style:{transform:`rotate(${A}deg)`},"aria-hidden":"true",children:[[0,30,60,90,120,150,180,210,240,270,300,330].map(q=>{const ee=q%90===0;return h.jsx("div",{className:"absolute inset-0",style:{transform:`rotate(${q}deg)`},children:h.jsx("div",{className:`absolute left-1/2 top-3 -translate-x-1/2 rounded-full bg-slate-600 ${ee?"h-3 w-[2px]":"h-1.5 w-[1px]"}`})},q)}),h.jsx("span",{className:"absolute left-1/2 top-2 -translate-x-1/2 rounded-full border border-slate-600 bg-slate-950 px-2 py-[2px] text-[10px] font-semibold uppercase tracking-[0.25em] text-sky-200 shadow-sm shadow-slate-950/40",children:"N"})]}),C&&U!=null&&h.jsx("div",{className:"absolute inset-0",style:{transform:`rotate(${U}deg)`},"aria-hidden":"true",children:h.jsx("div",{className:"absolute left-1/2 top-1 flex h-10 w-10 -translate-x-1/2 items-start justify-center drop-shadow-[0_0_8px_rgba(249,115,22,0.6)]",children:h.jsxs("svg",{viewBox:"0 0 24 24",className:"h-8 w-8 text-orange-500",children:[h.jsx("path",{d:"M12 2L15 10H9L12 2Z",fill:"currentColor",stroke:"#c2410c",strokeWidth:"1.5",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 22L9 14H15L12 22Z",fill:"currentColor",opacity:"0.5"})]})})}),V&&h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center rounded-full bg-slate-950 text-center",style:{backgroundColor:"rgba(2, 6, 23, 0.85)"},children:[h.jsx("p",{className:"text-lg font-bold uppercase tracking-wide text-rose-200",children:"Compass not enabled"}),c&&h.jsx("p",{className:"mt-1 text-xs text-rose-200/80",children:"Tap Enable Compass to allow motion access."}),!c&&!p&&h.jsx("p",{className:"mt-1 text-xs text-rose-200/80",children:"This device does not expose compass sensors."})]}),h.jsx("span",{className:"absolute bottom-4 text-xs text-slate-300",children:e!=null?Y(e):""})]}),h.jsxs("div",{className:"space-y-1 text-xs text-slate-300",children:[h.jsxs("p",{children:["Target bearing: ",Y(t)]}),h.jsxs("p",{children:["Distance: ",Zf(i)]}),(b||f&&!g)&&h.jsx("p",{className:"text-[11px] text-slate-400",children:"Awaiting GPS fix keep the device in the open."}),c&&p&&h.jsx("p",{className:"text-[11px] text-slate-400",children:"Tap Enable Compass to grant motion and orientation access."}),!p&&h.jsx("p",{className:"text-amber-400",children:"Compass not supported on this device."}),o&&h.jsxs("p",{className:"text-rose-400",children:["Error: ",o]})]}),h.jsxs("div",{className:"w-full rounded-xl border border-slate-800 bg-slate-950 p-3 text-left",children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Active checkpoint"}),w?h.jsxs("div",{className:"mt-2",children:[h.jsx("p",{className:"text-sm font-semibold text-slate-100",children:w.label}),B&&h.jsx("p",{className:"text-[11px] text-slate-400",children:B})]}):h.jsx("p",{className:"mt-2 text-[11px] text-slate-400",children:x.length>0?"Pick a checkpoint below to set the compass target.":"Add checkpoints from the Route tools to set the compass target."})]}),x.length>0&&h.jsxs("div",{className:"w-full rounded-xl border border-slate-800 bg-slate-950 p-3 text-left",children:[h.jsx("p",{className:"mb-2 text-xs font-semibold uppercase tracking-wide text-sky-300",children:T}),h.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:x.map(q=>h.jsxs("div",{role:R?"button":void 0,tabIndex:R?0:void 0,className:`flex items-center justify-between gap-3 rounded-md border px-3 py-2 text-xs text-slate-200 transition ${R?"cursor-pointer border-slate-700 bg-slate-900 hover:border-sky-500 hover:bg-sky-900 focus:outline-none focus:ring-2 focus:ring-sky-500/60":"border-slate-800 bg-slate-900"}`,onClick:R?()=>X(q.id):void 0,onKeyDown:R?ee=>{(ee.key==="Enter"||ee.key===" ")&&(ee.preventDefault(),X(q.id))}:void 0,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full border border-slate-700 bg-slate-950",children:h.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 text-sky-300",style:{transform:`rotate(${q.relativeBearing??0}deg)`,transformOrigin:"50% 50%"},children:h.jsx("path",{d:"M12 3l4.5 9H13l3 9-4-7-4 7 3-9H7.5z",fill:"currentColor"})})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-100",children:q.label}),h.jsx("p",{className:"text-[11px] text-slate-400",children:q.bearing!=null?Y(q.bearing):""})]})]}),h.jsx("span",{className:"text-[11px] text-slate-400",children:Zf(q.distance)})]},q.id))})]})]})},Ff="rounded border border-slate-700 px-2 py-1 text-[11px] font-medium text-slate-200 transition hover:border-sky-500 hover:bg-slate-800",Hf="border-sky-500 bg-sky-900 text-sky-100",my=({route:e,isActive:t,onActivate:i,checkpointMap:o,onUpdateRoute:a,onRemoveRoute:l,canRemove:c,selectedId:p,onSelectCheckpoint:f,onMoveCheckpoint:g,onRemoveCheckpoint:b,onAddCheckpoint:x,placementMode:w,onSetPlacementMode:N})=>{const[I,M]=S.useState(!1),te=S.useMemo(()=>e.items.map((D,z)=>{const R=o[D];return R?{type:"checkpoint",id:R.id,label:`Point ${z+1}`,position:R.position,index:z,callout:wm(R.position)}:null}).filter(Boolean),[e.items,o]),y=D=>z=>{z.dataTransfer.setData("application/x-cadet-map-checkpoint-id",D.id),z.dataTransfer.effectAllowed="move";const R=z.target.closest("li");R&&z.dataTransfer.setDragImage(R,10,10)},v=D=>{D.preventDefault(),D.dataTransfer.dropEffect="move"},k=D=>{D.preventDefault(),D.dataTransfer.dropEffect="move"},O=D=>z=>{z.preventDefault();const R=z.dataTransfer.getData("application/x-cadet-map-checkpoint-id");!R||R===D.id||g(R,D.index)},H=(w==null?void 0:w.type)??null,G=typeof(w==null?void 0:w.insertIndex)=="number"?w.insertIndex:null,$=D=>{D.index,D.index,te.length-1;const z=t&&H==="checkpoint"&&G===D.index,R=t&&H==="checkpoint"&&G===D.index+1;return h.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[h.jsx("button",{type:"button",className:`${Ff} ${z?Hf:""}`,onClick:Z=>{Z.stopPropagation(),N({type:"checkpoint",insertIndex:D.index})},children:"Insert Before"}),h.jsx("button",{type:"button",className:`${Ff} ${R?Hf:""}`,onClick:Z=>{Z.stopPropagation(),N({type:"checkpoint",insertIndex:D.index+1})},children:"Insert After"}),h.jsx("button",{type:"button",className:"rounded border border-rose-500 px-2 py-1 text-[11px] font-medium text-rose-300 transition hover:bg-rose-900 hover:text-rose-100",onClick:Z=>{Z.stopPropagation(),b(D.id)},children:"Remove"})]})};return h.jsxs("div",{className:`border-b border-slate-700/50 ${t?"bg-slate-800/30":""}`,children:[h.jsxs("div",{className:"flex cursor-pointer items-center gap-3 p-4 hover:bg-slate-800/50",onClick:i,children:[h.jsx("div",{className:`transition-transform duration-200 ${t?"rotate-90":""}`,children:h.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),h.jsx("input",{type:"color",value:e.color,onClick:D=>D.stopPropagation(),onChange:D=>a(e.id,{color:D.target.value}),className:"h-5 w-5 cursor-pointer rounded border-0 bg-transparent p-0",title:"Route color"}),h.jsx("div",{className:"flex-1",children:h.jsx("input",{type:"text",value:e.name,onClick:D=>D.stopPropagation(),onChange:D=>a(e.id,{name:D.target.value}),className:"w-full bg-transparent text-sm font-medium text-slate-200 placeholder-slate-500 focus:outline-none",placeholder:"Route Name"})}),c&&h.jsx("button",{onClick:D=>{D.stopPropagation(),l(e.id)},className:"rounded p-1 text-slate-400 hover:bg-red-500/10 hover:text-red-400",title:"Delete route",children:h.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),t&&h.jsxs("div",{className:"px-4 pb-4",children:[h.jsxs("ul",{className:"space-y-2 text-sm text-slate-200",children:[te.length===0&&h.jsx("li",{className:"text-xs text-slate-500",children:"No markers yet. Add one below."}),te.map(D=>h.jsxs("li",{onDragEnter:v,onDragOver:k,onDrop:O(D),className:`flex items-start gap-2 rounded-md border px-3 py-2 transition ${p===D.id?"border-sky-500 bg-sky-900 text-sky-100":"cursor-pointer border-slate-800 hover:border-slate-600 hover:bg-slate-800"}`,onClick:()=>f(D.id),children:[h.jsx("div",{draggable:"true",onDragStart:y(D),className:"drag-handle mt-1 flex h-8 w-8 shrink-0 cursor-grab items-center justify-center rounded border border-slate-700 bg-slate-800 text-slate-400 touch-none hover:bg-slate-700 hover:text-slate-200 active:cursor-grabbing",onClick:z=>z.stopPropagation(),children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:h.jsx("path",{fillRule:"evenodd",d:"M10 3a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM10 8.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM11.5 15.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z",clipRule:"evenodd"})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-semibold",children:D.label}),h.jsxs("div",{className:"text-xs text-slate-400",children:[D.position.lat.toFixed(4),", ",D.position.lng.toFixed(4)]}),D.callout&&h.jsxs("div",{className:"text-[11px] font-mono uppercase text-amber-300",children:["Callout: ",D.callout]}),$(D)]})]},D.id))]}),h.jsx("button",{onClick:x,style:H==="checkpoint"&&!G?{borderColor:e.color,color:e.color,backgroundColor:`${e.color}20`}:{},className:`mt-3 w-full rounded border border-dashed border-slate-600 py-2 text-xs font-medium text-slate-400 transition hover:bg-slate-800 ${H==="checkpoint"&&!G?"":"hover:border-sky-500 hover:text-sky-400"}`,children:"+ Add Checkpoint"})]})]})},gy=({onEnterPlacingMode:e})=>{const{checkpointMap:t,routes:i,activeRouteId:o,setActiveRoute:a,addRoute:l,removeRoute:c,updateRoute:p,selectedId:f,selectCheckpoint:g,connectVia:b,toggleConnectMode:x,clearAll:w,setPlacementMode:N,moveCheckpoint:I,removeCheckpoint:M,placementMode:te}=Cr(),[y,v]=S.useState(o),k=O=>{y===O?v(null):(v(O),a(O))};return h.jsxs("div",{className:"flex h-full flex-col bg-slate-900/95 backdrop-blur-md",children:[h.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.map(O=>h.jsx(my,{route:O,isActive:O.id===y,onActivate:()=>k(O.id),checkpointMap:t,onUpdateRoute:p,onRemoveRoute:c,canRemove:i.length>1,selectedId:f,onSelectCheckpoint:g,onMoveCheckpoint:I,onRemoveCheckpoint:M,onAddCheckpoint:()=>{a(O.id),N({type:"checkpoint"}),e&&e()},placementMode:te,onSetPlacementMode:N},O.id)),h.jsx("div",{className:"p-4",children:h.jsxs("button",{onClick:()=>l(),className:"flex w-full items-center justify-center gap-2 rounded-lg border border-slate-600 bg-slate-800 py-2 text-sm text-slate-200 hover:border-sky-500 hover:bg-slate-700",children:[h.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Route"]})})]}),h.jsxs("div",{className:"border-t border-slate-700/50 p-4",children:[h.jsx("div",{className:"flex gap-2",children:h.jsx("button",{onClick:x,className:`flex-1 rounded border border-slate-600 py-2 text-xs font-medium transition ${b==="route"?"border-sky-500 bg-sky-900/20 text-sky-400":"text-slate-400 hover:border-sky-500 hover:bg-slate-800 hover:text-sky-400"}`,children:b==="route"?"Routing: Road":"Routing: Direct"})}),h.jsx("button",{onClick:w,className:"mt-2 w-full rounded border border-red-900/30 py-2 text-xs font-medium text-red-400 transition hover:bg-red-900/20 hover:text-red-300",children:"Clear All"})]})]})},$f=e=>e===4?4:3,Uf={origin:null,originReference:null,precision:3},vy=_m(e=>({...Uf,setPrecision:t=>e(i=>{const o=$f(t);return{precision:o,originReference:i.originReference?{...i.originReference,precision:o}:null}}),setOrigin:t=>e({origin:t}),setOriginReference:t=>e(i=>({originReference:t?{...t,precision:$f(t.precision??i.precision)}:null})),resetGrid:()=>e(Uf)})),_y=()=>vy(e=>({origin:e.origin,originReference:e.originReference,precision:e.precision,setOrigin:e.setOrigin,setOriginReference:e.setOriginReference,setPrecision:e.setPrecision,resetGrid:e.resetGrid})),Oo=6371e3,Ds=e=>e*Math.PI/180,Vf=e=>e*180/Math.PI,yy=e=>(e+540)%360-180,zc=e=>{if(e===3||e===4)return e;throw new Error("Unsupported grid precision. Use 3 or 4 figure references.")},Ic=e=>zc(e)===3?100:10,Ss=(e,t)=>{if(e==null)return null;const i=String(e).trim();if(!i)return null;if(!/^\d+$/.test(i))throw new Error("Grid references must contain digits only.");if(i.length!==t)throw new Error(`Expected ${t} digits for this precision setting.`);return parseInt(i,10)},xy=({lat:e,lng:t},i,o)=>{const a=Ds(e),l=e+o/Oo*(180/Math.PI),c=t+i/(Oo*Math.cos(a))*180/Math.PI;return{lat:l,lng:c}},wy=({origin:e,bearingDegrees:t,distanceMeters:i})=>{if(!e)throw new Error("Provide a valid origin location first.");if(t==null||Number.isNaN(t))throw new Error("Bearing must be a number.");if(i==null||Number.isNaN(i)||i<0)throw new Error("Distance must be a non-negative number.");const o=i/Oo,a=Ds(t),l=Ds(e.lat),c=Ds(e.lng),p=Math.sin(l),f=Math.cos(l),g=Math.sin(o),b=Math.cos(o),x=Math.asin(p*b+f*g*Math.cos(a)),w=c+Math.atan2(Math.sin(a)*g*f,b-p*Math.sin(x));return{lat:Vf(x),lng:yy(Vf(w))}},ky=({origin:e,originReference:t,targetReference:i,precision:o})=>{if(!e)throw new Error("Set a grid origin location first.");if(!t)throw new Error("Set a grid origin reference first.");const a=zc(o??t.precision??(i==null?void 0:i.precision)??3),l=Ss(t.easting,a),c=Ss(t.northing,a),p=Ss(i.easting,a),f=Ss(i.northing,a),g=Ic(a),b=(p-l)*g,x=(f-c)*g;return xy(e,b,x)},by=({origin:e,originReference:t,point:i,precision:o})=>{if(!e||!t)throw new Error("Grid origin must be configured.");const a=zc(o??t.precision??3),l=Ic(a),c=e.lat*Math.PI/180,p=(i.lat-e.lat)*Math.PI*Oo/180,f=(i.lng-e.lng)*Math.PI*Oo*Math.cos(c)/180,g=Math.round(t.easting+f/l),b=Math.round(t.northing+p/l),x=w=>w.toString().padStart(a,"0");return{easting:x(g),northing:x(b),precision:a}},Cs=e=>e!=null?e.toFixed(6):"",Sy=e=>e==null||Number.isNaN(e)?"":e>=1e3?`${(e/1e3).toFixed(2)} km`:e>=10?`${e.toFixed(0)} m`:`${e.toFixed(1)} m`,Al=({show:e,onToggle:t})=>h.jsx("button",{type:"button",onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-full border text-[10px] font-bold transition ${e?"border-sky-500 bg-sky-500 text-slate-900":"border-slate-600 text-slate-400 hover:border-sky-500 hover:text-sky-200"}`,"aria-label":"Toggle help",children:"?"}),Cy=({userLocation:e,selectedPosition:t,onPreviewLocationChange:i})=>{const{origin:o,originReference:a,precision:l,setOrigin:c,setOriginReference:p,setPrecision:f,resetGrid:g}=_y(),{setStart:b,setEnd:x,addCheckpoint:w}=Cr(),[N,I]=S.useState(""),[M,te]=S.useState(""),[y,v]=S.useState(""),[k,O]=S.useState(""),[H,G]=S.useState(null),[$,D]=S.useState(null),[z,R]=S.useState(null),[Z,X]=S.useState("user"),[T,B]=S.useState(""),[K,Y]=S.useState("degrees"),[ne,C]=S.useState(""),[U,A]=S.useState(null),[V,se]=S.useState(null),[me,q]=S.useState("origin"),[ee,le]=S.useState(!1);S.useEffect(()=>{var he,Le;a&&(I(((he=a.easting)==null?void 0:he.toString().padStart(l,"0"))??""),te(((Le=a.northing)==null?void 0:Le.toString().padStart(l,"0"))??""))},[a,l]);const fe=S.useMemo(()=>{if(!o||!a)return null;try{const he=by({origin:o,originReference:a,point:o,precision:l});return`${he.easting} / ${he.northing}`}catch(he){return console.warn(he),null}},[o,a,l]),pe=S.useMemo(()=>{if(!T)return null;const he=Number(T);return Number.isNaN(he)?null:K==="mils"?he*360/6400:he},[T,K]),Mt=S.useMemo(()=>pe==null?null:pe*6400/360,[pe]),pt=(V==null?void 0:V.bearingDegrees)??null,jt=pt!=null?pt*6400/360:null,Ge=()=>{let he=e;if(!he)if(t)he=t;else{R("Waiting for GPS location (or select a point on the map).");return}const Le=N.trim(),ke=M.trim();if(!Le||!ke){R("Enter grid reference digits.");return}if(Le.length!==ke.length){R("Easting and Northing must have same number of digits.");return}let it=3;if(Le.length===3)it=3;else if(Le.length===4)it=4;else{R("Grid ref must be 3 or 4 digits (e.g. 123 456).");return}try{const Fe=Number(Le),Ke=Number(ke);if(Number.isNaN(Fe)||Number.isNaN(Ke))throw new Error("Grid reference must be numbers.");c(he),p({easting:Fe,northing:Ke,precision:it}),f(it),R(null),G(`Grid calibrated to ${it}-figure reference.`)}catch(Fe){R(Fe.message)}},kt=()=>{if(Z==="user"){if(!e)throw new Error("No user location fix yet.");return e}if(Z==="selected"){if(!t)throw new Error("Select a marker on the map to use as the origin.");return t}throw new Error("Select a valid start point.")},dn=()=>{try{if(!T)throw new Error("Enter a bearing value.");if(!ne)throw new Error("Enter a distance in meters.");const he=kt(),Le=Number(T),ke=Number(ne);if(Number.isNaN(Le))throw new Error("Bearing must be a number.");if(Number.isNaN(ke)||ke<0)throw new Error("Distance must be zero or greater.");const Fe=((K==="mils"?Le*360/6400:Le)%360+360)%360,Ke=wy({origin:he,bearingDegrees:Fe,distanceMeters:ke});A(Ke),se({bearingDegrees:Fe,bearingInput:Le,bearingUnit:K,distanceMeters:ke,origin:he}),G("Projected point from bearing and distance."),R(null)}catch(he){A(null),se(null),R(he.message??"Unable to project bearing.")}},Ot=()=>{if(!y||!k){R("Enter both easting and northing for the grid reference.");return}try{const he=ky({origin:o,originReference:a,targetReference:{easting:y,northing:k,precision:l},precision:l});D(he),G("Grid reference resolved."),R(null)}catch(he){D(null),R(he.message)}},Oe=(he,Le=$,ke="grid reference")=>{if(!Le){R(`Resolve a ${ke} first.`);return}he==="start"?(b(Le),G(`Start updated from ${ke}.`)):he==="end"?(x(Le),G(`End updated from ${ke}.`)):(w(Le),G(`Checkpoint added from ${ke}.`)),R(null)},Ye=()=>{g(),I(""),te(""),v(""),O(""),D(null),X("user"),B(""),Y("degrees"),C(""),A(null),se(null),G("Grid settings cleared."),R(null)},qt=Ic(l);return S.useEffect(()=>{i&&i(me==="convert"&&$?{position:$,source:o}:me==="project"&&U?{position:U,source:(V==null?void 0:V.origin)??null}:null)},[me,$,U,V,o,i]),h.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl bg-slate-900 p-4 text-xs text-slate-200 shadow-lg shadow-slate-950",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("h2",{className:"text-base font-semibold text-sky-200",children:"Grid Tools"}),h.jsx("div",{className:"flex gap-1",children:h.jsxs("span",{className:"rounded-full border border-slate-700 px-2 py-1 text-[10px] font-semibold text-slate-400",children:[l,"-fig mode"]})})]}),h.jsxs("div",{className:"flex gap-1 rounded-lg border border-slate-800 bg-slate-950 p-1",children:[h.jsx("button",{type:"button",onClick:()=>q("origin"),className:`flex-1 rounded-md py-1.5 text-[11px] font-semibold transition ${me==="origin"?"bg-slate-800 text-sky-200 shadow-sm":"text-slate-400 hover:bg-slate-900 hover:text-slate-200"}`,children:"Origin"}),h.jsx("button",{type:"button",onClick:()=>q("convert"),className:`flex-1 rounded-md py-1.5 text-[11px] font-semibold transition ${me==="convert"?"bg-slate-800 text-sky-200 shadow-sm":"text-slate-400 hover:bg-slate-900 hover:text-slate-200"}`,children:"Convert"}),h.jsx("button",{type:"button",onClick:()=>q("project"),className:`flex-1 rounded-md py-1.5 text-[11px] font-semibold transition ${me==="project"?"bg-slate-800 text-sky-200 shadow-sm":"text-slate-400 hover:bg-slate-900 hover:text-slate-200"}`,children:"Project"})]}),me==="origin"&&h.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[h.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Calibrate Grid Origin"}),h.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:"Sync your current location to a grid reference."})]}),h.jsx(Al,{show:ee,onToggle:()=>le(!ee)})]}),ee&&h.jsxs("div",{className:"mb-4 rounded-lg bg-slate-900 p-2 text-[11px] text-slate-300",children:[h.jsx("p",{className:"mb-1 font-semibold text-sky-200",children:"How to calibrate:"}),h.jsx("p",{className:"text-slate-400",children:"Enter the Grid Reference for your current location (e.g. from a paper map) and tap 'Set Origin'. The app will link your GPS position to that grid reference."}),h.jsx("p",{className:"mt-2 text-slate-500 italic",children:"Note: If GPS is unavailable, select a point on the map first."})]}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Easting"}),h.jsx("input",{value:N,onChange:he=>I(he.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. 123"})]}),h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Northing"}),h.jsx("input",{value:M,onChange:he=>te(he.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. 456"})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",className:"flex-1 rounded-md border border-sky-500 bg-sky-500/10 px-3 py-2 font-semibold text-sky-200 hover:bg-sky-500/20",onClick:Ge,children:"Set Origin"}),h.jsx("button",{type:"button",className:"rounded-md border border-slate-700 px-3 py-2 font-semibold text-slate-300 hover:border-rose-500 hover:text-rose-200",onClick:Ye,children:"Clear"})]}),h.jsx("div",{className:"mt-1 text-center text-[11px]",children:fe?h.jsxs("span",{className:"text-emerald-400",children:["Active: ",fe," (",l,"-fig)"]}):h.jsx("span",{className:"text-slate-500",children:"Origin not set"})})]})]}),me==="convert"&&h.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[h.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Convert Grid Ref"}),h.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:"Enter a grid reference to find its location on the map relative to your origin."})]}),h.jsx(Al,{show:ee,onToggle:()=>le(!ee)})]}),ee&&h.jsxs("div",{className:"mb-4 rounded-lg bg-slate-900 p-2 text-[11px] text-slate-300",children:[h.jsx("p",{className:"mb-1 font-semibold text-sky-200",children:"How to convert:"}),h.jsx("p",{className:"text-slate-400",children:"Once you have calibrated the origin, you can enter any other grid reference here. The app will calculate the offset from the origin and show you exactly where that point is on the map."})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Easting"}),h.jsx("input",{value:y,onChange:he=>v(he.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. ".concat("2".repeat(l))})]}),h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Northing"}),h.jsx("input",{value:k,onChange:he=>O(he.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. ".concat("3".repeat(l))})]})]}),h.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[h.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:Ot,children:"Preview location"}),h.jsxs("span",{className:"text-[11px] text-slate-400",children:["1 digit = ",qt," m offset"]})]}),$&&h.jsxs("div",{className:"mt-3 rounded-md border border-slate-800 bg-slate-900 p-3 text-[11px] text-slate-200",children:[h.jsx("p",{className:"font-semibold text-sky-200",children:"Resolved coordinates"}),h.jsxs("p",{className:"mt-1 text-slate-300",children:["Lat ",Cs($.lat)," | Lng ",Cs($.lng)]}),h.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[h.jsx("button",{type:"button",className:"rounded-md border border-emerald-500 px-3 py-1 text-[11px] font-semibold text-emerald-200 hover:bg-emerald-900",onClick:()=>Oe("start",$,"grid reference"),children:"Set start"}),h.jsx("button",{type:"button",className:"rounded-md border border-orange-500 px-3 py-1 text-[11px] font-semibold text-orange-200 hover:bg-orange-900",onClick:()=>Oe("end",$,"grid reference"),children:"Set end"}),h.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:()=>Oe("checkpoint",$,"grid reference"),children:"Add checkpoint"})]})]})]}),me==="project"&&h.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[h.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Project by bearing"}),h.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:"Calculate a new point by moving a specific distance and bearing from a starting point."})]}),h.jsx(Al,{show:ee,onToggle:()=>le(!ee)})]}),ee&&h.jsxs("div",{className:"mb-4 rounded-lg bg-slate-900 p-2 text-[11px] text-slate-300",children:[h.jsx("p",{className:"mb-1 font-semibold text-sky-200",children:"How to project:"}),h.jsxs("ol",{className:"list-decimal space-y-1 pl-4 text-slate-400",children:[h.jsx("li",{children:"Choose a start point (your location or a selected marker)."}),h.jsx("li",{children:"Enter the bearing (direction) and distance to travel."}),h.jsx("li",{children:"Click 'Project location' to see the destination on the map."})]})]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Start Point"}),h.jsxs("div",{className:"mt-1 flex gap-2",children:[h.jsx("button",{type:"button",onClick:()=>X("user"),className:`flex-1 rounded-md border py-2 text-[11px] font-semibold transition ${Z==="user"?"border-sky-500 bg-sky-500/10 text-sky-200":"border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:"My Location"}),h.jsx("button",{type:"button",onClick:()=>X("selected"),className:`flex-1 rounded-md border py-2 text-[11px] font-semibold transition ${Z==="selected"?"border-sky-500 bg-sky-500/10 text-sky-200":"border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:"Selected Marker"})]}),!e&&Z==="user"&&h.jsx("p",{className:"mt-1 text-[10px] text-rose-400",children:"Waiting for GPS fix..."}),!t&&Z==="selected"&&h.jsx("p",{className:"mt-1 text-[10px] text-rose-400",children:"No marker selected on map."})]}),h.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Bearing"}),h.jsx("input",{value:T,onChange:he=>B(he.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:K==="degrees"?"0  360":"0  6400 mil"})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Units"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",className:`flex-1 rounded-md px-2 py-1 text-[11px] font-semibold ${K==="degrees"?"border border-sky-500 text-sky-200":"border border-slate-700 text-slate-200 hover:border-sky-500 hover:text-sky-200"}`,onClick:()=>Y("degrees"),children:"Degrees"}),h.jsx("button",{type:"button",className:`flex-1 rounded-md px-2 py-1 text-[11px] font-semibold ${K==="mils"?"border border-sky-500 text-sky-200":"border border-slate-700 text-slate-200 hover:border-sky-500 hover:text-sky-200"}`,onClick:()=>Y("mils"),children:"Mils"})]})]})]}),h.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[h.jsxs("label",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Distance (m)"}),h.jsx("input",{value:ne,onChange:he=>C(he.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. 250"})]}),h.jsx("div",{className:"flex flex-col justify-end text-[11px] text-slate-400",children:h.jsx("span",{children:pe!=null?` ${pe.toFixed(1)} / ${(Mt==null?void 0:Mt.toFixed(0))??""} mil`:"Enter a bearing to preview conversions."})})]}),h.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[h.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:dn,children:"Project location"}),h.jsx("span",{className:"text-[11px] text-slate-400",children:"Distance measured in straight line"})]}),U&&h.jsxs("div",{className:"mt-3 rounded-md border border-slate-800 bg-slate-900 p-3 text-[11px] text-slate-200",children:[h.jsx("p",{className:"font-semibold text-sky-200",children:"Projected coordinates"}),h.jsxs("p",{className:"mt-1 text-slate-300",children:["Lat ",Cs(U.lat)," | Lng ",Cs(U.lng)]}),h.jsxs("p",{className:"text-slate-400",children:["Bearing used:"," ",pt!=null?`${pt.toFixed(1)}${jt!=null?` (${jt.toFixed(0)} mil)`:""}`:""]}),(V==null?void 0:V.distanceMeters)!=null&&h.jsxs("p",{className:"text-slate-400",children:["Distance: ",Sy(V.distanceMeters)]}),h.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[h.jsx("button",{type:"button",className:"rounded-md border border-emerald-500 px-3 py-1 text-[11px] font-semibold text-emerald-200 hover:bg-emerald-900",onClick:()=>Oe("start",U,"bearing projection"),children:"Set start"}),h.jsx("button",{type:"button",className:"rounded-md border border-orange-500 px-3 py-1 text-[11px] font-semibold text-orange-200 hover:bg-orange-900",onClick:()=>Oe("end",U,"bearing projection"),children:"Set end"}),h.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:()=>Oe("checkpoint",U,"bearing projection"),children:"Add checkpoint"})]})]})]}),(z||H)&&h.jsxs("div",{className:"rounded-md border border-slate-800 bg-slate-950 p-3 text-[11px]",children:[z&&h.jsx("p",{className:"text-rose-400",children:z}),H&&h.jsx("p",{className:"text-emerald-300",children:H})]}),h.jsx("button",{type:"button",className:"rounded-md border border-slate-700 px-3 py-1 text-[11px] font-semibold text-slate-300 hover:border-rose-500 hover:text-rose-200",onClick:Ye,children:"Clear grid settings"})]})},Py=({type:e,color:t})=>{const i=S.useRef(null),o=c=>{c.dataTransfer.setData("application/x-cadet-map-item",e),c.dataTransfer.effectAllowed="copy",i.current&&c.dataTransfer.setDragImage(i.current,10,20)},a={borderColor:t,backgroundColor:`${t}33`},l={backgroundColor:t};return h.jsxs(h.Fragment,{children:[h.jsx("div",{draggable:!0,onDragStart:o,className:"flex h-16 w-16 cursor-grab items-center justify-center rounded-full border-2 shadow-lg backdrop-blur-sm transition hover:scale-110 active:cursor-grabbing active:scale-95 touch-none",style:a,children:h.jsx("div",{className:"h-4 w-4 rounded-full",style:l})}),h.jsx("div",{ref:i,className:"absolute -top-[1000px] left-0 h-5 w-5 rounded-full border-2",style:a})]})},Ey=()=>{const{routes:e,activeRouteId:t}=Cr(),i=e.find(a=>a.id===t)||e[0],o=(i==null?void 0:i.color)||"#38bdf8";return h.jsx("div",{className:"pointer-events-auto flex gap-6 p-4",children:h.jsx(Py,{type:"checkpoint",color:o})})},Ly=()=>{const{checkpoints:e,checkpointMap:t,routes:i,activeRouteId:o,selectedId:a,selectCheckpoint:l,addCheckpoint:c}=Cr(),[p,f]=S.useState(null);S.useEffect(()=>{!p&&o&&f(o)},[o,p]);const g=S.useMemo(()=>{const oe=p||o,J=i.find(rt=>rt.id===oe);return J?J.items.map((rt,zt)=>{const bt=t[rt];return bt?{id:bt.id,label:`Point ${zt+1}`,position:bt.position}:null}).filter(Boolean):[]},[p,o,i,t]),b=S.useMemo(()=>g.find(oe=>oe.id===a)??null,[g,a]),x=(b==null?void 0:b.position)??null,{heading:w,bearing:N,distance:I,geolocation:M,error:te,needsPermission:y,isSupported:v,locationEnabled:k,hasLocationFix:O,isRequestingLocation:H,requestPermission:G,startGeolocation:$}=fy(x),D=S.useMemo(()=>g.filter(oe=>oe.id!==a).map(oe=>{if(!M)return{...oe,bearing:null,distance:null,relativeBearing:null};const J=km(M,oe.position),rt=Sm(w,J);return{...oe,bearing:J,distance:bm(M,oe.position),relativeBearing:rt??J}}),[M,g,a,w]),[z,R]=S.useState(null),[Z,X]=S.useState(!1),[T,B]=S.useState(!1),[K,Y]=S.useState(0),[ne,C]=S.useState("degrees"),[U,A]=S.useState("topo"),[V,se]=S.useState("light"),[me,q]=S.useState(.58),[ee,le]=S.useState(null),[fe,pe]=S.useState(!1),Mt=S.useRef(null),pt=S.useRef(!1),jt=S.useRef(null),[Ge,kt]=S.useState(!1),dn=.32,Ot=.85,Oe=S.useCallback(oe=>Math.min(Math.max(oe,dn),Ot),[Ot,dn]),Ye=S.useCallback(()=>{const oe=$();return oe&&Y(J=>J+1),oe},[$]),qt=S.useCallback(()=>{C(oe=>oe==="degrees"?"mils":"degrees")},[]),he=S.useCallback(()=>{X(oe=>{const J=!oe;return J&&(R(null),B(!1)),J})},[]),Le=S.useCallback(()=>{B(oe=>{const J=!oe;return J&&(R(null),X(!1)),J})},[]),ke=S.useCallback(oe=>{R(J=>J===oe?null:oe),X(!1),B(!1),q(J=>Oe(J))},[Oe]),it=S.useCallback(()=>{ke("compass")},[ke]),Fe=S.useCallback(()=>{ke("checkpoints")},[ke]),Ke=S.useCallback(oe=>{const J=Mt.current;if(!J)return;const{startY:rt,startHeight:zt}=J;if(window.innerHeight===0)return;const bt=(rt-oe.clientY)/window.innerHeight,Ae=Math.abs(rt-oe.clientY);!J.moved&&Ae>6&&(J.moved=!0),q(Oe(zt+bt))},[Oe]),Jt=S.useCallback(()=>{var J,rt;const oe=Mt.current;oe!=null&&oe.target&&oe.pointerId!=null&&((rt=(J=oe.target).releasePointerCapture)==null||rt.call(J,oe.pointerId)),Mt.current=null,window.removeEventListener("pointermove",Ke),window.removeEventListener("pointerup",Jt),oe&&!oe.moved&&oe.overlayId&&R(zt=>zt===oe.overlayId?null:zt)},[Ke,R]),en=S.useCallback(oe=>{var bt,Ae;if(window.innerHeight===0)return;oe.preventDefault();const J=oe.pointerId,rt=oe.clientY,zt=oe.currentTarget.dataset.overlayId??null;Mt.current={startY:rt,startHeight:me,pointerId:J,target:oe.currentTarget,overlayId:zt,moved:!1},(Ae=(bt=oe.currentTarget).setPointerCapture)==null||Ae.call(bt,J),window.addEventListener("pointermove",Ke,{passive:!0}),window.addEventListener("pointerup",Jt,{passive:!0})},[me,Ke,Jt]);S.useEffect(()=>()=>{window.removeEventListener("pointermove",Ke),window.removeEventListener("pointerup",Jt)},[Ke,Jt]);const qe=S.useMemo(()=>({"--overlay-height":`${(Oe(me)*100).toFixed(2)}vh`,"--overlay-max-height":`${(Ot*100).toFixed(2)}vh`}),[Ot,Oe,me]);S.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;window.matchMedia("(prefers-color-scheme: dark)").matches&&(A(J=>J==="street"?"dark":J),se("dark"))},[]),S.useEffect(()=>{Ye()},[Ye]),S.useEffect(()=>{jt.current=M},[M]),S.useEffect(()=>{if(!pt.current){pt.current=!0;return}k?Ye():jt.current&&Y(oe=>oe+1)},[U,k,Ye]);const He=S.useCallback(()=>{se(oe=>oe==="light"?"dark":"light")},[]),mt=S.useCallback((oe,J)=>{c(J)},[c]);return S.useEffect(()=>{le(null)},[e]),h.jsxs("div",{className:"relative viewport-safe bg-slate-950 text-slate-100",children:[h.jsx(cy,{userLocation:M,userHeading:w,targets:D,onEnableLocation:Ye,locationEnabled:k,hasLocationFix:O,isRequestingLocation:H,locationRequestToken:K,baseLayer:U,onBaseLayerChange:A,onToggleMenu:he,onOpenCompass:it,onOpenRoute:Fe,toolbarTheme:V,onToolbarThemeToggle:He,isMenuOpen:Z,isSettingsOpen:T,onToggleSettings:Le,previewLocation:ee,onDropItem:mt,hideToolbar:Ge}),!Ge&&z==="compass"&&h.jsxs("div",{className:"pointer-events-auto overlay-sheet fixed inset-x-0 bottom-0 z-[1300] mx-auto w-full max-w-md overflow-y-auto overscroll-contain rounded-t-3xl border border-slate-800 bg-slate-900 p-3 shadow-2xl shadow-slate-950/80 md:bottom-6 md:left-auto md:right-6 md:max-w-sm md:rounded-2xl",style:qe,children:[h.jsx("div",{className:"mb-3 flex justify-center",children:h.jsx("button",{type:"button","data-overlay-id":"compass",className:"group flex h-12 w-full max-w-[220px] cursor-row-resize items-center justify-center rounded-full bg-slate-900 shadow-inner shadow-slate-950/40 ring-1 ring-slate-700/60 transition hover:ring-slate-500/80 active:bg-slate-800 touch-none","aria-label":"Drag to resize or tap to close panel",onPointerDown:en,children:h.jsx("span",{className:"block h-2 w-16 rounded-full bg-slate-500 transition group-active:bg-slate-300"})})}),h.jsxs("div",{className:"mb-2 text-left text-[11px]",children:[h.jsx("p",{className:"font-semibold uppercase tracking-wide text-slate-500",children:"Compass"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Heading & bearings"})]}),h.jsx(py,{heading:w,bearing:N,distance:I,error:te,enableCompass:G,onEnableLocation:Ye,needsPermission:y,isSupported:v,locationEnabled:k,hasLocationFix:O,isRequestingLocation:H,targets:D,selectedTarget:b,onSelectTarget:l,bearingUnit:ne,onToggleBearingUnit:qt,routes:i,activeRouteId:p,onSelectRoute:f})]}),!Ge&&z==="checkpoints"&&h.jsxs("div",{className:"pointer-events-auto overlay-sheet fixed inset-x-0 bottom-0 z-[1300] mx-auto w-full max-w-md overflow-y-auto overscroll-contain rounded-t-3xl border border-slate-800 bg-slate-900 p-3 shadow-2xl shadow-slate-950/80 md:left-6 md:right-auto md:top-6 md:max-w-xs md:rounded-2xl md:rounded-bl-none md:rounded-br-xl",style:qe,children:[h.jsx("div",{className:"mb-3 flex justify-center",children:h.jsx("button",{type:"button","data-overlay-id":"checkpoints",className:"group flex h-12 w-full max-w-[220px] cursor-row-resize items-center justify-center rounded-full bg-slate-900 shadow-inner shadow-slate-950/40 ring-1 ring-slate-700/60 transition hover:ring-slate-500/80 active:bg-slate-800 touch-none","aria-label":"Drag to resize or tap to close panel",onPointerDown:en,children:h.jsx("span",{className:"block h-2 w-16 rounded-full bg-slate-500 transition group-active:bg-slate-300"})})}),h.jsxs("div",{className:"mb-2 text-left text-[11px]",children:[h.jsx("p",{className:"font-semibold uppercase tracking-wide text-slate-500",children:"Route tools"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Manage checkpoints"})]}),h.jsx(gy,{onEnterPlacingMode:()=>kt(!0)})]}),!Ge&&z==="grid"&&h.jsxs("div",{className:"pointer-events-auto overlay-sheet fixed inset-x-0 bottom-0 z-[1300] mx-auto w-full max-w-md overflow-y-auto overscroll-contain rounded-t-3xl border border-slate-800 bg-slate-900 p-3 shadow-2xl shadow-slate-950/80 md:left-auto md:right-6 md:top-6 md:max-w-md md:rounded-2xl",style:qe,children:[h.jsx("div",{className:"mb-3 flex justify-center",children:h.jsx("button",{type:"button","data-overlay-id":"grid",className:"group flex h-12 w-full max-w-[220px] cursor-row-resize items-center justify-center rounded-full bg-slate-900 shadow-inner shadow-slate-950/40 ring-1 ring-slate-700/60 transition hover:ring-slate-500/80 active:bg-slate-800 touch-none","aria-label":"Drag to resize or tap to close panel",onPointerDown:en,children:h.jsx("span",{className:"block h-2 w-16 rounded-full bg-slate-500 transition group-active:bg-slate-300"})})}),h.jsxs("div",{className:"mb-2 text-left text-[11px]",children:[h.jsx("p",{className:"font-semibold uppercase tracking-wide text-slate-500",children:"Grid tools"}),h.jsx("p",{className:"text-xs text-slate-400",children:"References & bearings"})]}),h.jsx(Cy,{userLocation:M,selectedPosition:x,onPreviewLocationChange:le})]}),!Ge&&Z&&h.jsx("div",{className:"pointer-events-auto absolute inset-x-0 bottom-28 z-[1300] flex justify-center px-4 md:bottom-32",children:h.jsxs("div",{className:"w-full max-w-xs rounded-2xl border border-slate-800 bg-slate-950 p-3 text-[12px] text-slate-100 shadow-xl shadow-slate-950/80",children:[h.jsx("p",{className:"mb-2 text-[11px] font-semibold uppercase tracking-wide text-slate-400",children:"Navigate"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("button",{type:"button",className:`flex items-center justify-between rounded-lg border px-3 py-2 font-semibold transition ${z==="compass"?"border-sky-500 bg-sky-500 text-slate-950":"border-slate-700 bg-slate-900 hover:border-sky-500 hover:text-sky-100"}`,onClick:()=>ke("compass"),children:["Compass",h.jsx("span",{className:`text-[10px] ${z==="compass"?"text-slate-800":"text-slate-400"}`,children:"Heading"})]}),h.jsxs("button",{type:"button",className:`flex items-center justify-between rounded-lg border px-3 py-2 font-semibold transition ${z==="checkpoints"?"border-sky-500 bg-sky-500 text-slate-950":"border-slate-700 bg-slate-900 hover:border-sky-500 hover:text-sky-100"}`,onClick:()=>ke("checkpoints"),children:["Route",h.jsx("span",{className:`text-[10px] ${z==="checkpoints"?"text-slate-800":"text-slate-400"}`,children:"Checkpoints"})]}),h.jsxs("button",{type:"button",className:`flex items-center justify-between rounded-lg border px-3 py-2 font-semibold transition ${z==="grid"?"border-sky-500 bg-sky-500 text-slate-950":"border-slate-700 bg-slate-900 hover:border-sky-500 hover:text-sky-100"}`,onClick:()=>ke("grid"),children:["Grid",h.jsx("span",{className:`text-[10px] ${z==="grid"?"text-slate-800":"text-slate-400"}`,children:"Conversions"})]})]}),h.jsx("p",{className:"mt-3 text-[11px] text-slate-400",children:"Choose a tool to open its overlay. Tap Menu again to close this panel."})]})}),Ge&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"absolute inset-x-0 bottom-8 z-[1400] flex justify-center pointer-events-none",children:h.jsx(Ey,{})}),h.jsxs("div",{className:"absolute top-4 right-4 z-[1400] flex gap-3",children:[h.jsx("button",{type:"button",className:"flex h-10 w-10 items-center justify-center rounded-full border border-slate-600 bg-slate-900 text-slate-200 shadow-lg transition hover:bg-slate-800",title:"Help",onClick:()=>pe(!0),children:"?"}),h.jsx("button",{onClick:()=>kt(!1),className:"flex h-10 w-10 items-center justify-center rounded-full border border-red-500/50 bg-red-900/40 text-red-200 shadow-lg backdrop-blur-sm transition hover:bg-red-900/60",title:"Exit Placing Mode",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"h-6 w-6",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),fe&&h.jsx("div",{className:"fixed inset-0 z-[1500] flex items-center justify-center bg-slate-950/60 p-4 backdrop-blur-sm",children:h.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-slate-700 bg-slate-900 p-6 shadow-2xl",children:[h.jsx("h3",{className:"mb-2 text-lg font-bold text-slate-100",children:"How to Place Checkpoints"}),h.jsxs("ul",{className:"mb-6 list-disc space-y-2 pl-5 text-sm text-slate-300",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Drag & Drop:"})," Drag the colored icons from the bottom toolbar onto the map.",h.jsxs("ul",{className:"mt-1 list-none space-y-1 pl-2 text-xs text-slate-400",children:[h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"}),h.jsx("span",{children:"Green: Start Point"})]}),h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-500"}),h.jsx("span",{children:"Blue: Checkpoint"})]}),h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"h-2 w-2 rounded-full bg-red-500"}),h.jsx("span",{children:"Red: End Point"})]})]}),h.jsx("p",{className:"mt-1 text-xs italic text-slate-500",children:"Note: You can only have one Start and one End point."})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Grid Placement:"})," To place by grid reference, first use the ",h.jsx("strong",{children:"Grid Tools"})," menu to project a point. A magenta marker will appear. Then, drag a checkpoint onto that marker."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Move:"})," Drag any existing marker on the map to move it."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Exit:"})," Tap the red X button in the top right to return to the main view."]})]}),h.jsx("button",{onClick:()=>pe(!1),className:"w-full rounded-lg bg-sky-600 py-2.5 text-sm font-semibold text-white transition hover:bg-sky-500",children:"Got it"})]})})]})},Ty=()=>h.jsx(Ly,{});V_.polyfill({dragImageTranslateOverride:W_.scrollBehaviourDragImageTranslateOverride});window.addEventListener("touchmove",()=>{},{passive:!1});Dl.createRoot(document.getElementById("root")).render(h.jsx(po.StrictMode,{children:h.jsx(Ty,{})}));
