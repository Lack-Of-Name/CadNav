(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}})();var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xf={exports:{}},ga={},Qf={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=Symbol.for("react.element"),kg=Symbol.for("react.portal"),bg=Symbol.for("react.fragment"),Sg=Symbol.for("react.strict_mode"),Cg=Symbol.for("react.profiler"),Pg=Symbol.for("react.provider"),Eg=Symbol.for("react.context"),Lg=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),Ng=Symbol.for("react.memo"),Mg=Symbol.for("react.lazy"),Pd=Symbol.iterator;function jg(e){return e===null||typeof e!="object"?null:(e=Pd&&e[Pd]||e["@@iterator"],typeof e=="function"?e:null)}var qf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jf=Object.assign,eh={};function Lr(e,t,i){this.props=e,this.context=t,this.refs=eh,this.updater=i||qf}Lr.prototype.isReactComponent={};Lr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function th(){}th.prototype=Lr.prototype;function $u(e,t,i){this.props=e,this.context=t,this.refs=eh,this.updater=i||qf}var Hu=$u.prototype=new th;Hu.constructor=$u;Jf(Hu,Lr.prototype);Hu.isPureReactComponent=!0;var Ed=Array.isArray,nh=Object.prototype.hasOwnProperty,Uu={current:null},ih={key:!0,ref:!0,__self:!0,__source:!0};function rh(e,t,i){var o,s={},l=null,c=null;if(t!=null)for(o in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(l=""+t.key),t)nh.call(t,o)&&!ih.hasOwnProperty(o)&&(s[o]=t[o]);var p=arguments.length-2;if(p===1)s.children=i;else if(1<p){for(var h=Array(p),g=0;g<p;g++)h[g]=arguments[g+2];s.children=h}if(e&&e.defaultProps)for(o in p=e.defaultProps,p)s[o]===void 0&&(s[o]=p[o]);return{$$typeof:Ao,type:e,key:l,ref:c,props:s,_owner:Uu.current}}function Og(e,t){return{$$typeof:Ao,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ao}function Ig(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var Ld=/\/+/g;function cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ig(""+e.key):t.toString(36)}function js(e,t,i,o,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Ao:case kg:c=!0}}if(c)return c=e,s=s(c),e=o===""?"."+cl(c,0):o,Ed(s)?(i="",e!=null&&(i=e.replace(Ld,"$&/")+"/"),js(s,t,i,"",function(g){return g})):s!=null&&(Vu(s)&&(s=Og(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(Ld,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=o===""?".":o+":",Ed(e))for(var p=0;p<e.length;p++){l=e[p];var h=o+cl(l,p);c+=js(l,t,i,h,s)}else if(h=jg(e),typeof h=="function")for(e=h.call(e),p=0;!(l=e.next()).done;)l=l.value,h=o+cl(l,p++),c+=js(l,t,i,h,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function fs(e,t,i){if(e==null)return e;var o=[],s=0;return js(e,o,"","",function(l){return t.call(i,l,s++)}),o}function zg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},Os={transition:null},Rg={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Os,ReactCurrentOwner:Uu};function oh(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:fs,forEach:function(e,t,i){fs(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return fs(e,function(){t++}),t},toArray:function(e){return fs(e,function(t){return t})||[]},only:function(e){if(!Vu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Lr;ye.Fragment=bg;ye.Profiler=Cg;ye.PureComponent=$u;ye.StrictMode=Sg;ye.Suspense=Tg;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rg;ye.act=oh;ye.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Jf({},e.props),s=e.key,l=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,c=Uu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(h in t)nh.call(t,h)&&!ih.hasOwnProperty(h)&&(o[h]=t[h]===void 0&&p!==void 0?p[h]:t[h])}var h=arguments.length-2;if(h===1)o.children=i;else if(1<h){p=Array(h);for(var g=0;g<h;g++)p[g]=arguments[g+2];o.children=p}return{$$typeof:Ao,type:e.type,key:s,ref:l,props:o,_owner:c}};ye.createContext=function(e){return e={$$typeof:Eg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pg,_context:e},e.Consumer=e};ye.createElement=rh;ye.createFactory=function(e){var t=rh.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:Lg,render:e}};ye.isValidElement=Vu;ye.lazy=function(e){return{$$typeof:Mg,_payload:{_status:-1,_result:e},_init:zg}};ye.memo=function(e,t){return{$$typeof:Ng,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Os.transition;Os.transition={};try{e()}finally{Os.transition=t}};ye.unstable_act=oh;ye.useCallback=function(e,t){return pt.current.useCallback(e,t)};ye.useContext=function(e){return pt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return pt.current.useEffect(e,t)};ye.useId=function(){return pt.current.useId()};ye.useImperativeHandle=function(e,t,i){return pt.current.useImperativeHandle(e,t,i)};ye.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return pt.current.useMemo(e,t)};ye.useReducer=function(e,t,i){return pt.current.useReducer(e,t,i)};ye.useRef=function(e){return pt.current.useRef(e)};ye.useState=function(e){return pt.current.useState(e)};ye.useSyncExternalStore=function(e,t,i){return pt.current.useSyncExternalStore(e,t,i)};ye.useTransition=function(){return pt.current.useTransition()};ye.version="18.3.1";Qf.exports=ye;var S=Qf.exports;const vo=Fu(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag=S,Dg=Symbol.for("react.element"),Bg=Symbol.for("react.fragment"),Zg=Object.prototype.hasOwnProperty,Fg=Ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$g={key:!0,ref:!0,__self:!0,__source:!0};function sh(e,t,i){var o,s={},l=null,c=null;i!==void 0&&(l=""+i),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(o in t)Zg.call(t,o)&&!$g.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)s[o]===void 0&&(s[o]=t[o]);return{$$typeof:Dg,type:e,key:l,ref:c,props:s,_owner:Fg.current}}ga.Fragment=Bg;ga.jsx=sh;ga.jsxs=sh;Xf.exports=ga;var f=Xf.exports,Zl={},ah={exports:{}},It={},lh={exports:{}},uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,H){var A=P.length;P.push(H);e:for(;0<A;){var V=A-1>>>1,re=P[V];if(0<s(re,H))P[V]=H,P[A]=re,A=V;else break e}}function i(P){return P.length===0?null:P[0]}function o(P){if(P.length===0)return null;var H=P[0],A=P.pop();if(A!==H){P[0]=A;e:for(var V=0,re=P.length,me=re>>>1;V<me;){var q=2*(V+1)-1,te=P[q],oe=q+1,fe=P[oe];if(0>s(te,A))oe<re&&0>s(fe,te)?(P[V]=fe,P[oe]=A,V=oe):(P[V]=te,P[q]=A,V=q);else if(oe<re&&0>s(fe,A))P[V]=fe,P[oe]=A,V=oe;else break e}}return H}function s(P,H){var A=P.sortIndex-H.sortIndex;return A!==0?A:P.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,p=c.now();e.unstable_now=function(){return c.now()-p}}var h=[],g=[],k=1,y=null,w=3,E=!1,j=!1,M=!1,K=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var H=i(g);H!==null;){if(H.callback===null)o(g);else if(H.startTime<=P)o(g),H.sortIndex=H.expirationTime,t(h,H);else break;H=i(g)}}function O(P){if(M=!1,b(P),!j)if(i(h)!==null)j=!0,Y(F);else{var H=i(g);H!==null&&ee(O,H.startTime-P)}}function F(P,H){j=!1,M&&(M=!1,_(R),R=-1),E=!0;var A=w;try{for(b(H),y=i(h);y!==null&&(!(y.expirationTime>H)||P&&!Z());){var V=y.callback;if(typeof V=="function"){y.callback=null,w=y.priorityLevel;var re=V(y.expirationTime<=H);H=e.unstable_now(),typeof re=="function"?y.callback=re:y===i(h)&&o(h),b(H)}else o(h);y=i(h)}if(y!==null)var me=!0;else{var q=i(g);q!==null&&ee(O,q.startTime-H),me=!1}return me}finally{y=null,w=A,E=!1}}var G=!1,U=null,R=-1,z=5,D=-1;function Z(){return!(e.unstable_now()-D<z)}function Q(){if(U!==null){var P=e.unstable_now();D=P;var H=!0;try{H=U(!0,P)}finally{H?N():(G=!1,U=null)}}else G=!1}var N;if(typeof v=="function")N=function(){v(Q)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=Q,N=function(){X.postMessage(null)}}else N=function(){K(Q,0)};function Y(P){U=P,G||(G=!0,N())}function ee(P,H){R=K(function(){P(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){j||E||(j=!0,Y(F))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return i(h)},e.unstable_next=function(P){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var A=w;w=H;try{return P()}finally{w=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,H){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var A=w;w=P;try{return H()}finally{w=A}},e.unstable_scheduleCallback=function(P,H,A){var V=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?V+A:V):A=V,P){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=A+re,P={id:k++,callback:H,priorityLevel:P,startTime:A,expirationTime:re,sortIndex:-1},A>V?(P.sortIndex=A,t(g,P),i(h)===null&&P===i(g)&&(M?(_(R),R=-1):M=!0,ee(O,A-V))):(P.sortIndex=re,t(h,P),j||E||(j=!0,Y(F))),P},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(P){var H=w;return function(){var A=w;w=H;try{return P.apply(this,arguments)}finally{w=A}}}})(uh);lh.exports=uh;var Hg=lh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug=S,Ot=Hg;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ch=new Set,_o={};function Ii(e,t){xr(e,t),xr(e+"Capture",t)}function xr(e,t){for(_o[e]=t,e=0;e<t.length;e++)ch.add(t[e])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fl=Object.prototype.hasOwnProperty,Vg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Td={},Nd={};function Wg(e){return Fl.call(Nd,e)?!0:Fl.call(Td,e)?!1:Vg.test(e)?Nd[e]=!0:(Td[e]=!0,!1)}function Gg(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yg(e,t,i,o){if(t===null||typeof t>"u"||Gg(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,i,o,s,l,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=c}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wu=/[\-:]([a-z])/g;function Gu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wu,Gu);rt[t]=new mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wu,Gu);rt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wu,Gu);rt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yu(e,t,i,o){var s=rt.hasOwnProperty(t)?rt[t]:null;(s!==null?s.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yg(t,i,s,o)&&(i=null),o||s===null?Wg(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):s.mustUseProperty?e[s.propertyName]=i===null?s.type===3?!1:"":i:(t=s.attributeName,o=s.attributeNamespace,i===null?e.removeAttribute(t):(s=s.type,i=s===3||s===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var An=Ug.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hs=Symbol.for("react.element"),tr=Symbol.for("react.portal"),nr=Symbol.for("react.fragment"),Ku=Symbol.for("react.strict_mode"),$l=Symbol.for("react.profiler"),dh=Symbol.for("react.provider"),fh=Symbol.for("react.context"),Xu=Symbol.for("react.forward_ref"),Hl=Symbol.for("react.suspense"),Ul=Symbol.for("react.suspense_list"),Qu=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),hh=Symbol.for("react.offscreen"),Md=Symbol.iterator;function Vr(e){return e===null||typeof e!="object"?null:(e=Md&&e[Md]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,dl;function to(e){if(dl===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);dl=t&&t[1]||""}return`
`+dl+e}var fl=!1;function hl(e,t){if(!e||fl)return"";fl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var o=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){o=g}e.call(t.prototype)}else{try{throw Error()}catch(g){o=g}e()}}catch(g){if(g&&o&&typeof g.stack=="string"){for(var s=g.stack.split(`
`),l=o.stack.split(`
`),c=s.length-1,p=l.length-1;1<=c&&0<=p&&s[c]!==l[p];)p--;for(;1<=c&&0<=p;c--,p--)if(s[c]!==l[p]){if(c!==1||p!==1)do if(c--,p--,0>p||s[c]!==l[p]){var h=`
`+s[c].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=c&&0<=p);break}}}finally{fl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?to(e):""}function Kg(e){switch(e.tag){case 5:return to(e.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 2:case 15:return e=hl(e.type,!1),e;case 11:return e=hl(e.type.render,!1),e;case 1:return e=hl(e.type,!0),e;default:return""}}function Vl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nr:return"Fragment";case tr:return"Portal";case $l:return"Profiler";case Ku:return"StrictMode";case Hl:return"Suspense";case Ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fh:return(e.displayName||"Context")+".Consumer";case dh:return(e._context.displayName||"Context")+".Provider";case Xu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qu:return t=e.displayName||null,t!==null?t:Vl(e.type)||"Memo";case Un:t=e._payload,e=e._init;try{return Vl(e(t))}catch{}}return null}function Xg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vl(t);case 8:return t===Ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ph(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qg(e){var t=ph(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){o=""+c,l.call(this,c)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(c){o=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ps(e){e._valueTracker||(e._valueTracker=Qg(e))}function mh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=ph(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wl(e,t){var i=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function jd(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=ri(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gh(e,t){t=t.checked,t!=null&&Yu(e,"checked",t,!1)}function Gl(e,t){gh(e,t);var i=ri(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yl(e,t.type,i):t.hasOwnProperty("defaultValue")&&Yl(e,t.type,ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Od(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Yl(e,t,i){(t!=="number"||Vs(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var no=Array.isArray;function hr(e,t,i,o){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&o&&(e[i].defaultSelected=!0)}else{for(i=""+ri(i),t=null,s=0;s<e.length;s++){if(e[s].value===i){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Kl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Id(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(W(92));if(no(i)){if(1<i.length)throw Error(W(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ri(i)}}function vh(e,t){var i=ri(t.value),o=ri(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function zd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _h(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_h(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ms,yh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,s){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yo(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qg=["Webkit","ms","Moz","O"];Object.keys(oo).forEach(function(e){qg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oo[t]=oo[e]})});function xh(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||oo.hasOwnProperty(e)&&oo[e]?(""+t).trim():t+"px"}function wh(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,s=xh(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,s):e[i]=s}}var Jg=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ql(e,t){if(t){if(Jg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function ql(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jl=null;function qu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,pr=null,mr=null;function Rd(e){if(e=Zo(e)){if(typeof eu!="function")throw Error(W(280));var t=e.stateNode;t&&(t=wa(t),eu(e.stateNode,e.type,t))}}function kh(e){pr?mr?mr.push(e):mr=[e]:pr=e}function bh(){if(pr){var e=pr,t=mr;if(mr=pr=null,Rd(e),t)for(e=0;e<t.length;e++)Rd(t[e])}}function Sh(e,t){return e(t)}function Ch(){}var pl=!1;function Ph(e,t,i){if(pl)return e(t,i);pl=!0;try{return Sh(e,t,i)}finally{pl=!1,(pr!==null||mr!==null)&&(Ch(),bh())}}function xo(e,t){var i=e.stateNode;if(i===null)return null;var o=wa(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(W(231,t,typeof i));return i}var tu=!1;if(On)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){tu=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{tu=!1}function ev(e,t,i,o,s,l,c,p,h){var g=Array.prototype.slice.call(arguments,3);try{t.apply(i,g)}catch(k){this.onError(k)}}var so=!1,Ws=null,Gs=!1,nu=null,tv={onError:function(e){so=!0,Ws=e}};function nv(e,t,i,o,s,l,c,p,h){so=!1,Ws=null,ev.apply(tv,arguments)}function iv(e,t,i,o,s,l,c,p,h){if(nv.apply(this,arguments),so){if(so){var g=Ws;so=!1,Ws=null}else throw Error(W(198));Gs||(Gs=!0,nu=g)}}function zi(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Eh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ad(e){if(zi(e)!==e)throw Error(W(188))}function rv(e){var t=e.alternate;if(!t){if(t=zi(e),t===null)throw Error(W(188));return t!==e?null:e}for(var i=e,o=t;;){var s=i.return;if(s===null)break;var l=s.alternate;if(l===null){if(o=s.return,o!==null){i=o;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===i)return Ad(s),e;if(l===o)return Ad(s),t;l=l.sibling}throw Error(W(188))}if(i.return!==o.return)i=s,o=l;else{for(var c=!1,p=s.child;p;){if(p===i){c=!0,i=s,o=l;break}if(p===o){c=!0,o=s,i=l;break}p=p.sibling}if(!c){for(p=l.child;p;){if(p===i){c=!0,i=l,o=s;break}if(p===o){c=!0,o=l,i=s;break}p=p.sibling}if(!c)throw Error(W(189))}}if(i.alternate!==o)throw Error(W(190))}if(i.tag!==3)throw Error(W(188));return i.stateNode.current===i?e:t}function Lh(e){return e=rv(e),e!==null?Th(e):null}function Th(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Th(e);if(t!==null)return t;e=e.sibling}return null}var Nh=Ot.unstable_scheduleCallback,Dd=Ot.unstable_cancelCallback,ov=Ot.unstable_shouldYield,sv=Ot.unstable_requestPaint,He=Ot.unstable_now,av=Ot.unstable_getCurrentPriorityLevel,Ju=Ot.unstable_ImmediatePriority,Mh=Ot.unstable_UserBlockingPriority,Ys=Ot.unstable_NormalPriority,lv=Ot.unstable_LowPriority,jh=Ot.unstable_IdlePriority,va=null,wn=null;function uv(e){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(va,e,void 0,(e.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:fv,cv=Math.log,dv=Math.LN2;function fv(e){return e>>>=0,e===0?32:31-(cv(e)/dv|0)|0}var gs=64,vs=4194304;function io(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ks(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,s=e.suspendedLanes,l=e.pingedLanes,c=i&268435455;if(c!==0){var p=c&~s;p!==0?o=io(p):(l&=c,l!==0&&(o=io(l)))}else c=i&~s,c!==0?o=io(c):l!==0&&(o=io(l));if(o===0)return 0;if(t!==0&&t!==o&&!(t&s)&&(s=o&-o,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-an(t),s=1<<i,o|=e[i],t&=~s;return o}function hv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pv(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var c=31-an(l),p=1<<c,h=s[c];h===-1?(!(p&i)||p&o)&&(s[c]=hv(p,t)):h<=t&&(e.expiredLanes|=p),l&=~p}}function iu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oh(){var e=gs;return gs<<=1,!(gs&4194240)&&(gs=64),e}function ml(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Do(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-an(t),e[t]=i}function mv(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var s=31-an(i),l=1<<s;t[s]=0,o[s]=-1,e[s]=-1,i&=~l}}function ec(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-an(i),s=1<<o;s&t|e[o]&t&&(e[o]|=t),i&=~s}}var Ce=0;function Ih(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zh,tc,Rh,Ah,Dh,ru=!1,_s=[],Xn=null,Qn=null,qn=null,wo=new Map,ko=new Map,Wn=[],gv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bd(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":wo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(t.pointerId)}}function Gr(e,t,i,o,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Zo(t),t!==null&&tc(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function vv(e,t,i,o,s){switch(t){case"focusin":return Xn=Gr(Xn,e,t,i,o,s),!0;case"dragenter":return Qn=Gr(Qn,e,t,i,o,s),!0;case"mouseover":return qn=Gr(qn,e,t,i,o,s),!0;case"pointerover":var l=s.pointerId;return wo.set(l,Gr(wo.get(l)||null,e,t,i,o,s)),!0;case"gotpointercapture":return l=s.pointerId,ko.set(l,Gr(ko.get(l)||null,e,t,i,o,s)),!0}return!1}function Bh(e){var t=bi(e.target);if(t!==null){var i=zi(t);if(i!==null){if(t=i.tag,t===13){if(t=Eh(i),t!==null){e.blockedOn=t,Dh(e.priority,function(){Rh(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=ou(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Jl=o,i.target.dispatchEvent(o),Jl=null}else return t=Zo(i),t!==null&&tc(t),e.blockedOn=i,!1;t.shift()}return!0}function Zd(e,t,i){Is(e)&&i.delete(t)}function _v(){ru=!1,Xn!==null&&Is(Xn)&&(Xn=null),Qn!==null&&Is(Qn)&&(Qn=null),qn!==null&&Is(qn)&&(qn=null),wo.forEach(Zd),ko.forEach(Zd)}function Yr(e,t){e.blockedOn===t&&(e.blockedOn=null,ru||(ru=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,_v)))}function bo(e){function t(s){return Yr(s,e)}if(0<_s.length){Yr(_s[0],e);for(var i=1;i<_s.length;i++){var o=_s[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Xn!==null&&Yr(Xn,e),Qn!==null&&Yr(Qn,e),qn!==null&&Yr(qn,e),wo.forEach(t),ko.forEach(t),i=0;i<Wn.length;i++)o=Wn[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<Wn.length&&(i=Wn[0],i.blockedOn===null);)Bh(i),i.blockedOn===null&&Wn.shift()}var gr=An.ReactCurrentBatchConfig,Xs=!0;function yv(e,t,i,o){var s=Ce,l=gr.transition;gr.transition=null;try{Ce=1,nc(e,t,i,o)}finally{Ce=s,gr.transition=l}}function xv(e,t,i,o){var s=Ce,l=gr.transition;gr.transition=null;try{Ce=4,nc(e,t,i,o)}finally{Ce=s,gr.transition=l}}function nc(e,t,i,o){if(Xs){var s=ou(e,t,i,o);if(s===null)Cl(e,t,o,Qs,i),Bd(e,o);else if(vv(s,e,t,i,o))o.stopPropagation();else if(Bd(e,o),t&4&&-1<gv.indexOf(e)){for(;s!==null;){var l=Zo(s);if(l!==null&&zh(l),l=ou(e,t,i,o),l===null&&Cl(e,t,o,Qs,i),l===s)break;s=l}s!==null&&o.stopPropagation()}else Cl(e,t,o,null,i)}}var Qs=null;function ou(e,t,i,o){if(Qs=null,e=qu(o),e=bi(e),e!==null)if(t=zi(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Eh(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qs=e,null}function Zh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(av()){case Ju:return 1;case Mh:return 4;case Ys:case lv:return 16;case jh:return 536870912;default:return 16}default:return 16}}var Yn=null,ic=null,zs=null;function Fh(){if(zs)return zs;var e,t=ic,i=t.length,o,s="value"in Yn?Yn.value:Yn.textContent,l=s.length;for(e=0;e<i&&t[e]===s[e];e++);var c=i-e;for(o=1;o<=c&&t[i-o]===s[l-o];o++);return zs=s.slice(e,1<o?1-o:void 0)}function Rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ys(){return!0}function Fd(){return!1}function zt(e){function t(i,o,s,l,c){this._reactName=i,this._targetInst=s,this.type=o,this.nativeEvent=l,this.target=c,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(l):l[p]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ys:Fd,this.isPropagationStopped=Fd,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),t}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=zt(Tr),Bo=Be({},Tr,{view:0,detail:0}),wv=zt(Bo),gl,vl,Kr,_a=Be({},Bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kr&&(Kr&&e.type==="mousemove"?(gl=e.screenX-Kr.screenX,vl=e.screenY-Kr.screenY):vl=gl=0,Kr=e),gl)},movementY:function(e){return"movementY"in e?e.movementY:vl}}),$d=zt(_a),kv=Be({},_a,{dataTransfer:0}),bv=zt(kv),Sv=Be({},Bo,{relatedTarget:0}),_l=zt(Sv),Cv=Be({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Pv=zt(Cv),Ev=Be({},Tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lv=zt(Ev),Tv=Be({},Tr,{data:0}),Hd=zt(Tv),Nv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ov(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jv[e])?!!t[e]:!1}function oc(){return Ov}var Iv=Be({},Bo,{key:function(e){if(e.key){var t=Nv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zv=zt(Iv),Rv=Be({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ud=zt(Rv),Av=Be({},Bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),Dv=zt(Av),Bv=Be({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zv=zt(Bv),Fv=Be({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$v=zt(Fv),Hv=[9,13,27,32],sc=On&&"CompositionEvent"in window,ao=null;On&&"documentMode"in document&&(ao=document.documentMode);var Uv=On&&"TextEvent"in window&&!ao,$h=On&&(!sc||ao&&8<ao&&11>=ao),Vd=" ",Wd=!1;function Hh(e,t){switch(e){case"keyup":return Hv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function Vv(e,t){switch(e){case"compositionend":return Uh(t);case"keypress":return t.which!==32?null:(Wd=!0,Vd);case"textInput":return e=t.data,e===Vd&&Wd?null:e;default:return null}}function Wv(e,t){if(ir)return e==="compositionend"||!sc&&Hh(e,t)?(e=Fh(),zs=ic=Yn=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $h&&t.locale!=="ko"?null:t.data;default:return null}}var Gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gv[e.type]:t==="textarea"}function Vh(e,t,i,o){kh(o),t=qs(t,"onChange"),0<t.length&&(i=new rc("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var lo=null,So=null;function Yv(e){np(e,0)}function ya(e){var t=sr(e);if(mh(t))return e}function Kv(e,t){if(e==="change")return t}var Wh=!1;if(On){var yl;if(On){var xl="oninput"in document;if(!xl){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),xl=typeof Yd.oninput=="function"}yl=xl}else yl=!1;Wh=yl&&(!document.documentMode||9<document.documentMode)}function Kd(){lo&&(lo.detachEvent("onpropertychange",Gh),So=lo=null)}function Gh(e){if(e.propertyName==="value"&&ya(So)){var t=[];Vh(t,So,e,qu(e)),Ph(Yv,t)}}function Xv(e,t,i){e==="focusin"?(Kd(),lo=t,So=i,lo.attachEvent("onpropertychange",Gh)):e==="focusout"&&Kd()}function Qv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ya(So)}function qv(e,t){if(e==="click")return ya(t)}function Jv(e,t){if(e==="input"||e==="change")return ya(t)}function e_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:e_;function Co(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var s=i[o];if(!Fl.call(t,s)||!un(e[s],t[s]))return!1}return!0}function Xd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qd(e,t){var i=Xd(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Xd(i)}}function Yh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kh(){for(var e=window,t=Vs();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Vs(e.document)}return t}function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function t_(e){var t=Kh(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Yh(i.ownerDocument.documentElement,i)){if(o!==null&&ac(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=i.textContent.length,l=Math.min(o.start,s);o=o.end===void 0?l:Math.min(o.end,s),!e.extend&&l>o&&(s=o,o=l,l=s),s=Qd(i,l);var c=Qd(i,o);s&&c&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>o?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var n_=On&&"documentMode"in document&&11>=document.documentMode,rr=null,su=null,uo=null,au=!1;function qd(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;au||rr==null||rr!==Vs(o)||(o=rr,"selectionStart"in o&&ac(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),uo&&Co(uo,o)||(uo=o,o=qs(su,"onSelect"),0<o.length&&(t=new rc("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=rr)))}function xs(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var or={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},wl={},Xh={};On&&(Xh=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function xa(e){if(wl[e])return wl[e];if(!or[e])return e;var t=or[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Xh)return wl[e]=t[i];return e}var Qh=xa("animationend"),qh=xa("animationiteration"),Jh=xa("animationstart"),ep=xa("transitionend"),tp=new Map,Jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(e,t){tp.set(e,t),Ii(t,[e])}for(var kl=0;kl<Jd.length;kl++){var bl=Jd[kl],i_=bl.toLowerCase(),r_=bl[0].toUpperCase()+bl.slice(1);si(i_,"on"+r_)}si(Qh,"onAnimationEnd");si(qh,"onAnimationIteration");si(Jh,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(ep,"onTransitionEnd");xr("onMouseEnter",["mouseout","mouseover"]);xr("onMouseLeave",["mouseout","mouseover"]);xr("onPointerEnter",["pointerout","pointerover"]);xr("onPointerLeave",["pointerout","pointerover"]);Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function ef(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,iv(o,t,void 0,e),e.currentTarget=null}function np(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],s=o.event;o=o.listeners;e:{var l=void 0;if(t)for(var c=o.length-1;0<=c;c--){var p=o[c],h=p.instance,g=p.currentTarget;if(p=p.listener,h!==l&&s.isPropagationStopped())break e;ef(s,p,g),l=h}else for(c=0;c<o.length;c++){if(p=o[c],h=p.instance,g=p.currentTarget,p=p.listener,h!==l&&s.isPropagationStopped())break e;ef(s,p,g),l=h}}}if(Gs)throw e=nu,Gs=!1,nu=null,e}function Me(e,t){var i=t[fu];i===void 0&&(i=t[fu]=new Set);var o=e+"__bubble";i.has(o)||(ip(t,e,2,!1),i.add(o))}function Sl(e,t,i){var o=0;t&&(o|=4),ip(i,e,o,t)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Po(e){if(!e[ws]){e[ws]=!0,ch.forEach(function(i){i!=="selectionchange"&&(o_.has(i)||Sl(i,!1,e),Sl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ws]||(t[ws]=!0,Sl("selectionchange",!1,t))}}function ip(e,t,i,o){switch(Zh(t)){case 1:var s=yv;break;case 4:s=xv;break;default:s=nc}i=s.bind(null,t,i,e),s=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):s!==void 0?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function Cl(e,t,i,o,s){var l=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var c=o.tag;if(c===3||c===4){var p=o.stateNode.containerInfo;if(p===s||p.nodeType===8&&p.parentNode===s)break;if(c===4)for(c=o.return;c!==null;){var h=c.tag;if((h===3||h===4)&&(h=c.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;c=c.return}for(;p!==null;){if(c=bi(p),c===null)return;if(h=c.tag,h===5||h===6){o=l=c;continue e}p=p.parentNode}}o=o.return}Ph(function(){var g=l,k=qu(i),y=[];e:{var w=tp.get(e);if(w!==void 0){var E=rc,j=e;switch(e){case"keypress":if(Rs(i)===0)break e;case"keydown":case"keyup":E=zv;break;case"focusin":j="focus",E=_l;break;case"focusout":j="blur",E=_l;break;case"beforeblur":case"afterblur":E=_l;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=$d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=bv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Dv;break;case Qh:case qh:case Jh:E=Pv;break;case ep:E=Zv;break;case"scroll":E=wv;break;case"wheel":E=$v;break;case"copy":case"cut":case"paste":E=Lv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Ud}var M=(t&4)!==0,K=!M&&e==="scroll",_=M?w!==null?w+"Capture":null:w;M=[];for(var v=g,b;v!==null;){b=v;var O=b.stateNode;if(b.tag===5&&O!==null&&(b=O,_!==null&&(O=xo(v,_),O!=null&&M.push(Eo(v,O,b)))),K)break;v=v.return}0<M.length&&(w=new E(w,j,null,i,k),y.push({event:w,listeners:M}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",w&&i!==Jl&&(j=i.relatedTarget||i.fromElement)&&(bi(j)||j[In]))break e;if((E||w)&&(w=k.window===k?k:(w=k.ownerDocument)?w.defaultView||w.parentWindow:window,E?(j=i.relatedTarget||i.toElement,E=g,j=j?bi(j):null,j!==null&&(K=zi(j),j!==K||j.tag!==5&&j.tag!==6)&&(j=null)):(E=null,j=g),E!==j)){if(M=$d,O="onMouseLeave",_="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(M=Ud,O="onPointerLeave",_="onPointerEnter",v="pointer"),K=E==null?w:sr(E),b=j==null?w:sr(j),w=new M(O,v+"leave",E,i,k),w.target=K,w.relatedTarget=b,O=null,bi(k)===g&&(M=new M(_,v+"enter",j,i,k),M.target=b,M.relatedTarget=K,O=M),K=O,E&&j)t:{for(M=E,_=j,v=0,b=M;b;b=qi(b))v++;for(b=0,O=_;O;O=qi(O))b++;for(;0<v-b;)M=qi(M),v--;for(;0<b-v;)_=qi(_),b--;for(;v--;){if(M===_||_!==null&&M===_.alternate)break t;M=qi(M),_=qi(_)}M=null}else M=null;E!==null&&tf(y,w,E,M,!1),j!==null&&K!==null&&tf(y,K,j,M,!0)}}e:{if(w=g?sr(g):window,E=w.nodeName&&w.nodeName.toLowerCase(),E==="select"||E==="input"&&w.type==="file")var F=Kv;else if(Gd(w))if(Wh)F=Jv;else{F=Qv;var G=Xv}else(E=w.nodeName)&&E.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(F=qv);if(F&&(F=F(e,g))){Vh(y,F,i,k);break e}G&&G(e,w,g),e==="focusout"&&(G=w._wrapperState)&&G.controlled&&w.type==="number"&&Yl(w,"number",w.value)}switch(G=g?sr(g):window,e){case"focusin":(Gd(G)||G.contentEditable==="true")&&(rr=G,su=g,uo=null);break;case"focusout":uo=su=rr=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,qd(y,i,k);break;case"selectionchange":if(n_)break;case"keydown":case"keyup":qd(y,i,k)}var U;if(sc)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ir?Hh(e,i)&&(R="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(R="onCompositionStart");R&&($h&&i.locale!=="ko"&&(ir||R!=="onCompositionStart"?R==="onCompositionEnd"&&ir&&(U=Fh()):(Yn=k,ic="value"in Yn?Yn.value:Yn.textContent,ir=!0)),G=qs(g,R),0<G.length&&(R=new Hd(R,e,null,i,k),y.push({event:R,listeners:G}),U?R.data=U:(U=Uh(i),U!==null&&(R.data=U)))),(U=Uv?Vv(e,i):Wv(e,i))&&(g=qs(g,"onBeforeInput"),0<g.length&&(k=new Hd("onBeforeInput","beforeinput",null,i,k),y.push({event:k,listeners:g}),k.data=U))}np(y,t)})}function Eo(e,t,i){return{instance:e,listener:t,currentTarget:i}}function qs(e,t){for(var i=t+"Capture",o=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=xo(e,i),l!=null&&o.unshift(Eo(e,l,s)),l=xo(e,t),l!=null&&o.push(Eo(e,l,s))),e=e.return}return o}function qi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tf(e,t,i,o,s){for(var l=t._reactName,c=[];i!==null&&i!==o;){var p=i,h=p.alternate,g=p.stateNode;if(h!==null&&h===o)break;p.tag===5&&g!==null&&(p=g,s?(h=xo(i,l),h!=null&&c.unshift(Eo(i,h,p))):s||(h=xo(i,l),h!=null&&c.push(Eo(i,h,p)))),i=i.return}c.length!==0&&e.push({event:t,listeners:c})}var s_=/\r\n?/g,a_=/\u0000|\uFFFD/g;function nf(e){return(typeof e=="string"?e:""+e).replace(s_,`
`).replace(a_,"")}function ks(e,t,i){if(t=nf(t),nf(e)!==t&&i)throw Error(W(425))}function Js(){}var lu=null,uu=null;function cu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,l_=typeof clearTimeout=="function"?clearTimeout:void 0,rf=typeof Promise=="function"?Promise:void 0,u_=typeof queueMicrotask=="function"?queueMicrotask:typeof rf<"u"?function(e){return rf.resolve(null).then(e).catch(c_)}:du;function c_(e){setTimeout(function(){throw e})}function Pl(e,t){var i=t,o=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(o===0){e.removeChild(s),bo(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=s}while(i);bo(t)}function Jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function of(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),xn="__reactFiber$"+Nr,Lo="__reactProps$"+Nr,In="__reactContainer$"+Nr,fu="__reactEvents$"+Nr,d_="__reactListeners$"+Nr,f_="__reactHandles$"+Nr;function bi(e){var t=e[xn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[In]||i[xn]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=of(e);e!==null;){if(i=e[xn])return i;e=of(e)}return t}e=i,i=e.parentNode}return null}function Zo(e){return e=e[xn]||e[In],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function wa(e){return e[Lo]||null}var hu=[],ar=-1;function ai(e){return{current:e}}function je(e){0>ar||(e.current=hu[ar],hu[ar]=null,ar--)}function Ee(e,t){ar++,hu[ar]=e.current,e.current=t}var oi={},ct=ai(oi),Ct=ai(!1),Ti=oi;function wr(e,t){var i=e.type.contextTypes;if(!i)return oi;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in i)s[l]=t[l];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(e){return e=e.childContextTypes,e!=null}function ea(){je(Ct),je(ct)}function sf(e,t,i){if(ct.current!==oi)throw Error(W(168));Ee(ct,t),Ee(Ct,i)}function rp(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var s in o)if(!(s in t))throw Error(W(108,Xg(e)||"Unknown",s));return Be({},i,o)}function ta(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oi,Ti=ct.current,Ee(ct,e),Ee(Ct,Ct.current),!0}function af(e,t,i){var o=e.stateNode;if(!o)throw Error(W(169));i?(e=rp(e,t,Ti),o.__reactInternalMemoizedMergedChildContext=e,je(Ct),je(ct),Ee(ct,e)):je(Ct),Ee(Ct,i)}var Tn=null,ka=!1,El=!1;function op(e){Tn===null?Tn=[e]:Tn.push(e)}function h_(e){ka=!0,op(e)}function li(){if(!El&&Tn!==null){El=!0;var e=0,t=Ce;try{var i=Tn;for(Ce=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Tn=null,ka=!1}catch(s){throw Tn!==null&&(Tn=Tn.slice(e+1)),Nh(Ju,li),s}finally{Ce=t,El=!1}}return null}var lr=[],ur=0,na=null,ia=0,$t=[],Ht=0,Ni=null,Nn=1,Mn="";function wi(e,t){lr[ur++]=ia,lr[ur++]=na,na=e,ia=t}function sp(e,t,i){$t[Ht++]=Nn,$t[Ht++]=Mn,$t[Ht++]=Ni,Ni=e;var o=Nn;e=Mn;var s=32-an(o)-1;o&=~(1<<s),i+=1;var l=32-an(t)+s;if(30<l){var c=s-s%5;l=(o&(1<<c)-1).toString(32),o>>=c,s-=c,Nn=1<<32-an(t)+s|i<<s|o,Mn=l+e}else Nn=1<<l|i<<s|o,Mn=e}function lc(e){e.return!==null&&(wi(e,1),sp(e,1,0))}function uc(e){for(;e===na;)na=lr[--ur],lr[ur]=null,ia=lr[--ur],lr[ur]=null;for(;e===Ni;)Ni=$t[--Ht],$t[Ht]=null,Mn=$t[--Ht],$t[Ht]=null,Nn=$t[--Ht],$t[Ht]=null}var jt=null,Mt=null,Ie=!1,sn=null;function ap(e,t){var i=Ut(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function lf(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,Mt=Jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Ni!==null?{id:Nn,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Ut(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,jt=e,Mt=null,!0):!1;default:return!1}}function pu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mu(e){if(Ie){var t=Mt;if(t){var i=t;if(!lf(e,t)){if(pu(e))throw Error(W(418));t=Jn(i.nextSibling);var o=jt;t&&lf(e,t)?ap(o,i):(e.flags=e.flags&-4097|2,Ie=!1,jt=e)}}else{if(pu(e))throw Error(W(418));e.flags=e.flags&-4097|2,Ie=!1,jt=e}}}function uf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function bs(e){if(e!==jt)return!1;if(!Ie)return uf(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cu(e.type,e.memoizedProps)),t&&(t=Mt)){if(pu(e))throw lp(),Error(W(418));for(;t;)ap(e,t),t=Jn(t.nextSibling)}if(uf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Mt=Jn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=jt?Jn(e.stateNode.nextSibling):null;return!0}function lp(){for(var e=Mt;e;)e=Jn(e.nextSibling)}function kr(){Mt=jt=null,Ie=!1}function cc(e){sn===null?sn=[e]:sn.push(e)}var p_=An.ReactCurrentBatchConfig;function Xr(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(W(309));var o=i.stateNode}if(!o)throw Error(W(147,e));var s=o,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(c){var p=s.refs;c===null?delete p[l]:p[l]=c},t._stringRef=l,t)}if(typeof e!="string")throw Error(W(284));if(!i._owner)throw Error(W(290,e))}return e}function Ss(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cf(e){var t=e._init;return t(e._payload)}function up(e){function t(_,v){if(e){var b=_.deletions;b===null?(_.deletions=[v],_.flags|=16):b.push(v)}}function i(_,v){if(!e)return null;for(;v!==null;)t(_,v),v=v.sibling;return null}function o(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=ii(_,v),_.index=0,_.sibling=null,_}function l(_,v,b){return _.index=b,e?(b=_.alternate,b!==null?(b=b.index,b<v?(_.flags|=2,v):b):(_.flags|=2,v)):(_.flags|=1048576,v)}function c(_){return e&&_.alternate===null&&(_.flags|=2),_}function p(_,v,b,O){return v===null||v.tag!==6?(v=Il(b,_.mode,O),v.return=_,v):(v=s(v,b),v.return=_,v)}function h(_,v,b,O){var F=b.type;return F===nr?k(_,v,b.props.children,O,b.key):v!==null&&(v.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Un&&cf(F)===v.type)?(O=s(v,b.props),O.ref=Xr(_,v,b),O.return=_,O):(O=Hs(b.type,b.key,b.props,null,_.mode,O),O.ref=Xr(_,v,b),O.return=_,O)}function g(_,v,b,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=zl(b,_.mode,O),v.return=_,v):(v=s(v,b.children||[]),v.return=_,v)}function k(_,v,b,O,F){return v===null||v.tag!==7?(v=Li(b,_.mode,O,F),v.return=_,v):(v=s(v,b),v.return=_,v)}function y(_,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Il(""+v,_.mode,b),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hs:return b=Hs(v.type,v.key,v.props,null,_.mode,b),b.ref=Xr(_,null,v),b.return=_,b;case tr:return v=zl(v,_.mode,b),v.return=_,v;case Un:var O=v._init;return y(_,O(v._payload),b)}if(no(v)||Vr(v))return v=Li(v,_.mode,b,null),v.return=_,v;Ss(_,v)}return null}function w(_,v,b,O){var F=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return F!==null?null:p(_,v,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hs:return b.key===F?h(_,v,b,O):null;case tr:return b.key===F?g(_,v,b,O):null;case Un:return F=b._init,w(_,v,F(b._payload),O)}if(no(b)||Vr(b))return F!==null?null:k(_,v,b,O,null);Ss(_,b)}return null}function E(_,v,b,O,F){if(typeof O=="string"&&O!==""||typeof O=="number")return _=_.get(b)||null,p(v,_,""+O,F);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case hs:return _=_.get(O.key===null?b:O.key)||null,h(v,_,O,F);case tr:return _=_.get(O.key===null?b:O.key)||null,g(v,_,O,F);case Un:var G=O._init;return E(_,v,b,G(O._payload),F)}if(no(O)||Vr(O))return _=_.get(b)||null,k(v,_,O,F,null);Ss(v,O)}return null}function j(_,v,b,O){for(var F=null,G=null,U=v,R=v=0,z=null;U!==null&&R<b.length;R++){U.index>R?(z=U,U=null):z=U.sibling;var D=w(_,U,b[R],O);if(D===null){U===null&&(U=z);break}e&&U&&D.alternate===null&&t(_,U),v=l(D,v,R),G===null?F=D:G.sibling=D,G=D,U=z}if(R===b.length)return i(_,U),Ie&&wi(_,R),F;if(U===null){for(;R<b.length;R++)U=y(_,b[R],O),U!==null&&(v=l(U,v,R),G===null?F=U:G.sibling=U,G=U);return Ie&&wi(_,R),F}for(U=o(_,U);R<b.length;R++)z=E(U,_,R,b[R],O),z!==null&&(e&&z.alternate!==null&&U.delete(z.key===null?R:z.key),v=l(z,v,R),G===null?F=z:G.sibling=z,G=z);return e&&U.forEach(function(Z){return t(_,Z)}),Ie&&wi(_,R),F}function M(_,v,b,O){var F=Vr(b);if(typeof F!="function")throw Error(W(150));if(b=F.call(b),b==null)throw Error(W(151));for(var G=F=null,U=v,R=v=0,z=null,D=b.next();U!==null&&!D.done;R++,D=b.next()){U.index>R?(z=U,U=null):z=U.sibling;var Z=w(_,U,D.value,O);if(Z===null){U===null&&(U=z);break}e&&U&&Z.alternate===null&&t(_,U),v=l(Z,v,R),G===null?F=Z:G.sibling=Z,G=Z,U=z}if(D.done)return i(_,U),Ie&&wi(_,R),F;if(U===null){for(;!D.done;R++,D=b.next())D=y(_,D.value,O),D!==null&&(v=l(D,v,R),G===null?F=D:G.sibling=D,G=D);return Ie&&wi(_,R),F}for(U=o(_,U);!D.done;R++,D=b.next())D=E(U,_,R,D.value,O),D!==null&&(e&&D.alternate!==null&&U.delete(D.key===null?R:D.key),v=l(D,v,R),G===null?F=D:G.sibling=D,G=D);return e&&U.forEach(function(Q){return t(_,Q)}),Ie&&wi(_,R),F}function K(_,v,b,O){if(typeof b=="object"&&b!==null&&b.type===nr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case hs:e:{for(var F=b.key,G=v;G!==null;){if(G.key===F){if(F=b.type,F===nr){if(G.tag===7){i(_,G.sibling),v=s(G,b.props.children),v.return=_,_=v;break e}}else if(G.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Un&&cf(F)===G.type){i(_,G.sibling),v=s(G,b.props),v.ref=Xr(_,G,b),v.return=_,_=v;break e}i(_,G);break}else t(_,G);G=G.sibling}b.type===nr?(v=Li(b.props.children,_.mode,O,b.key),v.return=_,_=v):(O=Hs(b.type,b.key,b.props,null,_.mode,O),O.ref=Xr(_,v,b),O.return=_,_=O)}return c(_);case tr:e:{for(G=b.key;v!==null;){if(v.key===G)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){i(_,v.sibling),v=s(v,b.children||[]),v.return=_,_=v;break e}else{i(_,v);break}else t(_,v);v=v.sibling}v=zl(b,_.mode,O),v.return=_,_=v}return c(_);case Un:return G=b._init,K(_,v,G(b._payload),O)}if(no(b))return j(_,v,b,O);if(Vr(b))return M(_,v,b,O);Ss(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(i(_,v.sibling),v=s(v,b),v.return=_,_=v):(i(_,v),v=Il(b,_.mode,O),v.return=_,_=v),c(_)):i(_,v)}return K}var br=up(!0),cp=up(!1),ra=ai(null),oa=null,cr=null,dc=null;function fc(){dc=cr=oa=null}function hc(e){var t=ra.current;je(ra),e._currentValue=t}function gu(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function vr(e,t){oa=e,dc=cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(dc!==e)if(e={context:e,memoizedValue:t,next:null},cr===null){if(oa===null)throw Error(W(308));cr=e,oa.dependencies={lanes:0,firstContext:e}}else cr=cr.next=e;return t}var Si=null;function pc(e){Si===null?Si=[e]:Si.push(e)}function dp(e,t,i,o){var s=t.interleaved;return s===null?(i.next=i,pc(t)):(i.next=s.next,s.next=i),t.interleaved=i,zn(e,o)}function zn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Vn=!1;function mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ei(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,ke&2){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,zn(e,i)}return s=o.interleaved,s===null?(t.next=t,pc(o)):(t.next=s.next,s.next=t),o.interleaved=t,zn(e,i)}function As(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,ec(e,i)}}function df(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var s=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var c={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?s=l=c:l=l.next=c,i=i.next}while(i!==null);l===null?s=l=t:l=l.next=t}else s=l=t;i={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function sa(e,t,i,o){var s=e.updateQueue;Vn=!1;var l=s.firstBaseUpdate,c=s.lastBaseUpdate,p=s.shared.pending;if(p!==null){s.shared.pending=null;var h=p,g=h.next;h.next=null,c===null?l=g:c.next=g,c=h;var k=e.alternate;k!==null&&(k=k.updateQueue,p=k.lastBaseUpdate,p!==c&&(p===null?k.firstBaseUpdate=g:p.next=g,k.lastBaseUpdate=h))}if(l!==null){var y=s.baseState;c=0,k=g=h=null,p=l;do{var w=p.lane,E=p.eventTime;if((o&w)===w){k!==null&&(k=k.next={eventTime:E,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var j=e,M=p;switch(w=t,E=i,M.tag){case 1:if(j=M.payload,typeof j=="function"){y=j.call(E,y,w);break e}y=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=M.payload,w=typeof j=="function"?j.call(E,y,w):j,w==null)break e;y=Be({},y,w);break e;case 2:Vn=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,w=s.effects,w===null?s.effects=[p]:w.push(p))}else E={eventTime:E,lane:w,tag:p.tag,payload:p.payload,callback:p.callback,next:null},k===null?(g=k=E,h=y):k=k.next=E,c|=w;if(p=p.next,p===null){if(p=s.shared.pending,p===null)break;w=p,p=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(!0);if(k===null&&(h=y),s.baseState=h,s.firstBaseUpdate=g,s.lastBaseUpdate=k,t=s.shared.interleaved,t!==null){s=t;do c|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);ji|=c,e.lanes=c,e.memoizedState=y}}function ff(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],s=o.callback;if(s!==null){if(o.callback=null,o=i,typeof s!="function")throw Error(W(191,s));s.call(o)}}}var Fo={},kn=ai(Fo),To=ai(Fo),No=ai(Fo);function Ci(e){if(e===Fo)throw Error(W(174));return e}function gc(e,t){switch(Ee(No,t),Ee(To,e),Ee(kn,Fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xl(t,e)}je(kn),Ee(kn,t)}function Sr(){je(kn),je(To),je(No)}function hp(e){Ci(No.current);var t=Ci(kn.current),i=Xl(t,e.type);t!==i&&(Ee(To,e),Ee(kn,i))}function vc(e){To.current===e&&(je(kn),je(To))}var Ae=ai(0);function aa(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ll=[];function _c(){for(var e=0;e<Ll.length;e++)Ll[e]._workInProgressVersionPrimary=null;Ll.length=0}var Ds=An.ReactCurrentDispatcher,Tl=An.ReactCurrentBatchConfig,Mi=0,De=null,Ke=null,Je=null,la=!1,co=!1,Mo=0,m_=0;function at(){throw Error(W(321))}function yc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!un(e[i],t[i]))return!1;return!0}function xc(e,t,i,o,s,l){if(Mi=l,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ds.current=e===null||e.memoizedState===null?y_:x_,e=i(o,s),co){l=0;do{if(co=!1,Mo=0,25<=l)throw Error(W(301));l+=1,Je=Ke=null,t.updateQueue=null,Ds.current=w_,e=i(o,s)}while(co)}if(Ds.current=ua,t=Ke!==null&&Ke.next!==null,Mi=0,Je=Ke=De=null,la=!1,t)throw Error(W(300));return e}function wc(){var e=Mo!==0;return Mo=0,e}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?De.memoizedState=Je=e:Je=Je.next=e,Je}function Gt(){if(Ke===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Je===null?De.memoizedState:Je.next;if(t!==null)Je=t,Ke=e;else{if(e===null)throw Error(W(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Je===null?De.memoizedState=Je=e:Je=Je.next=e}return Je}function jo(e,t){return typeof t=="function"?t(e):t}function Nl(e){var t=Gt(),i=t.queue;if(i===null)throw Error(W(311));i.lastRenderedReducer=e;var o=Ke,s=o.baseQueue,l=i.pending;if(l!==null){if(s!==null){var c=s.next;s.next=l.next,l.next=c}o.baseQueue=s=l,i.pending=null}if(s!==null){l=s.next,o=o.baseState;var p=c=null,h=null,g=l;do{var k=g.lane;if((Mi&k)===k)h!==null&&(h=h.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),o=g.hasEagerState?g.eagerState:e(o,g.action);else{var y={lane:k,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};h===null?(p=h=y,c=o):h=h.next=y,De.lanes|=k,ji|=k}g=g.next}while(g!==null&&g!==l);h===null?c=o:h.next=p,un(o,t.memoizedState)||(St=!0),t.memoizedState=o,t.baseState=c,t.baseQueue=h,i.lastRenderedState=o}if(e=i.interleaved,e!==null){s=e;do l=s.lane,De.lanes|=l,ji|=l,s=s.next;while(s!==e)}else s===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ml(e){var t=Gt(),i=t.queue;if(i===null)throw Error(W(311));i.lastRenderedReducer=e;var o=i.dispatch,s=i.pending,l=t.memoizedState;if(s!==null){i.pending=null;var c=s=s.next;do l=e(l,c.action),c=c.next;while(c!==s);un(l,t.memoizedState)||(St=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),i.lastRenderedState=l}return[l,o]}function pp(){}function mp(e,t){var i=De,o=Gt(),s=t(),l=!un(o.memoizedState,s);if(l&&(o.memoizedState=s,St=!0),o=o.queue,kc(_p.bind(null,i,o,e),[e]),o.getSnapshot!==t||l||Je!==null&&Je.memoizedState.tag&1){if(i.flags|=2048,Oo(9,vp.bind(null,i,o,s,t),void 0,null),et===null)throw Error(W(349));Mi&30||gp(i,t,s)}return s}function gp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function vp(e,t,i,o){t.value=i,t.getSnapshot=o,yp(t)&&xp(e)}function _p(e,t,i){return i(function(){yp(t)&&xp(e)})}function yp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!un(e,i)}catch{return!0}}function xp(e){var t=zn(e,1);t!==null&&ln(t,e,1,-1)}function hf(e){var t=yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},t.queue=e,e=e.dispatch=__.bind(null,De,e),[t.memoizedState,e]}function Oo(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function wp(){return Gt().memoizedState}function Bs(e,t,i,o){var s=yn();De.flags|=e,s.memoizedState=Oo(1|t,i,void 0,o===void 0?null:o)}function ba(e,t,i,o){var s=Gt();o=o===void 0?null:o;var l=void 0;if(Ke!==null){var c=Ke.memoizedState;if(l=c.destroy,o!==null&&yc(o,c.deps)){s.memoizedState=Oo(t,i,l,o);return}}De.flags|=e,s.memoizedState=Oo(1|t,i,l,o)}function pf(e,t){return Bs(8390656,8,e,t)}function kc(e,t){return ba(2048,8,e,t)}function kp(e,t){return ba(4,2,e,t)}function bp(e,t){return ba(4,4,e,t)}function Sp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cp(e,t,i){return i=i!=null?i.concat([e]):null,ba(4,4,Sp.bind(null,t,e),i)}function bc(){}function Pp(e,t){var i=Gt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&yc(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function Ep(e,t){var i=Gt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&yc(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function Lp(e,t,i){return Mi&21?(un(i,t)||(i=Oh(),De.lanes|=i,ji|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=i)}function g_(e,t){var i=Ce;Ce=i!==0&&4>i?i:4,e(!0);var o=Tl.transition;Tl.transition={};try{e(!1),t()}finally{Ce=i,Tl.transition=o}}function Tp(){return Gt().memoizedState}function v_(e,t,i){var o=ni(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},Np(e))Mp(t,i);else if(i=dp(e,t,i,o),i!==null){var s=ht();ln(i,e,o,s),jp(i,t,o)}}function __(e,t,i){var o=ni(e),s={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(Np(e))Mp(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var c=t.lastRenderedState,p=l(c,i);if(s.hasEagerState=!0,s.eagerState=p,un(p,c)){var h=t.interleaved;h===null?(s.next=s,pc(t)):(s.next=h.next,h.next=s),t.interleaved=s;return}}catch{}finally{}i=dp(e,t,s,o),i!==null&&(s=ht(),ln(i,e,o,s),jp(i,t,o))}}function Np(e){var t=e.alternate;return e===De||t!==null&&t===De}function Mp(e,t){co=la=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function jp(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,ec(e,i)}}var ua={readContext:Wt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},y_={readContext:Wt,useCallback:function(e,t){return yn().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:pf,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Bs(4194308,4,Sp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var i=yn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=yn();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=v_.bind(null,De,e),[o.memoizedState,e]},useRef:function(e){var t=yn();return e={current:e},t.memoizedState=e},useState:hf,useDebugValue:bc,useDeferredValue:function(e){return yn().memoizedState=e},useTransition:function(){var e=hf(!1),t=e[0];return e=g_.bind(null,e[1]),yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=De,s=yn();if(Ie){if(i===void 0)throw Error(W(407));i=i()}else{if(i=t(),et===null)throw Error(W(349));Mi&30||gp(o,t,i)}s.memoizedState=i;var l={value:i,getSnapshot:t};return s.queue=l,pf(_p.bind(null,o,l,e),[e]),o.flags|=2048,Oo(9,vp.bind(null,o,l,i,t),void 0,null),i},useId:function(){var e=yn(),t=et.identifierPrefix;if(Ie){var i=Mn,o=Nn;i=(o&~(1<<32-an(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=Mo++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=m_++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},x_={readContext:Wt,useCallback:Pp,useContext:Wt,useEffect:kc,useImperativeHandle:Cp,useInsertionEffect:kp,useLayoutEffect:bp,useMemo:Ep,useReducer:Nl,useRef:wp,useState:function(){return Nl(jo)},useDebugValue:bc,useDeferredValue:function(e){var t=Gt();return Lp(t,Ke.memoizedState,e)},useTransition:function(){var e=Nl(jo)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:pp,useSyncExternalStore:mp,useId:Tp,unstable_isNewReconciler:!1},w_={readContext:Wt,useCallback:Pp,useContext:Wt,useEffect:kc,useImperativeHandle:Cp,useInsertionEffect:kp,useLayoutEffect:bp,useMemo:Ep,useReducer:Ml,useRef:wp,useState:function(){return Ml(jo)},useDebugValue:bc,useDeferredValue:function(e){var t=Gt();return Ke===null?t.memoizedState=e:Lp(t,Ke.memoizedState,e)},useTransition:function(){var e=Ml(jo)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:pp,useSyncExternalStore:mp,useId:Tp,unstable_isNewReconciler:!1};function rn(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function vu(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:Be({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Sa={isMounted:function(e){return(e=e._reactInternals)?zi(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=ht(),s=ni(e),l=jn(o,s);l.payload=t,i!=null&&(l.callback=i),t=ei(e,l,s),t!==null&&(ln(t,e,s,o),As(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=ht(),s=ni(e),l=jn(o,s);l.tag=1,l.payload=t,i!=null&&(l.callback=i),t=ei(e,l,s),t!==null&&(ln(t,e,s,o),As(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ht(),o=ni(e),s=jn(i,o);s.tag=2,t!=null&&(s.callback=t),t=ei(e,s,o),t!==null&&(ln(t,e,o,i),As(t,e,o))}};function mf(e,t,i,o,s,l,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,l,c):t.prototype&&t.prototype.isPureReactComponent?!Co(i,o)||!Co(s,l):!0}function Op(e,t,i){var o=!1,s=oi,l=t.contextType;return typeof l=="object"&&l!==null?l=Wt(l):(s=Pt(t)?Ti:ct.current,o=t.contextTypes,l=(o=o!=null)?wr(e,s):oi),t=new t(i,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sa,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function gf(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function _u(e,t,i,o){var s=e.stateNode;s.props=i,s.state=e.memoizedState,s.refs={},mc(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Wt(l):(l=Pt(t)?Ti:ct.current,s.context=wr(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(vu(e,t,l,i),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Sa.enqueueReplaceState(s,s.state,null),sa(e,i,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Cr(e,t){try{var i="",o=t;do i+=Kg(o),o=o.return;while(o);var s=i}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function jl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function yu(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var k_=typeof WeakMap=="function"?WeakMap:Map;function Ip(e,t,i){i=jn(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){da||(da=!0,Tu=o),yu(e,t)},i}function zp(e,t,i){i=jn(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=t.value;i.payload=function(){return o(s)},i.callback=function(){yu(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){yu(e,t),typeof o!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),i}function vf(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new k_;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(i)||(s.add(i),e=R_.bind(null,e,t,i),t.then(e,e))}function _f(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yf(e,t,i,o,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=jn(-1,1),t.tag=2,ei(i,t,1))),i.lanes|=1),e)}var b_=An.ReactCurrentOwner,St=!1;function ft(e,t,i,o){t.child=e===null?cp(t,null,i,o):br(t,e.child,i,o)}function xf(e,t,i,o,s){i=i.render;var l=t.ref;return vr(t,s),o=xc(e,t,i,o,l,s),i=wc(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rn(e,t,s)):(Ie&&i&&lc(t),t.flags|=1,ft(e,t,o,s),t.child)}function wf(e,t,i,o,s){if(e===null){var l=i.type;return typeof l=="function"&&!Mc(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=l,Rp(e,t,l,o,s)):(e=Hs(i.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var c=l.memoizedProps;if(i=i.compare,i=i!==null?i:Co,i(c,o)&&e.ref===t.ref)return Rn(e,t,s)}return t.flags|=1,e=ii(l,o),e.ref=t.ref,e.return=t,t.child=e}function Rp(e,t,i,o,s){if(e!==null){var l=e.memoizedProps;if(Co(l,o)&&e.ref===t.ref)if(St=!1,t.pendingProps=o=l,(e.lanes&s)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,Rn(e,t,s)}return xu(e,t,i,o,s)}function Ap(e,t,i){var o=t.pendingProps,s=o.children,l=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(fr,Nt),Nt|=i;else{if(!(i&1073741824))return e=l!==null?l.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(fr,Nt),Nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=l!==null?l.baseLanes:i,Ee(fr,Nt),Nt|=o}else l!==null?(o=l.baseLanes|i,t.memoizedState=null):o=i,Ee(fr,Nt),Nt|=o;return ft(e,t,s,i),t.child}function Dp(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,i,o,s){var l=Pt(i)?Ti:ct.current;return l=wr(t,l),vr(t,s),i=xc(e,t,i,o,l,s),o=wc(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rn(e,t,s)):(Ie&&o&&lc(t),t.flags|=1,ft(e,t,i,s),t.child)}function kf(e,t,i,o,s){if(Pt(i)){var l=!0;ta(t)}else l=!1;if(vr(t,s),t.stateNode===null)Zs(e,t),Op(t,i,o),_u(t,i,o,s),o=!0;else if(e===null){var c=t.stateNode,p=t.memoizedProps;c.props=p;var h=c.context,g=i.contextType;typeof g=="object"&&g!==null?g=Wt(g):(g=Pt(i)?Ti:ct.current,g=wr(t,g));var k=i.getDerivedStateFromProps,y=typeof k=="function"||typeof c.getSnapshotBeforeUpdate=="function";y||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==o||h!==g)&&gf(t,c,o,g),Vn=!1;var w=t.memoizedState;c.state=w,sa(t,o,c,s),h=t.memoizedState,p!==o||w!==h||Ct.current||Vn?(typeof k=="function"&&(vu(t,i,k,o),h=t.memoizedState),(p=Vn||mf(t,i,p,o,w,h,g))?(y||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=h),c.props=o,c.state=h,c.context=g,o=p):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{c=t.stateNode,fp(e,t),p=t.memoizedProps,g=t.type===t.elementType?p:rn(t.type,p),c.props=g,y=t.pendingProps,w=c.context,h=i.contextType,typeof h=="object"&&h!==null?h=Wt(h):(h=Pt(i)?Ti:ct.current,h=wr(t,h));var E=i.getDerivedStateFromProps;(k=typeof E=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==y||w!==h)&&gf(t,c,o,h),Vn=!1,w=t.memoizedState,c.state=w,sa(t,o,c,s);var j=t.memoizedState;p!==y||w!==j||Ct.current||Vn?(typeof E=="function"&&(vu(t,i,E,o),j=t.memoizedState),(g=Vn||mf(t,i,g,o,w,j,h)||!1)?(k||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(o,j,h),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(o,j,h)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=j),c.props=o,c.state=j,c.context=h,o=g):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),o=!1)}return wu(e,t,i,o,l,s)}function wu(e,t,i,o,s,l){Dp(e,t);var c=(t.flags&128)!==0;if(!o&&!c)return s&&af(t,i,!1),Rn(e,t,l);o=t.stateNode,b_.current=t;var p=c&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&c?(t.child=br(t,e.child,null,l),t.child=br(t,null,p,l)):ft(e,t,p,l),t.memoizedState=o.state,s&&af(t,i,!0),t.child}function Bp(e){var t=e.stateNode;t.pendingContext?sf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sf(e,t.context,!1),gc(e,t.containerInfo)}function bf(e,t,i,o,s){return kr(),cc(s),t.flags|=256,ft(e,t,i,o),t.child}var ku={dehydrated:null,treeContext:null,retryLane:0};function bu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zp(e,t,i){var o=t.pendingProps,s=Ae.current,l=!1,c=(t.flags&128)!==0,p;if((p=c)||(p=e!==null&&e.memoizedState===null?!1:(s&2)!==0),p?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ee(Ae,s&1),e===null)return mu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=o.children,e=o.fallback,l?(o=t.mode,l=t.child,c={mode:"hidden",children:c},!(o&1)&&l!==null?(l.childLanes=0,l.pendingProps=c):l=Ea(c,o,0,null),e=Li(e,o,i,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=bu(i),t.memoizedState=ku,e):Sc(t,c));if(s=e.memoizedState,s!==null&&(p=s.dehydrated,p!==null))return S_(e,t,c,o,p,s,i);if(l){l=o.fallback,c=t.mode,s=e.child,p=s.sibling;var h={mode:"hidden",children:o.children};return!(c&1)&&t.child!==s?(o=t.child,o.childLanes=0,o.pendingProps=h,t.deletions=null):(o=ii(s,h),o.subtreeFlags=s.subtreeFlags&14680064),p!==null?l=ii(p,l):(l=Li(l,c,i,null),l.flags|=2),l.return=t,o.return=t,o.sibling=l,t.child=o,o=l,l=t.child,c=e.child.memoizedState,c=c===null?bu(i):{baseLanes:c.baseLanes|i,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=e.childLanes&~i,t.memoizedState=ku,o}return l=e.child,e=l.sibling,o=ii(l,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Sc(e,t){return t=Ea({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cs(e,t,i,o){return o!==null&&cc(o),br(t,e.child,null,i),e=Sc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function S_(e,t,i,o,s,l,c){if(i)return t.flags&256?(t.flags&=-257,o=jl(Error(W(422))),Cs(e,t,c,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=o.fallback,s=t.mode,o=Ea({mode:"visible",children:o.children},s,0,null),l=Li(l,s,c,null),l.flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,t.mode&1&&br(t,e.child,null,c),t.child.memoizedState=bu(c),t.memoizedState=ku,l);if(!(t.mode&1))return Cs(e,t,c,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var p=o.dgst;return o=p,l=Error(W(419)),o=jl(l,o,void 0),Cs(e,t,c,o)}if(p=(c&e.childLanes)!==0,St||p){if(o=et,o!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(o.suspendedLanes|c)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,zn(e,s),ln(o,e,s,-1))}return Nc(),o=jl(Error(W(421))),Cs(e,t,c,o)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=A_.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Mt=Jn(s.nextSibling),jt=t,Ie=!0,sn=null,e!==null&&($t[Ht++]=Nn,$t[Ht++]=Mn,$t[Ht++]=Ni,Nn=e.id,Mn=e.overflow,Ni=t),t=Sc(t,o.children),t.flags|=4096,t)}function Sf(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),gu(e.return,t,i)}function Ol(e,t,i,o,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=o,l.tail=i,l.tailMode=s)}function Fp(e,t,i){var o=t.pendingProps,s=o.revealOrder,l=o.tail;if(ft(e,t,o.children,i),o=Ae.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sf(e,i,t);else if(e.tag===19)Sf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ee(Ae,o),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(i=t.child,s=null;i!==null;)e=i.alternate,e!==null&&aa(e)===null&&(s=i),i=i.sibling;i=s,i===null?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Ol(t,!1,s,i,l);break;case"backwards":for(i=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&aa(e)===null){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}Ol(t,!0,i,null,l);break;case"together":Ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ji|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,i=ii(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ii(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function C_(e,t,i){switch(t.tag){case 3:Bp(t),kr();break;case 5:hp(t);break;case 1:Pt(t.type)&&ta(t);break;case 4:gc(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,s=t.memoizedProps.value;Ee(ra,o._currentValue),o._currentValue=s;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ee(Ae,Ae.current&1),t.flags|=128,null):i&t.child.childLanes?Zp(e,t,i):(Ee(Ae,Ae.current&1),e=Rn(e,t,i),e!==null?e.sibling:null);Ee(Ae,Ae.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return Fp(e,t,i);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(Ae,Ae.current),o)break;return null;case 22:case 23:return t.lanes=0,Ap(e,t,i)}return Rn(e,t,i)}var $p,Su,Hp,Up;$p=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Su=function(){};Hp=function(e,t,i,o){var s=e.memoizedProps;if(s!==o){e=t.stateNode,Ci(kn.current);var l=null;switch(i){case"input":s=Wl(e,s),o=Wl(e,o),l=[];break;case"select":s=Be({},s,{value:void 0}),o=Be({},o,{value:void 0}),l=[];break;case"textarea":s=Kl(e,s),o=Kl(e,o),l=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Js)}Ql(i,o);var c;i=null;for(g in s)if(!o.hasOwnProperty(g)&&s.hasOwnProperty(g)&&s[g]!=null)if(g==="style"){var p=s[g];for(c in p)p.hasOwnProperty(c)&&(i||(i={}),i[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(_o.hasOwnProperty(g)?l||(l=[]):(l=l||[]).push(g,null));for(g in o){var h=o[g];if(p=s!=null?s[g]:void 0,o.hasOwnProperty(g)&&h!==p&&(h!=null||p!=null))if(g==="style")if(p){for(c in p)!p.hasOwnProperty(c)||h&&h.hasOwnProperty(c)||(i||(i={}),i[c]="");for(c in h)h.hasOwnProperty(c)&&p[c]!==h[c]&&(i||(i={}),i[c]=h[c])}else i||(l||(l=[]),l.push(g,i)),i=h;else g==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,p=p?p.__html:void 0,h!=null&&p!==h&&(l=l||[]).push(g,h)):g==="children"?typeof h!="string"&&typeof h!="number"||(l=l||[]).push(g,""+h):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(_o.hasOwnProperty(g)?(h!=null&&g==="onScroll"&&Me("scroll",e),l||p===h||(l=[])):(l=l||[]).push(g,h))}i&&(l=l||[]).push("style",i);var g=l;(t.updateQueue=g)&&(t.flags|=4)}};Up=function(e,t,i,o){i!==o&&(t.flags|=4)};function Qr(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var s=e.child;s!==null;)i|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)i|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function P_(e,t,i){var o=t.pendingProps;switch(uc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return Pt(t.type)&&ea(),lt(t),null;case 3:return o=t.stateNode,Sr(),je(Ct),je(ct),_c(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sn!==null&&(ju(sn),sn=null))),Su(e,t),lt(t),null;case 5:vc(t);var s=Ci(No.current);if(i=t.type,e!==null&&t.stateNode!=null)Hp(e,t,i,o,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(W(166));return lt(t),null}if(e=Ci(kn.current),bs(t)){o=t.stateNode,i=t.type;var l=t.memoizedProps;switch(o[xn]=t,o[Lo]=l,e=(t.mode&1)!==0,i){case"dialog":Me("cancel",o),Me("close",o);break;case"iframe":case"object":case"embed":Me("load",o);break;case"video":case"audio":for(s=0;s<ro.length;s++)Me(ro[s],o);break;case"source":Me("error",o);break;case"img":case"image":case"link":Me("error",o),Me("load",o);break;case"details":Me("toggle",o);break;case"input":jd(o,l),Me("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},Me("invalid",o);break;case"textarea":Id(o,l),Me("invalid",o)}Ql(i,l),s=null;for(var c in l)if(l.hasOwnProperty(c)){var p=l[c];c==="children"?typeof p=="string"?o.textContent!==p&&(l.suppressHydrationWarning!==!0&&ks(o.textContent,p,e),s=["children",p]):typeof p=="number"&&o.textContent!==""+p&&(l.suppressHydrationWarning!==!0&&ks(o.textContent,p,e),s=["children",""+p]):_o.hasOwnProperty(c)&&p!=null&&c==="onScroll"&&Me("scroll",o)}switch(i){case"input":ps(o),Od(o,l,!0);break;case"textarea":ps(o),zd(o);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(o.onclick=Js)}o=s,t.updateQueue=o,o!==null&&(t.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_h(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=c.createElement(i,{is:o.is}):(e=c.createElement(i),i==="select"&&(c=e,o.multiple?c.multiple=!0:o.size&&(c.size=o.size))):e=c.createElementNS(e,i),e[xn]=t,e[Lo]=o,$p(e,t,!1,!1),t.stateNode=e;e:{switch(c=ql(i,o),i){case"dialog":Me("cancel",e),Me("close",e),s=o;break;case"iframe":case"object":case"embed":Me("load",e),s=o;break;case"video":case"audio":for(s=0;s<ro.length;s++)Me(ro[s],e);s=o;break;case"source":Me("error",e),s=o;break;case"img":case"image":case"link":Me("error",e),Me("load",e),s=o;break;case"details":Me("toggle",e),s=o;break;case"input":jd(e,o),s=Wl(e,o),Me("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=Be({},o,{value:void 0}),Me("invalid",e);break;case"textarea":Id(e,o),s=Kl(e,o),Me("invalid",e);break;default:s=o}Ql(i,s),p=s;for(l in p)if(p.hasOwnProperty(l)){var h=p[l];l==="style"?wh(e,h):l==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&yh(e,h)):l==="children"?typeof h=="string"?(i!=="textarea"||h!=="")&&yo(e,h):typeof h=="number"&&yo(e,""+h):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(_o.hasOwnProperty(l)?h!=null&&l==="onScroll"&&Me("scroll",e):h!=null&&Yu(e,l,h,c))}switch(i){case"input":ps(e),Od(e,o,!1);break;case"textarea":ps(e),zd(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ri(o.value));break;case"select":e.multiple=!!o.multiple,l=o.value,l!=null?hr(e,!!o.multiple,l,!1):o.defaultValue!=null&&hr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Js)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Up(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(W(166));if(i=Ci(No.current),Ci(kn.current),bs(t)){if(o=t.stateNode,i=t.memoizedProps,o[xn]=t,(l=o.nodeValue!==i)&&(e=jt,e!==null))switch(e.tag){case 3:ks(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(o.nodeValue,i,(e.mode&1)!==0)}l&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[xn]=t,t.stateNode=o}return lt(t),null;case 13:if(je(Ae),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Mt!==null&&t.mode&1&&!(t.flags&128))lp(),kr(),t.flags|=98560,l=!1;else if(l=bs(t),o!==null&&o.dehydrated!==null){if(e===null){if(!l)throw Error(W(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(W(317));l[xn]=t}else kr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),l=!1}else sn!==null&&(ju(sn),sn=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Ae.current&1?Xe===0&&(Xe=3):Nc())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return Sr(),Su(e,t),e===null&&Po(t.stateNode.containerInfo),lt(t),null;case 10:return hc(t.type._context),lt(t),null;case 17:return Pt(t.type)&&ea(),lt(t),null;case 19:if(je(Ae),l=t.memoizedState,l===null)return lt(t),null;if(o=(t.flags&128)!==0,c=l.rendering,c===null)if(o)Qr(l,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=aa(e),c!==null){for(t.flags|=128,Qr(l,!1),o=c.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)l=i,e=o,l.flags&=14680066,c=l.alternate,c===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,e=c.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ee(Ae,Ae.current&1|2),t.child}e=e.sibling}l.tail!==null&&He()>Pr&&(t.flags|=128,o=!0,Qr(l,!1),t.lanes=4194304)}else{if(!o)if(e=aa(c),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Qr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Ie)return lt(t),null}else 2*He()-l.renderingStartTime>Pr&&i!==1073741824&&(t.flags|=128,o=!0,Qr(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(i=l.last,i!==null?i.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=He(),t.sibling=null,i=Ae.current,Ee(Ae,o?i&1|2:i&1),t):(lt(t),null);case 22:case 23:return Tc(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Nt&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function E_(e,t){switch(uc(t),t.tag){case 1:return Pt(t.type)&&ea(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sr(),je(Ct),je(ct),_c(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vc(t),null;case 13:if(je(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));kr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(Ae),null;case 4:return Sr(),null;case 10:return hc(t.type._context),null;case 22:case 23:return Tc(),null;case 24:return null;default:return null}}var Ps=!1,ut=!1,L_=typeof WeakSet=="function"?WeakSet:Set,ie=null;function dr(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Fe(e,t,o)}else i.current=null}function Cu(e,t,i){try{i()}catch(o){Fe(e,t,o)}}var Cf=!1;function T_(e,t){if(lu=Xs,e=Kh(),ac(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var s=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var c=0,p=-1,h=-1,g=0,k=0,y=e,w=null;t:for(;;){for(var E;y!==i||s!==0&&y.nodeType!==3||(p=c+s),y!==l||o!==0&&y.nodeType!==3||(h=c+o),y.nodeType===3&&(c+=y.nodeValue.length),(E=y.firstChild)!==null;)w=y,y=E;for(;;){if(y===e)break t;if(w===i&&++g===s&&(p=c),w===l&&++k===o&&(h=c),(E=y.nextSibling)!==null)break;y=w,w=y.parentNode}y=E}i=p===-1||h===-1?null:{start:p,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(uu={focusedElem:e,selectionRange:i},Xs=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var M=j.memoizedProps,K=j.memoizedState,_=t.stateNode,v=_.getSnapshotBeforeUpdate(t.elementType===t.type?M:rn(t.type,M),K);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(O){Fe(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return j=Cf,Cf=!1,j}function fo(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Cu(t,i,l)}s=s.next}while(s!==o)}}function Ca(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Pu(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Vp(e){var t=e.alternate;t!==null&&(e.alternate=null,Vp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[Lo],delete t[fu],delete t[d_],delete t[f_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wp(e){return e.tag===5||e.tag===3||e.tag===4}function Pf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eu(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Js));else if(o!==4&&(e=e.child,e!==null))for(Eu(e,t,i),e=e.sibling;e!==null;)Eu(e,t,i),e=e.sibling}function Lu(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Lu(e,t,i),e=e.sibling;e!==null;)Lu(e,t,i),e=e.sibling}var nt=null,on=!1;function Hn(e,t,i){for(i=i.child;i!==null;)Gp(e,t,i),i=i.sibling}function Gp(e,t,i){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(va,i)}catch{}switch(i.tag){case 5:ut||dr(i,t);case 6:var o=nt,s=on;nt=null,Hn(e,t,i),nt=o,on=s,nt!==null&&(on?(e=nt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):nt.removeChild(i.stateNode));break;case 18:nt!==null&&(on?(e=nt,i=i.stateNode,e.nodeType===8?Pl(e.parentNode,i):e.nodeType===1&&Pl(e,i),bo(e)):Pl(nt,i.stateNode));break;case 4:o=nt,s=on,nt=i.stateNode.containerInfo,on=!0,Hn(e,t,i),nt=o,on=s;break;case 0:case 11:case 14:case 15:if(!ut&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var l=s,c=l.destroy;l=l.tag,c!==void 0&&(l&2||l&4)&&Cu(i,t,c),s=s.next}while(s!==o)}Hn(e,t,i);break;case 1:if(!ut&&(dr(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(p){Fe(i,t,p)}Hn(e,t,i);break;case 21:Hn(e,t,i);break;case 22:i.mode&1?(ut=(o=ut)||i.memoizedState!==null,Hn(e,t,i),ut=o):Hn(e,t,i);break;default:Hn(e,t,i)}}function Ef(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new L_),t.forEach(function(o){var s=D_.bind(null,e,o);i.has(o)||(i.add(o),o.then(s,s))})}}function nn(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var s=i[o];try{var l=e,c=t,p=c;e:for(;p!==null;){switch(p.tag){case 5:nt=p.stateNode,on=!1;break e;case 3:nt=p.stateNode.containerInfo,on=!0;break e;case 4:nt=p.stateNode.containerInfo,on=!0;break e}p=p.return}if(nt===null)throw Error(W(160));Gp(l,c,s),nt=null,on=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(g){Fe(s,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yp(t,e),t=t.sibling}function Yp(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),_n(e),o&4){try{fo(3,e,e.return),Ca(3,e)}catch(M){Fe(e,e.return,M)}try{fo(5,e,e.return)}catch(M){Fe(e,e.return,M)}}break;case 1:nn(t,e),_n(e),o&512&&i!==null&&dr(i,i.return);break;case 5:if(nn(t,e),_n(e),o&512&&i!==null&&dr(i,i.return),e.flags&32){var s=e.stateNode;try{yo(s,"")}catch(M){Fe(e,e.return,M)}}if(o&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,c=i!==null?i.memoizedProps:l,p=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{p==="input"&&l.type==="radio"&&l.name!=null&&gh(s,l),ql(p,c);var g=ql(p,l);for(c=0;c<h.length;c+=2){var k=h[c],y=h[c+1];k==="style"?wh(s,y):k==="dangerouslySetInnerHTML"?yh(s,y):k==="children"?yo(s,y):Yu(s,k,y,g)}switch(p){case"input":Gl(s,l);break;case"textarea":vh(s,l);break;case"select":var w=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var E=l.value;E!=null?hr(s,!!l.multiple,E,!1):w!==!!l.multiple&&(l.defaultValue!=null?hr(s,!!l.multiple,l.defaultValue,!0):hr(s,!!l.multiple,l.multiple?[]:"",!1))}s[Lo]=l}catch(M){Fe(e,e.return,M)}}break;case 6:if(nn(t,e),_n(e),o&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(M){Fe(e,e.return,M)}}break;case 3:if(nn(t,e),_n(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{bo(t.containerInfo)}catch(M){Fe(e,e.return,M)}break;case 4:nn(t,e),_n(e);break;case 13:nn(t,e),_n(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Ec=He())),o&4&&Ef(e);break;case 22:if(k=i!==null&&i.memoizedState!==null,e.mode&1?(ut=(g=ut)||k,nn(t,e),ut=g):nn(t,e),_n(e),o&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!k&&e.mode&1)for(ie=e,k=e.child;k!==null;){for(y=ie=k;ie!==null;){switch(w=ie,E=w.child,w.tag){case 0:case 11:case 14:case 15:fo(4,w,w.return);break;case 1:dr(w,w.return);var j=w.stateNode;if(typeof j.componentWillUnmount=="function"){o=w,i=w.return;try{t=o,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(M){Fe(o,i,M)}}break;case 5:dr(w,w.return);break;case 22:if(w.memoizedState!==null){Tf(y);continue}}E!==null?(E.return=w,ie=E):Tf(y)}k=k.sibling}e:for(k=null,y=e;;){if(y.tag===5){if(k===null){k=y;try{s=y.stateNode,g?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(p=y.stateNode,h=y.memoizedProps.style,c=h!=null&&h.hasOwnProperty("display")?h.display:null,p.style.display=xh("display",c))}catch(M){Fe(e,e.return,M)}}}else if(y.tag===6){if(k===null)try{y.stateNode.nodeValue=g?"":y.memoizedProps}catch(M){Fe(e,e.return,M)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;k===y&&(k=null),y=y.return}k===y&&(k=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:nn(t,e),_n(e),o&4&&Ef(e);break;case 21:break;default:nn(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Wp(i)){var o=i;break e}i=i.return}throw Error(W(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(yo(s,""),o.flags&=-33);var l=Pf(e);Lu(e,l,s);break;case 3:case 4:var c=o.stateNode.containerInfo,p=Pf(e);Eu(e,p,c);break;default:throw Error(W(161))}}catch(h){Fe(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function N_(e,t,i){ie=e,Kp(e)}function Kp(e,t,i){for(var o=(e.mode&1)!==0;ie!==null;){var s=ie,l=s.child;if(s.tag===22&&o){var c=s.memoizedState!==null||Ps;if(!c){var p=s.alternate,h=p!==null&&p.memoizedState!==null||ut;p=Ps;var g=ut;if(Ps=c,(ut=h)&&!g)for(ie=s;ie!==null;)c=ie,h=c.child,c.tag===22&&c.memoizedState!==null?Nf(s):h!==null?(h.return=c,ie=h):Nf(s);for(;l!==null;)ie=l,Kp(l),l=l.sibling;ie=s,Ps=p,ut=g}Lf(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,ie=l):Lf(e)}}function Lf(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ut||Ca(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!ut)if(i===null)o.componentDidMount();else{var s=t.elementType===t.type?i.memoizedProps:rn(t.type,i.memoizedProps);o.componentDidUpdate(s,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&ff(t,l,o);break;case 3:var c=t.updateQueue;if(c!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}ff(t,c,i)}break;case 5:var p=t.stateNode;if(i===null&&t.flags&4){i=p;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var k=g.memoizedState;if(k!==null){var y=k.dehydrated;y!==null&&bo(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ut||t.flags&512&&Pu(t)}catch(w){Fe(t,t.return,w)}}if(t===e){ie=null;break}if(i=t.sibling,i!==null){i.return=t.return,ie=i;break}ie=t.return}}function Tf(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var i=t.sibling;if(i!==null){i.return=t.return,ie=i;break}ie=t.return}}function Nf(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ca(4,t)}catch(h){Fe(t,i,h)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var s=t.return;try{o.componentDidMount()}catch(h){Fe(t,s,h)}}var l=t.return;try{Pu(t)}catch(h){Fe(t,l,h)}break;case 5:var c=t.return;try{Pu(t)}catch(h){Fe(t,c,h)}}}catch(h){Fe(t,t.return,h)}if(t===e){ie=null;break}var p=t.sibling;if(p!==null){p.return=t.return,ie=p;break}ie=t.return}}var M_=Math.ceil,ca=An.ReactCurrentDispatcher,Cc=An.ReactCurrentOwner,Vt=An.ReactCurrentBatchConfig,ke=0,et=null,Ve=null,it=0,Nt=0,fr=ai(0),Xe=0,Io=null,ji=0,Pa=0,Pc=0,ho=null,bt=null,Ec=0,Pr=1/0,Ln=null,da=!1,Tu=null,ti=null,Es=!1,Kn=null,fa=0,po=0,Nu=null,Fs=-1,$s=0;function ht(){return ke&6?He():Fs!==-1?Fs:Fs=He()}function ni(e){return e.mode&1?ke&2&&it!==0?it&-it:p_.transition!==null?($s===0&&($s=Oh()),$s):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Zh(e.type)),e):1}function ln(e,t,i,o){if(50<po)throw po=0,Nu=null,Error(W(185));Do(e,i,o),(!(ke&2)||e!==et)&&(e===et&&(!(ke&2)&&(Pa|=i),Xe===4&&Gn(e,it)),Et(e,o),i===1&&ke===0&&!(t.mode&1)&&(Pr=He()+500,ka&&li()))}function Et(e,t){var i=e.callbackNode;pv(e,t);var o=Ks(e,e===et?it:0);if(o===0)i!==null&&Dd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&Dd(i),t===1)e.tag===0?h_(Mf.bind(null,e)):op(Mf.bind(null,e)),u_(function(){!(ke&6)&&li()}),i=null;else{switch(Ih(o)){case 1:i=Ju;break;case 4:i=Mh;break;case 16:i=Ys;break;case 536870912:i=jh;break;default:i=Ys}i=im(i,Xp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Xp(e,t){if(Fs=-1,$s=0,ke&6)throw Error(W(327));var i=e.callbackNode;if(_r()&&e.callbackNode!==i)return null;var o=Ks(e,e===et?it:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=ha(e,o);else{t=o;var s=ke;ke|=2;var l=qp();(et!==e||it!==t)&&(Ln=null,Pr=He()+500,Ei(e,t));do try{I_();break}catch(p){Qp(e,p)}while(!0);fc(),ca.current=l,ke=s,Ve!==null?t=0:(et=null,it=0,t=Xe)}if(t!==0){if(t===2&&(s=iu(e),s!==0&&(o=s,t=Mu(e,s))),t===1)throw i=Io,Ei(e,0),Gn(e,o),Et(e,He()),i;if(t===6)Gn(e,o);else{if(s=e.current.alternate,!(o&30)&&!j_(s)&&(t=ha(e,o),t===2&&(l=iu(e),l!==0&&(o=l,t=Mu(e,l))),t===1))throw i=Io,Ei(e,0),Gn(e,o),Et(e,He()),i;switch(e.finishedWork=s,e.finishedLanes=o,t){case 0:case 1:throw Error(W(345));case 2:ki(e,bt,Ln);break;case 3:if(Gn(e,o),(o&130023424)===o&&(t=Ec+500-He(),10<t)){if(Ks(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){ht(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=du(ki.bind(null,e,bt,Ln),t);break}ki(e,bt,Ln);break;case 4:if(Gn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,s=-1;0<o;){var c=31-an(o);l=1<<c,c=t[c],c>s&&(s=c),o&=~l}if(o=s,o=He()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*M_(o/1960))-o,10<o){e.timeoutHandle=du(ki.bind(null,e,bt,Ln),o);break}ki(e,bt,Ln);break;case 5:ki(e,bt,Ln);break;default:throw Error(W(329))}}}return Et(e,He()),e.callbackNode===i?Xp.bind(null,e):null}function Mu(e,t){var i=ho;return e.current.memoizedState.isDehydrated&&(Ei(e,t).flags|=256),e=ha(e,t),e!==2&&(t=bt,bt=i,t!==null&&ju(t)),e}function ju(e){bt===null?bt=e:bt.push.apply(bt,e)}function j_(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var s=i[o],l=s.getSnapshot;s=s.value;try{if(!un(l(),s))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t){for(t&=~Pc,t&=~Pa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-an(t),o=1<<i;e[i]=-1,t&=~o}}function Mf(e){if(ke&6)throw Error(W(327));_r();var t=Ks(e,0);if(!(t&1))return Et(e,He()),null;var i=ha(e,t);if(e.tag!==0&&i===2){var o=iu(e);o!==0&&(t=o,i=Mu(e,o))}if(i===1)throw i=Io,Ei(e,0),Gn(e,t),Et(e,He()),i;if(i===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ki(e,bt,Ln),Et(e,He()),null}function Lc(e,t){var i=ke;ke|=1;try{return e(t)}finally{ke=i,ke===0&&(Pr=He()+500,ka&&li())}}function Oi(e){Kn!==null&&Kn.tag===0&&!(ke&6)&&_r();var t=ke;ke|=1;var i=Vt.transition,o=Ce;try{if(Vt.transition=null,Ce=1,e)return e()}finally{Ce=o,Vt.transition=i,ke=t,!(ke&6)&&li()}}function Tc(){Nt=fr.current,je(fr)}function Ei(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,l_(i)),Ve!==null)for(i=Ve.return;i!==null;){var o=i;switch(uc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ea();break;case 3:Sr(),je(Ct),je(ct),_c();break;case 5:vc(o);break;case 4:Sr();break;case 13:je(Ae);break;case 19:je(Ae);break;case 10:hc(o.type._context);break;case 22:case 23:Tc()}i=i.return}if(et=e,Ve=e=ii(e.current,null),it=Nt=t,Xe=0,Io=null,Pc=Pa=ji=0,bt=ho=null,Si!==null){for(t=0;t<Si.length;t++)if(i=Si[t],o=i.interleaved,o!==null){i.interleaved=null;var s=o.next,l=i.pending;if(l!==null){var c=l.next;l.next=s,o.next=c}i.pending=o}Si=null}return e}function Qp(e,t){do{var i=Ve;try{if(fc(),Ds.current=ua,la){for(var o=De.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}la=!1}if(Mi=0,Je=Ke=De=null,co=!1,Mo=0,Cc.current=null,i===null||i.return===null){Xe=1,Io=t,Ve=null;break}e:{var l=e,c=i.return,p=i,h=t;if(t=it,p.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var g=h,k=p,y=k.tag;if(!(k.mode&1)&&(y===0||y===11||y===15)){var w=k.alternate;w?(k.updateQueue=w.updateQueue,k.memoizedState=w.memoizedState,k.lanes=w.lanes):(k.updateQueue=null,k.memoizedState=null)}var E=_f(c);if(E!==null){E.flags&=-257,yf(E,c,p,l,t),E.mode&1&&vf(l,g,t),t=E,h=g;var j=t.updateQueue;if(j===null){var M=new Set;M.add(h),t.updateQueue=M}else j.add(h);break e}else{if(!(t&1)){vf(l,g,t),Nc();break e}h=Error(W(426))}}else if(Ie&&p.mode&1){var K=_f(c);if(K!==null){!(K.flags&65536)&&(K.flags|=256),yf(K,c,p,l,t),cc(Cr(h,p));break e}}l=h=Cr(h,p),Xe!==4&&(Xe=2),ho===null?ho=[l]:ho.push(l),l=c;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var _=Ip(l,h,t);df(l,_);break e;case 1:p=h;var v=l.type,b=l.stateNode;if(!(l.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ti===null||!ti.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t;var O=zp(l,p,t);df(l,O);break e}}l=l.return}while(l!==null)}em(i)}catch(F){t=F,Ve===i&&i!==null&&(Ve=i=i.return);continue}break}while(!0)}function qp(){var e=ca.current;return ca.current=ua,e===null?ua:e}function Nc(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),et===null||!(ji&268435455)&&!(Pa&268435455)||Gn(et,it)}function ha(e,t){var i=ke;ke|=2;var o=qp();(et!==e||it!==t)&&(Ln=null,Ei(e,t));do try{O_();break}catch(s){Qp(e,s)}while(!0);if(fc(),ke=i,ca.current=o,Ve!==null)throw Error(W(261));return et=null,it=0,Xe}function O_(){for(;Ve!==null;)Jp(Ve)}function I_(){for(;Ve!==null&&!ov();)Jp(Ve)}function Jp(e){var t=nm(e.alternate,e,Nt);e.memoizedProps=e.pendingProps,t===null?em(e):Ve=t,Cc.current=null}function em(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=E_(i,t),i!==null){i.flags&=32767,Ve=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Ve=null;return}}else if(i=P_(i,t,Nt),i!==null){Ve=i;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Xe===0&&(Xe=5)}function ki(e,t,i){var o=Ce,s=Vt.transition;try{Vt.transition=null,Ce=1,z_(e,t,i,o)}finally{Vt.transition=s,Ce=o}return null}function z_(e,t,i,o){do _r();while(Kn!==null);if(ke&6)throw Error(W(327));i=e.finishedWork;var s=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var l=i.lanes|i.childLanes;if(mv(e,l),e===et&&(Ve=et=null,it=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Es||(Es=!0,im(Ys,function(){return _r(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=Vt.transition,Vt.transition=null;var c=Ce;Ce=1;var p=ke;ke|=4,Cc.current=null,T_(e,i),Yp(i,e),t_(uu),Xs=!!lu,uu=lu=null,e.current=i,N_(i),sv(),ke=p,Ce=c,Vt.transition=l}else e.current=i;if(Es&&(Es=!1,Kn=e,fa=s),l=e.pendingLanes,l===0&&(ti=null),uv(i.stateNode),Et(e,He()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)s=t[i],o(s.value,{componentStack:s.stack,digest:s.digest});if(da)throw da=!1,e=Tu,Tu=null,e;return fa&1&&e.tag!==0&&_r(),l=e.pendingLanes,l&1?e===Nu?po++:(po=0,Nu=e):po=0,li(),null}function _r(){if(Kn!==null){var e=Ih(fa),t=Vt.transition,i=Ce;try{if(Vt.transition=null,Ce=16>e?16:e,Kn===null)var o=!1;else{if(e=Kn,Kn=null,fa=0,ke&6)throw Error(W(331));var s=ke;for(ke|=4,ie=e.current;ie!==null;){var l=ie,c=l.child;if(ie.flags&16){var p=l.deletions;if(p!==null){for(var h=0;h<p.length;h++){var g=p[h];for(ie=g;ie!==null;){var k=ie;switch(k.tag){case 0:case 11:case 15:fo(8,k,l)}var y=k.child;if(y!==null)y.return=k,ie=y;else for(;ie!==null;){k=ie;var w=k.sibling,E=k.return;if(Vp(k),k===g){ie=null;break}if(w!==null){w.return=E,ie=w;break}ie=E}}}var j=l.alternate;if(j!==null){var M=j.child;if(M!==null){j.child=null;do{var K=M.sibling;M.sibling=null,M=K}while(M!==null)}}ie=l}}if(l.subtreeFlags&2064&&c!==null)c.return=l,ie=c;else e:for(;ie!==null;){if(l=ie,l.flags&2048)switch(l.tag){case 0:case 11:case 15:fo(9,l,l.return)}var _=l.sibling;if(_!==null){_.return=l.return,ie=_;break e}ie=l.return}}var v=e.current;for(ie=v;ie!==null;){c=ie;var b=c.child;if(c.subtreeFlags&2064&&b!==null)b.return=c,ie=b;else e:for(c=v;ie!==null;){if(p=ie,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:Ca(9,p)}}catch(F){Fe(p,p.return,F)}if(p===c){ie=null;break e}var O=p.sibling;if(O!==null){O.return=p.return,ie=O;break e}ie=p.return}}if(ke=s,li(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(va,e)}catch{}o=!0}return o}finally{Ce=i,Vt.transition=t}}return!1}function jf(e,t,i){t=Cr(i,t),t=Ip(e,t,1),e=ei(e,t,1),t=ht(),e!==null&&(Do(e,1,t),Et(e,t))}function Fe(e,t,i){if(e.tag===3)jf(e,e,i);else for(;t!==null;){if(t.tag===3){jf(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ti===null||!ti.has(o))){e=Cr(i,e),e=zp(t,e,1),t=ei(t,e,1),e=ht(),t!==null&&(Do(t,1,e),Et(t,e));break}}t=t.return}}function R_(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&i,et===e&&(it&i)===i&&(Xe===4||Xe===3&&(it&130023424)===it&&500>He()-Ec?Ei(e,0):Pc|=i),Et(e,t)}function tm(e,t){t===0&&(e.mode&1?(t=vs,vs<<=1,!(vs&130023424)&&(vs=4194304)):t=1);var i=ht();e=zn(e,t),e!==null&&(Do(e,t,i),Et(e,i))}function A_(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),tm(e,i)}function D_(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(i=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(W(314))}o!==null&&o.delete(t),tm(e,i)}var nm;nm=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)St=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return St=!1,C_(e,t,i);St=!!(e.flags&131072)}else St=!1,Ie&&t.flags&1048576&&sp(t,ia,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Zs(e,t),e=t.pendingProps;var s=wr(t,ct.current);vr(t,i),s=xc(null,t,o,e,s,i);var l=wc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(o)?(l=!0,ta(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,mc(t),s.updater=Sa,t.stateNode=s,s._reactInternals=t,_u(t,o,e,i),t=wu(null,t,o,!0,l,i)):(t.tag=0,Ie&&l&&lc(t),ft(null,t,s,i),t=t.child),t;case 16:o=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=Z_(o),e=rn(o,e),s){case 0:t=xu(null,t,o,e,i);break e;case 1:t=kf(null,t,o,e,i);break e;case 11:t=xf(null,t,o,e,i);break e;case 14:t=wf(null,t,o,rn(o.type,e),i);break e}throw Error(W(306,o,""))}return t;case 0:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:rn(o,s),xu(e,t,o,s,i);case 1:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:rn(o,s),kf(e,t,o,s,i);case 3:e:{if(Bp(t),e===null)throw Error(W(387));o=t.pendingProps,l=t.memoizedState,s=l.element,fp(e,t),sa(t,o,null,i);var c=t.memoizedState;if(o=c.element,l.isDehydrated)if(l={element:o,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Cr(Error(W(423)),t),t=bf(e,t,o,i,s);break e}else if(o!==s){s=Cr(Error(W(424)),t),t=bf(e,t,o,i,s);break e}else for(Mt=Jn(t.stateNode.containerInfo.firstChild),jt=t,Ie=!0,sn=null,i=cp(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(kr(),o===s){t=Rn(e,t,i);break e}ft(e,t,o,i)}t=t.child}return t;case 5:return hp(t),e===null&&mu(t),o=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,c=s.children,cu(o,s)?c=null:l!==null&&cu(o,l)&&(t.flags|=32),Dp(e,t),ft(e,t,c,i),t.child;case 6:return e===null&&mu(t),null;case 13:return Zp(e,t,i);case 4:return gc(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=br(t,null,o,i):ft(e,t,o,i),t.child;case 11:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:rn(o,s),xf(e,t,o,s,i);case 7:return ft(e,t,t.pendingProps,i),t.child;case 8:return ft(e,t,t.pendingProps.children,i),t.child;case 12:return ft(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,s=t.pendingProps,l=t.memoizedProps,c=s.value,Ee(ra,o._currentValue),o._currentValue=c,l!==null)if(un(l.value,c)){if(l.children===s.children&&!Ct.current){t=Rn(e,t,i);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var p=l.dependencies;if(p!==null){c=l.child;for(var h=p.firstContext;h!==null;){if(h.context===o){if(l.tag===1){h=jn(-1,i&-i),h.tag=2;var g=l.updateQueue;if(g!==null){g=g.shared;var k=g.pending;k===null?h.next=h:(h.next=k.next,k.next=h),g.pending=h}}l.lanes|=i,h=l.alternate,h!==null&&(h.lanes|=i),gu(l.return,i,t),p.lanes|=i;break}h=h.next}}else if(l.tag===10)c=l.type===t.type?null:l.child;else if(l.tag===18){if(c=l.return,c===null)throw Error(W(341));c.lanes|=i,p=c.alternate,p!==null&&(p.lanes|=i),gu(c,i,t),c=l.sibling}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===t){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}ft(e,t,s.children,i),t=t.child}return t;case 9:return s=t.type,o=t.pendingProps.children,vr(t,i),s=Wt(s),o=o(s),t.flags|=1,ft(e,t,o,i),t.child;case 14:return o=t.type,s=rn(o,t.pendingProps),s=rn(o.type,s),wf(e,t,o,s,i);case 15:return Rp(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:rn(o,s),Zs(e,t),t.tag=1,Pt(o)?(e=!0,ta(t)):e=!1,vr(t,i),Op(t,o,s),_u(t,o,s,i),wu(null,t,o,!0,e,i);case 19:return Fp(e,t,i);case 22:return Ap(e,t,i)}throw Error(W(156,t.tag))};function im(e,t){return Nh(e,t)}function B_(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,i,o){return new B_(e,t,i,o)}function Mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Z_(e){if(typeof e=="function")return Mc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xu)return 11;if(e===Qu)return 14}return 2}function ii(e,t){var i=e.alternate;return i===null?(i=Ut(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Hs(e,t,i,o,s,l){var c=2;if(o=e,typeof e=="function")Mc(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case nr:return Li(i.children,s,l,t);case Ku:c=8,s|=8;break;case $l:return e=Ut(12,i,t,s|2),e.elementType=$l,e.lanes=l,e;case Hl:return e=Ut(13,i,t,s),e.elementType=Hl,e.lanes=l,e;case Ul:return e=Ut(19,i,t,s),e.elementType=Ul,e.lanes=l,e;case hh:return Ea(i,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dh:c=10;break e;case fh:c=9;break e;case Xu:c=11;break e;case Qu:c=14;break e;case Un:c=16,o=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Ut(c,i,t,s),t.elementType=e,t.type=o,t.lanes=l,t}function Li(e,t,i,o){return e=Ut(7,e,o,t),e.lanes=i,e}function Ea(e,t,i,o){return e=Ut(22,e,o,t),e.elementType=hh,e.lanes=i,e.stateNode={isHidden:!1},e}function Il(e,t,i){return e=Ut(6,e,null,t),e.lanes=i,e}function zl(e,t,i){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function F_(e,t,i,o,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jc(e,t,i,o,s,l,c,p,h){return e=new F_(e,t,i,p,h),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ut(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},mc(l),e}function $_(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tr,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function rm(e){if(!e)return oi;e=e._reactInternals;e:{if(zi(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var i=e.type;if(Pt(i))return rp(e,i,t)}return t}function om(e,t,i,o,s,l,c,p,h){return e=jc(i,o,!0,e,s,l,c,p,h),e.context=rm(null),i=e.current,o=ht(),s=ni(i),l=jn(o,s),l.callback=t??null,ei(i,l,s),e.current.lanes=s,Do(e,s,o),Et(e,o),e}function La(e,t,i,o){var s=t.current,l=ht(),c=ni(s);return i=rm(i),t.context===null?t.context=i:t.pendingContext=i,t=jn(l,c),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=ei(s,t,c),e!==null&&(ln(e,s,c,l),As(e,s,c)),c}function pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Of(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Oc(e,t){Of(e,t),(e=e.alternate)&&Of(e,t)}function H_(){return null}var sm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ic(e){this._internalRoot=e}Ta.prototype.render=Ic.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));La(e,t,null,null)};Ta.prototype.unmount=Ic.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oi(function(){La(null,e,null,null)}),t[In]=null}};function Ta(e){this._internalRoot=e}Ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ah();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Wn.length&&t!==0&&t<Wn[i].priority;i++);Wn.splice(i,0,e),i===0&&Bh(e)}};function zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function If(){}function U_(e,t,i,o,s){if(s){if(typeof o=="function"){var l=o;o=function(){var g=pa(c);l.call(g)}}var c=om(t,o,e,0,null,!1,!1,"",If);return e._reactRootContainer=c,e[In]=c.current,Po(e.nodeType===8?e.parentNode:e),Oi(),c}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var p=o;o=function(){var g=pa(h);p.call(g)}}var h=jc(e,0,!1,null,null,!1,!1,"",If);return e._reactRootContainer=h,e[In]=h.current,Po(e.nodeType===8?e.parentNode:e),Oi(function(){La(t,h,i,o)}),h}function Ma(e,t,i,o,s){var l=i._reactRootContainer;if(l){var c=l;if(typeof s=="function"){var p=s;s=function(){var h=pa(c);p.call(h)}}La(t,c,e,s)}else c=U_(i,t,e,s,o);return pa(c)}zh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=io(t.pendingLanes);i!==0&&(ec(t,i|1),Et(t,He()),!(ke&6)&&(Pr=He()+500,li()))}break;case 13:Oi(function(){var o=zn(e,1);if(o!==null){var s=ht();ln(o,e,1,s)}}),Oc(e,1)}};tc=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var i=ht();ln(t,e,134217728,i)}Oc(e,134217728)}};Rh=function(e){if(e.tag===13){var t=ni(e),i=zn(e,t);if(i!==null){var o=ht();ln(i,e,t,o)}Oc(e,t)}};Ah=function(){return Ce};Dh=function(e,t){var i=Ce;try{return Ce=e,t()}finally{Ce=i}};eu=function(e,t,i){switch(t){case"input":if(Gl(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var s=wa(o);if(!s)throw Error(W(90));mh(o),Gl(o,s)}}}break;case"textarea":vh(e,i);break;case"select":t=i.value,t!=null&&hr(e,!!i.multiple,t,!1)}};Sh=Lc;Ch=Oi;var V_={usingClientEntryPoint:!1,Events:[Zo,sr,wa,kh,bh,Lc]},qr={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W_={bundleType:qr.bundleType,version:qr.version,rendererPackageName:qr.rendererPackageName,rendererConfig:qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lh(e),e===null?null:e.stateNode},findFiberByHostInstance:qr.findFiberByHostInstance||H_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{va=Ls.inject(W_),wn=Ls}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V_;It.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zc(t))throw Error(W(200));return $_(e,t,null,i)};It.createRoot=function(e,t){if(!zc(e))throw Error(W(299));var i=!1,o="",s=sm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jc(e,1,!1,null,null,i,!1,o,s),e[In]=t.current,Po(e.nodeType===8?e.parentNode:e),new Ic(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Lh(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return Oi(e)};It.hydrate=function(e,t,i){if(!Na(t))throw Error(W(200));return Ma(null,e,t,!0,i)};It.hydrateRoot=function(e,t,i){if(!zc(e))throw Error(W(405));var o=i!=null&&i.hydratedSources||null,s=!1,l="",c=sm;if(i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),t=om(t,null,e,1,i??null,s,!1,l,c),e[In]=t.current,Po(e),o)for(e=0;e<o.length;e++)i=o[e],s=i._getVersion,s=s(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,s]:t.mutableSourceEagerHydrationData.push(i,s);return new Ta(t)};It.render=function(e,t,i){if(!Na(t))throw Error(W(200));return Ma(null,e,t,!1,i)};It.unmountComponentAtNode=function(e){if(!Na(e))throw Error(W(40));return e._reactRootContainer?(Oi(function(){Ma(null,null,e,!1,function(){e._reactRootContainer=null,e[In]=null})}),!0):!1};It.unstable_batchedUpdates=Lc;It.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Na(i))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Ma(e,t,i,!1,o)};It.version="18.3.1-next-f1338f8080-20240426";function am(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(am)}catch(e){console.error(e)}}am(),ah.exports=It;var G_=ah.exports,zf=G_;Zl.createRoot=zf.createRoot,Zl.hydrateRoot=zf.hydrateRoot;var Ou={exports:{}};/*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License */(function(e,t){(function(i,o){o(t)})(Zu,function(i){var o="dnd-poly-",s=["none","copy","copyLink","copyMove","link","linkMove","move","all"],l=["none","copy","move","link"];function c(){var N=!1;try{var B=Object.defineProperty({},"passive",{get:function(){N=!0}});window.addEventListener("test",null,B)}catch{}return N}var p=c();function h(N){return N&&N.tagName}function g(N,B,X){document.addEventListener(N,B,!!p&&{passive:X})}function k(N,B){document.removeEventListener(N,B)}function y(N,B,X,Y){Y===void 0&&(Y=!1);var ee=p?{passive:!0,capture:Y}:Y;return N.addEventListener(B,X,ee),{off:function(){N.removeEventListener(B,X,ee)}}}function w(N){return N.length===0?0:N.reduce(function(B,X){return X+B},0)/N.length}function E(N,B){for(var X=0;X<N.changedTouches.length;X++)if(N.changedTouches[X].identifier===B)return!0;return!1}function j(N,B,X){for(var Y=[],ee=[],P=0;P<B.touches.length;P++){var H=B.touches[P];Y.push(H[N+"X"]),ee.push(H[N+"Y"])}X.x=w(Y),X.y=w(ee)}var M=["","-webkit-"];function K(N,H,X,Y,ee){var P=H.x,H=H.y;Y&&(P+=Y.x,H+=Y.y),(ee=ee===void 0||ee)&&(P-=parseInt(N.offsetWidth,10)/2,H-=parseInt(N.offsetHeight,10)/2);for(var A="translate3d("+P+"px,"+H+"px, 0)",V=0;V<M.length;V++){var re=M[V]+"transform";N.style[re]=A+" "+X[V]}}var _=(Object.defineProperty(v.prototype,"dropEffect",{get:function(){return this.t},set:function(N){this.i.mode!==0&&-1<s.indexOf(N)&&(this.t=N)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"types",{get:function(){if(this.i.mode!==0)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(N){this.i.mode===2&&-1<s.indexOf(N)&&(this.i.effectAllowed=N)},enumerable:!1,configurable:!0}),v.prototype.setData=function(N,B){if(this.i.mode===2){if(-1<N.indexOf(" "))throw new Error("illegal arg: type contains space");this.i.data[N]=B,this.i.types.indexOf(N)===-1&&this.i.types.push(N)}},v.prototype.getData=function(N){if(this.i.mode===1||this.i.mode===2)return this.i.data[N]||""},v.prototype.clearData=function(N){this.i.mode===2&&(N&&this.i.data[N]?(delete this.i.data[N],-1<(N=this.i.types.indexOf(N))&&this.i.types.splice(N,1)):(this.i.data={},this.i.types=[]))},v.prototype.setDragImage=function(N,B,X){this.i.mode===2&&this.h(N,B,X)},v);function v(N,B){this.i=N,this.h=B,this.t=l[0]}function b(N,B){return N?N===s[0]?l[0]:N.indexOf(s[1])===0||N===s[7]?l[1]:N.indexOf(s[4])===0?l[3]:N===s[6]?l[2]:l[1]:B.nodeType===3&&B.tagName==="A"?l[3]:l[1]}function O(N,B,X,Y,ee,P,H){return H===void 0&&(H=null),ee=function(A,V,re,ge,q,te,oe){H===void 0&&(oe=null);var fe=X.changedTouches[0],ge=new Event(N,{bubbles:!0,cancelable:ge});return ge.dataTransfer=te,ge.relatedTarget=oe,ge.screenX=fe.screenX,ge.screenY=fe.screenY,ge.clientX=fe.clientX,ge.clientY=fe.clientY,ge.pageX=fe.pageX,ge.pageY=fe.pageY,A=A.getBoundingClientRect(),ge.offsetX=ge.clientX-A.left,ge.offsetY=ge.clientY-A.top,ge}(B,0,0,P=P===void 0||P,document.defaultView,ee,H),ee=!B.dispatchEvent(ee),Y.mode=0,ee}function F(N,B){if(!N||N===s[7])return B;if(B===l[1]){if(N.indexOf(l[1])===0)return l[1]}else if(B===l[3]){if(N.indexOf(l[3])===0||-1<N.indexOf("Link"))return l[3]}else if(B===l[2]&&(N.indexOf(l[2])===0||-1<N.indexOf("Move")))return l[2];return l[0]}var G=(U.prototype.o=function(){var N=this;this.u=1,this.l=l[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var B=this.m;if(this.I=new _(this.v,function(P,H,A){B=P,typeof H!="number"&&typeof A!="number"||(N.j={x:H||0,y:A||0})}),this.v.mode=2,this.I.dropEffect=l[0],O("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;j("page",this.k,this.g);var X,Y,ee=this.S.dragImageSetup(B);return this.A=(X=ee,M.map(function(P){return P=X.style[P+"transform"],P&&P!=="none"?P.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),ee.style.position="absolute",ee.style.left="0px",ee.style.top="0px",ee.style.zIndex="999999",ee.classList.add("dnd-poly-drag-image"),ee.classList.add("dnd-poly-icon"),this.O=ee,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(Y=getComputedStyle(B),this.j={x:0-parseInt(Y.marginLeft,10),y:0-parseInt(Y.marginTop,10)}):(ee=B.getBoundingClientRect(),Y=getComputedStyle(B),this.j={x:ee.left-this.M.clientX-parseInt(Y.marginLeft,10)+ee.width/2,y:ee.top-this.M.clientY-parseInt(Y.marginTop,10)+ee.height/2})),K(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){N.F||(N.F=!0,N.N(),N.F=!1)},this.S.iterationInterval),!0},U.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),k("touchmove",this.P),k("touchend",this.T),k("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},U.prototype._=function(N){var B=this;if(E(N,this.M.identifier)!==!1){if(this.k=N,this.u===0){var X=void 0;if(this.S.dragStartConditionOverride)try{X=this.S.dragStartConditionOverride(N)}catch{X=!1}else X=N.touches.length===1;return X?void(this.o()===!0&&(this.H.preventDefault(),N.preventDefault())):void this.C()}if(N.preventDefault(),j("client",N,this.p),j("page",N,this.g),this.S.dragImageTranslateOverride)try{var Y=!1;if(this.S.dragImageTranslateOverride(N,{x:this.p.x,y:this.p.y},this.V,function(ee,P){B.O&&(Y=!0,B.p.x+=ee,B.p.y+=P,B.g.x+=ee,B.g.y+=P,K(B.O,B.g,B.A,B.j,B.S.dragImageCenterOnTouch))}),Y)return}catch{}K(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},U.prototype.X=function(N){if(E(N,this.M.identifier)!==!1){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch{}this.u!==0?(N.preventDefault(),this.u=N.type==="touchcancel"?3:2):this.C()}},U.prototype.N=function(){var N=this,B=this.l;this.v.mode=3,this.I.dropEffect=l[0];var X,Y,ee,P,H,A=O("drag",this.m,this.k,this.v,this.I);if(A&&(this.l=l[0]),A||this.u===2||this.u===3)return this.Y(this.u)?(P=this.m,X=this.O,Y=this.A,re=function(){N.q()},void((H=getComputedStyle(P)).visibility!=="hidden"&&H.display!=="none"?(X.classList.add("dnd-poly-snapback"),ee=getComputedStyle(X),A=parseFloat(ee.transitionDuration),isNaN(A)||A===0?re():((P={x:(V=P.getBoundingClientRect()).left,y:V.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,P.y+=document.body.scrollTop||document.documentElement.scrollTop,P.x-=parseInt(H.marginLeft,10),P.y-=parseInt(H.marginTop,10),V=parseFloat(ee.transitionDelay),V=Math.round(1e3*(A+V)),K(X,P,Y,void 0,!1),setTimeout(re,V))):re())):void this.q();var V=this.S.elementFromPoint(this.p.x,this.p.y),re=this.B;V!==this.V&&V!==this.B&&(this.V=V,this.B!==null&&(this.v.mode=3,this.I.dropEffect=l[0],O("dragexit",this.B,this.k,this.v,this.I,!1)),this.V===null?this.B=this.V:(this.v.mode=3,this.I.dropEffect=b(this.v.effectAllowed,this.m),O("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=F(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),re!==this.B&&h(re)&&(this.v.mode=3,this.I.dropEffect=l[0],O("dragleave",re,this.k,this.v,this.I,!1,this.B)),h(this.B)&&(this.v.mode=3,this.I.dropEffect=b(this.v.effectAllowed,this.m),O("dragover",this.B,this.k,this.v,this.I)===!1?this.l=l[0]:this.l=F(this.I.effectAllowed,this.I.dropEffect)),B!==this.l&&this.O.classList.remove(o+B),B=o+this.l,this.O.classList.add(B)},U.prototype.Y=function(N){return N=this.l===l[0]||this.B===null||N===3,N?h(this.B)&&(this.v.mode=3,this.I.dropEffect=l[0],O("dragleave",this.B,this.k,this.v,this.I,!1)):h(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,O("drop",this.B,this.k,this.v,this.I)===!0?this.l=this.I.dropEffect:this.l=l[0]),N},U.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,O("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},U);function U(N,B,X,Y){this.H=N,this.S=B,this.m=X,this.L=Y,this.u=0,this.V=null,this.B=null,this.k=N,this.M=N.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),g("touchmove",this.P,!1),g("touchend",this.T,!1),g("touchcancel",this.T,!1)}var R,z={iterationInterval:150,tryFindDraggableTarget:function(N){for(var B=0,X=N.composedPath();B<X.length;B++){var Y=X[B];do if(Y.draggable!==!1&&(Y.draggable===!0||Y.getAttribute&&Y.getAttribute("draggable")==="true"))return Y;while((Y=Y.parentNode)&&Y!==document.body)}},dragImageSetup:function(N){var B=N.cloneNode(!0);return function X(Y,ee){if(Y.nodeType===1){for(var P,H,A=getComputedStyle(Y),V=0;V<A.length;V++){var re=A[V];ee.style.setProperty(re,A.getPropertyValue(re),A.getPropertyPriority(re))}ee.style.pointerEvents="none",ee.removeAttribute("id"),ee.removeAttribute("class"),ee.removeAttribute("draggable"),ee.nodeName==="CANVAS"&&(P=ee,H=(H=Y).getContext("2d").getImageData(0,0,H.width,H.height),P.getContext("2d").putImageData(H,0,0))}if(Y.hasChildNodes())for(V=0;V<Y.childNodes.length;V++)X(Y.childNodes[V],ee.childNodes[V]);(function me(q){if(q instanceof HTMLElement&&(q.style.pointerEvents="none"),q.children&&q.children.length)for(var te=0;te<q.children.length;te++)me(q.children[te]);if(q.shadowRoot&&q.shadowRoot.children.length)for(te=0;te<q.shadowRoot.children.length;te++)me(q.shadowRoot.children[te])})(ee)}(N,B),B},elementFromPoint:function(N,B){var X=document.elementFromPoint(N,B);if(X){for(;X.shadowRoot;){var Y=X.shadowRoot.elementFromPoint(N,B);if(Y===null||Y===X)break;X=Y}return X}}};function D(N){if(!R){var B=z.tryFindDraggableTarget(N);if(B)try{R=new G(N,z,B,Q)}catch(X){throw Q(z,N,3),X}}}function Z(N){function B(V){ee.off(),P.off(),H.off(),A.off(),X&&X.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(Y)}var X=N.target;X&&X.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var Y=window.setTimeout(function(){ee.off(),P.off(),H.off(),A.off(),D(N)},z.holdToDrag),ee=y(X,"touchend",B),P=y(X,"touchcancel",B),H=y(X,"touchmove",B),A=y(window,"scroll",B,!0)}function Q(N,B,X){if(X===0&&N.defaultActionOverride)try{N.defaultActionOverride(B),B.defaultPrevented}catch{}R=null}i.polyfill=function(N){if(N&&Object.keys(N).forEach(function(X){z[X]=N[X]}),!z.forceApply&&(B=(B=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||B&&"ontouchstart"in document.documentElement)}),B.userAgentSupportingNativeDnD&&B.draggable&&B.dragEvents))return!1;var B;return z.holdToDrag?g("touchstart",Z,!1):g("touchstart",D,!1),!0},i.supportsPassiveEventListener=c,Object.defineProperty(i,"G",{value:!0})})})(Ou,Ou.exports);var Y_=Ou.exports,Iu={exports:{}};(function(e,t){(function(i,o){o(t)})(Zu,function(i){function o(z){return z===document.body||z===document.documentElement}function s(z,D){var Z;if(o(z))Z=D===0?z.clientLeft:z.clientTop;else{var Q=z.getBoundingClientRect();Z=D===0?Q.left:Q.top}return Z}function l(z,D){var Z;return o(z)?Z=D===0?window.innerWidth:window.innerHeight:Z=D===0?z.clientWidth:z.clientHeight,Z}function c(z,D,Z){var Q=D===0?"scrollLeft":"scrollTop",N=o(z);if(arguments.length===2)return N?document.body[Q]||document.documentElement[Q]:z[Q];N?(document.documentElement[Q]+=Z,document.body[Q]+=Z):z[Q]+=Z}function p(z){var D=getComputedStyle(z);return z.scrollHeight>z.clientHeight&&(D.overflowY==="scroll"||D.overflowY==="auto")||z.scrollWidth>z.clientWidth&&(D.overflowX==="scroll"||D.overflowX==="auto")}function h(z){do{if(!z)return;if(p(z))return z;if(z===document.documentElement)return null}while(z=z.parentNode);return null}function g(z,D,Z){return z<Z?-1:D-z<Z?1:0}function k(z,D,Z,Q){return z===-1?Math.abs(D-Q):z===1?Math.abs(Z-D-Q):0}function y(z,D,Z){var Q=z===0?Z.scrollX:Z.scrollY;if(D===1){var N=z===0?Z.scrollWidth-Z.width:Z.scrollHeight-Z.height;return Q>=N}else if(D===-1)return Q<=0;return!0}var w={threshold:75,velocityFn:function(z,D){var Z=z/D,Q=Z*Z*Z;return Q*D}},E={horizontal:0,vertical:0},j={x:0,y:0},M,K,_,v,b;function O(z,D,Z,Q){K=D,b=Q,_!==Z&&(_=Z,v=h(_));var N=U(K,v,w.threshold,E,j);N?F():M&&(window.cancelAnimationFrame(M),M=null)}function F(){M||(M=window.requestAnimationFrame(G))}function G(){var z=0,D=0,Z=o(v);E.horizontal!==0&&(z=Math.round(w.velocityFn(j.x,w.threshold)*E.horizontal),c(v,0,z)),E.vertical!==0&&(D=Math.round(w.velocityFn(j.y,w.threshold)*E.vertical),c(v,1,D)),Z?b(z,D):b(0,0),M=null,U(K,v,w.threshold,E,j)&&F()}function U(z,D,Z,Q,N){if(!z||!D)return!1;var B={x:s(D,0),y:s(D,1),width:l(D,0),height:l(D,1),scrollX:c(D,0),scrollY:c(D,1),scrollWidth:D.scrollWidth,scrollHeight:D.scrollHeight},X={x:z.x-B.x,y:z.y-B.y};return Q.horizontal=g(X.x,B.width,Z),Q.vertical=g(X.y,B.height,Z),Q.horizontal&&y(0,Q.horizontal,B)?Q.horizontal=0:Q.horizontal&&(N.x=k(Q.horizontal,X.x,B.width,Z)),Q.vertical&&y(1,Q.vertical,B)?Q.vertical=0:Q.vertical&&(N.y=k(Q.vertical,X.y,B.height,Z)),!!(Q.horizontal||Q.vertical)}var R=O;i.scrollBehaviourDragImageTranslateOverride=R,Object.defineProperty(i,"__esModule",{value:!0})})})(Iu,Iu.exports);var K_=Iu.exports;const X_=""+new URL("compass-DjuYXV7z.png",import.meta.url).href,Q_=""+new URL("layer-tgRGCNyO.png",import.meta.url).href,q_=""+new URL("menu-CTekbRYg.png",import.meta.url).href,J_=""+new URL("route-oCgy4FtE.png",import.meta.url).href,e0=""+new URL("settings-DL-iSASc.png",import.meta.url).href,t0=""+new URL("zoom-BsLudKLj.png",import.meta.url).href;function n0(e,t){const i=S.useRef(t);S.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const i0=1;function r0(e){return Object.freeze({__version:i0,map:e})}function lm(e,t){return Object.freeze({...e,...t})}const um=S.createContext(null),cm=um.Provider;function ja(){const e=S.useContext(um);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function dm(e){function t(i,o){const{instance:s,context:l}=e(i).current;return S.useImperativeHandle(o,()=>s),i.children==null?null:vo.createElement(cm,{value:l},i.children)}return S.forwardRef(t)}function fm(e){function t(i,o){const{instance:s}=e(i).current;return S.useImperativeHandle(o,()=>s),null}return S.forwardRef(t)}function o0(e){return function(i){const o=ja(),s=e(i,o),{instance:l}=s.current,c=S.useRef(i.position),{position:p}=i;return S.useEffect(function(){return l.addTo(o.map),function(){l.remove()}},[o.map,l]),S.useEffect(function(){p!=null&&p!==c.current&&(l.setPosition(p),c.current=p)},[l,p]),s}}function hm(e,t){const i=S.useRef();S.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function Rc(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}var zu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,o){o(t)})(Zu,function(i){var o="1.9.4";function s(n){var r,a,u,d;for(a=1,u=arguments.length;a<u;a++){d=arguments[a];for(r in d)n[r]=d[r]}return n}var l=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function c(n,r){var a=Array.prototype.slice;if(n.bind)return n.bind.apply(n,a.call(arguments,1));var u=a.call(arguments,2);return function(){return n.apply(r,u.length?u.concat(a.call(arguments)):arguments)}}var p=0;function h(n){return"_leaflet_id"in n||(n._leaflet_id=++p),n._leaflet_id}function g(n,r,a){var u,d,m,x;return x=function(){u=!1,d&&(m.apply(a,d),d=!1)},m=function(){u?d=arguments:(n.apply(a,arguments),setTimeout(x,r),u=!0)},m}function k(n,r,a){var u=r[1],d=r[0],m=u-d;return n===u&&a?n:((n-d)%m+m)%m+d}function y(){return!1}function w(n,r){if(r===!1)return n;var a=Math.pow(10,r===void 0?6:r);return Math.round(n*a)/a}function E(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function j(n){return E(n).split(/\s+/)}function M(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?l(n.options):{});for(var a in r)n.options[a]=r[a];return n.options}function K(n,r,a){var u=[];for(var d in n)u.push(encodeURIComponent(a?d.toUpperCase():d)+"="+encodeURIComponent(n[d]));return(!r||r.indexOf("?")===-1?"?":"&")+u.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function v(n,r){return n.replace(_,function(a,u){var d=r[u];if(d===void 0)throw new Error("No value provided for variable "+a);return typeof d=="function"&&(d=d(r)),d})}var b=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function O(n,r){for(var a=0;a<n.length;a++)if(n[a]===r)return a;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var U=0;function R(n){var r=+new Date,a=Math.max(0,16-(r-U));return U=r+a,window.setTimeout(n,a)}var z=window.requestAnimationFrame||G("RequestAnimationFrame")||R,D=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Z(n,r,a){if(a&&z===R)n.call(r);else return z.call(window,c(n,r))}function Q(n){n&&D.call(window,n)}var N={__proto__:null,extend:s,create:l,bind:c,get lastId(){return p},stamp:h,throttle:g,wrapNum:k,falseFn:y,formatNum:w,trim:E,splitWords:j,setOptions:M,getParamString:K,template:v,isArray:b,indexOf:O,emptyImageUrl:F,requestFn:z,cancelFn:D,requestAnimFrame:Z,cancelAnimFrame:Q};function B(){}B.extend=function(n){var r=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=r.__super__=this.prototype,u=l(a);u.constructor=r,r.prototype=u;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(r[d]=this[d]);return n.statics&&s(r,n.statics),n.includes&&(X(n.includes),s.apply(null,[u].concat(n.includes))),s(u,n),delete u.statics,delete u.includes,u.options&&(u.options=a.options?l(a.options):{},s(u.options,n.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,x=u._initHooks.length;m<x;m++)u._initHooks[m].call(this)}},r},B.include=function(n){var r=this.prototype.options;return s(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},B.mergeOptions=function(n){return s(this.prototype.options,n),this},B.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),a=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function X(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=b(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(n,r,a){if(typeof n=="object")for(var u in n)this._on(u,n[u],r);else{n=j(n);for(var d=0,m=n.length;d<m;d++)this._on(n[d],r,a)}return this},off:function(n,r,a){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var u in n)this._off(u,n[u],r);else{n=j(n);for(var d=arguments.length===1,m=0,x=n.length;m<x;m++)d?this._off(n[m]):this._off(n[m],r,a)}return this},_on:function(n,r,a,u){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,a)===!1){a===this&&(a=void 0);var d={fn:r,ctx:a};u&&(d.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(d)}},_off:function(n,r,a){var u,d,m;if(this._events&&(u=this._events[n],!!u)){if(arguments.length===1){if(this._firingCount)for(d=0,m=u.length;d<m;d++)u[d].fn=y;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var x=this._listens(n,r,a);if(x!==!1){var T=u[x];this._firingCount&&(T.fn=y,this._events[n]=u=u.slice()),u.splice(x,1)}}},fire:function(n,r,a){if(!this.listens(n,a))return this;var u=s({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var d=this._events[n];if(d){this._firingCount=this._firingCount+1||1;for(var m=0,x=d.length;m<x;m++){var T=d[m],I=T.fn;T.once&&this.off(n,I,T.ctx),I.call(T.ctx||this,u)}this._firingCount--}}return a&&this._propagateEvent(u),this},listens:function(n,r,a,u){typeof n!="string"&&console.warn('"string" type argument expected');var d=r;typeof r!="function"&&(u=!!r,d=void 0,a=void 0);var m=this._events&&this._events[n];if(m&&m.length&&this._listens(n,d,a)!==!1)return!0;if(u){for(var x in this._eventParents)if(this._eventParents[x].listens(n,r,a,u))return!0}return!1},_listens:function(n,r,a){if(!this._events)return!1;var u=this._events[n]||[];if(!r)return!!u.length;a===this&&(a=void 0);for(var d=0,m=u.length;d<m;d++)if(u[d].fn===r&&u[d].ctx===a)return d;return!1},once:function(n,r,a){if(typeof n=="object")for(var u in n)this._on(u,n[u],r,!0);else{n=j(n);for(var d=0,m=n.length;d<m;d++)this._on(n[d],r,a,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[h(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[h(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,s({layer:n.target,propagatedFrom:n.target},n),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var ee=B.extend(Y);function P(n,r,a){this.x=a?Math.round(n):n,this.y=a?Math.round(r):r}var H=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};P.prototype={clone:function(){return new P(this.x,this.y)},add:function(n){return this.clone()._add(A(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(A(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new P(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new P(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=H(this.x),this.y=H(this.y),this},distanceTo:function(n){n=A(n);var r=n.x-this.x,a=n.y-this.y;return Math.sqrt(r*r+a*a)},equals:function(n){return n=A(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=A(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function A(n,r,a){return n instanceof P?n:b(n)?new P(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new P(n.x,n.y):new P(n,r,a)}function V(n,r){if(n)for(var a=r?[n,r]:n,u=0,d=a.length;u<d;u++)this.extend(a[u])}V.prototype={extend:function(n){var r,a;if(!n)return this;if(n instanceof P||typeof n[0]=="number"||"x"in n)r=a=A(n);else if(n=re(n),r=n.min,a=n.max,!r||!a)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=a.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(n){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,a;return typeof n[0]=="number"||n instanceof P?n=A(n):n=re(n),n instanceof V?(r=n.min,a=n.max):r=a=n,r.x>=this.min.x&&a.x<=this.max.x&&r.y>=this.min.y&&a.y<=this.max.y},intersects:function(n){n=re(n);var r=this.min,a=this.max,u=n.min,d=n.max,m=d.x>=r.x&&u.x<=a.x,x=d.y>=r.y&&u.y<=a.y;return m&&x},overlaps:function(n){n=re(n);var r=this.min,a=this.max,u=n.min,d=n.max,m=d.x>r.x&&u.x<a.x,x=d.y>r.y&&u.y<a.y;return m&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,a=this.max,u=Math.abs(r.x-a.x)*n,d=Math.abs(r.y-a.y)*n;return re(A(r.x-u,r.y-d),A(a.x+u,a.y+d))},equals:function(n){return n?(n=re(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function re(n,r){return!n||n instanceof V?n:new V(n,r)}function me(n,r){if(n)for(var a=r?[n,r]:n,u=0,d=a.length;u<d;u++)this.extend(a[u])}me.prototype={extend:function(n){var r=this._southWest,a=this._northEast,u,d;if(n instanceof te)u=n,d=n;else if(n instanceof me){if(u=n._southWest,d=n._northEast,!u||!d)return this}else return n?this.extend(oe(n)||q(n)):this;return!r&&!a?(this._southWest=new te(u.lat,u.lng),this._northEast=new te(d.lat,d.lng)):(r.lat=Math.min(u.lat,r.lat),r.lng=Math.min(u.lng,r.lng),a.lat=Math.max(d.lat,a.lat),a.lng=Math.max(d.lng,a.lng)),this},pad:function(n){var r=this._southWest,a=this._northEast,u=Math.abs(r.lat-a.lat)*n,d=Math.abs(r.lng-a.lng)*n;return new me(new te(r.lat-u,r.lng-d),new te(a.lat+u,a.lng+d))},getCenter:function(){return new te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new te(this.getNorth(),this.getWest())},getSouthEast:function(){return new te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof te||"lat"in n?n=oe(n):n=q(n);var r=this._southWest,a=this._northEast,u,d;return n instanceof me?(u=n.getSouthWest(),d=n.getNorthEast()):u=d=n,u.lat>=r.lat&&d.lat<=a.lat&&u.lng>=r.lng&&d.lng<=a.lng},intersects:function(n){n=q(n);var r=this._southWest,a=this._northEast,u=n.getSouthWest(),d=n.getNorthEast(),m=d.lat>=r.lat&&u.lat<=a.lat,x=d.lng>=r.lng&&u.lng<=a.lng;return m&&x},overlaps:function(n){n=q(n);var r=this._southWest,a=this._northEast,u=n.getSouthWest(),d=n.getNorthEast(),m=d.lat>r.lat&&u.lat<a.lat,x=d.lng>r.lng&&u.lng<a.lng;return m&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=q(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function q(n,r){return n instanceof me?n:new me(n,r)}function te(n,r,a){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,a!==void 0&&(this.alt=+a)}te.prototype={equals:function(n,r){if(!n)return!1;n=oe(n);var a=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return a<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+w(this.lat,n)+", "+w(this.lng,n)+")"},distanceTo:function(n){return ge.distance(this,oe(n))},wrap:function(){return ge.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,a=r/Math.cos(Math.PI/180*this.lat);return q([this.lat-r,this.lng-a],[this.lat+r,this.lng+a])},clone:function(){return new te(this.lat,this.lng,this.alt)}};function oe(n,r,a){return n instanceof te?n:b(n)&&typeof n[0]!="object"?n.length===3?new te(n[0],n[1],n[2]):n.length===2?new te(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new te(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new te(n,r,a)}var fe={latLngToPoint:function(n,r){var a=this.projection.project(n),u=this.scale(r);return this.transformation._transform(a,u)},pointToLatLng:function(n,r){var a=this.scale(r),u=this.transformation.untransform(n,a);return this.projection.unproject(u)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,a=this.scale(n),u=this.transformation.transform(r.min,a),d=this.transformation.transform(r.max,a);return new V(u,d)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?k(n.lng,this.wrapLng,!0):n.lng,a=this.wrapLat?k(n.lat,this.wrapLat,!0):n.lat,u=n.alt;return new te(a,r,u)},wrapLatLngBounds:function(n){var r=n.getCenter(),a=this.wrapLatLng(r),u=r.lat-a.lat,d=r.lng-a.lng;if(u===0&&d===0)return n;var m=n.getSouthWest(),x=n.getNorthEast(),T=new te(m.lat-u,m.lng-d),I=new te(x.lat-u,x.lng-d);return new me(T,I)}},ge=s({},fe,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var a=Math.PI/180,u=n.lat*a,d=r.lat*a,m=Math.sin((r.lat-n.lat)*a/2),x=Math.sin((r.lng-n.lng)*a/2),T=m*m+Math.cos(u)*Math.cos(d)*x*x,I=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*I}}),Rt=6378137,At={R:Rt,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,a=this.MAX_LATITUDE,u=Math.max(Math.min(a,n.lat),-a),d=Math.sin(u*r);return new P(this.R*n.lng*r,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(n){var r=180/Math.PI;return new te((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=Rt*Math.PI;return new V([-n,-n],[n,n])}()};function Dt(n,r,a,u){if(b(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=a,this._d=u}Dt.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new P((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function We(n,r,a,u){return new Dt(n,r,a,u)}var gt=s({},ge,{code:"EPSG:3857",projection:At,transformation:function(){var n=.5/(Math.PI*At.R);return We(n,.5,-n,.5)}()}),Yt=s({},gt,{code:"EPSG:900913"});function vt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Qe(n,r){var a="",u,d,m,x,T,I;for(u=0,m=n.length;u<m;u++){for(T=n[u],d=0,x=T.length;d<x;d++)I=T[d],a+=(d?"L":"M")+I.x+" "+I.y;a+=r?ae.svg?"z":"x":""}return a||"M0 0"}var le=document.documentElement.style,Le="ActiveXObject"in window,Ge=Le&&!document.addEventListener,Lt="msLaunchUri"in navigator&&!("documentMode"in document),Te=xt("webkit"),Bt=xt("android"),Ri=xt("android 2")||xt("android 3"),cn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Kt=Bt&&xt("Google")&&cn<537&&!("AudioNode"in window),Tt=!!window.opera,_t=!Lt&&xt("chrome"),dn=xt("gecko")&&!Te&&!Tt&&!Le,ui=!_t&&xt("safari"),se=xt("phantom"),ce="OTransition"in le,be=navigator.platform.indexOf("Win")===0,ze=Le&&"transition"in le,Oe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ri,ue="MozPerspective"in le,Ra=!window.L_DISABLE_3D&&(ze||Oe||ue)&&!ce&&!se,ci=typeof orientation<"u"||xt("mobile"),Aa=ci&&Te,ot=ci&&Oe,Ho=!window.PointerEvent&&window.MSPointerEvent,Uo=!!(window.PointerEvent||Ho),di="ontouchstart"in window||!!window.TouchEvent,Da=!window.L_NO_TOUCH&&(di||Uo),Ai=ci&&Tt,yt=ci&&dn,fi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Vo=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",y,r),window.removeEventListener("testPassiveEventSupport",y,r)}catch{}return n}(),Di=function(){return!!document.createElement("canvas").getContext}(),Bi=!!(document.createElementNS&&vt("svg").createSVGRect),Or=!!Bi&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Zi=!Bi&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Fi=navigator.platform.indexOf("Mac")===0,Ba=navigator.platform.indexOf("Linux")===0;function xt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ae={ie:Le,ielt9:Ge,edge:Lt,webkit:Te,android:Bt,android23:Ri,androidStock:Kt,opera:Tt,chrome:_t,gecko:dn,safari:ui,phantom:se,opera12:ce,win:be,ie3d:ze,webkit3d:Oe,gecko3d:ue,any3d:Ra,mobile:ci,mobileWebkit:Aa,mobileWebkit3d:ot,msPointer:Ho,pointer:Uo,touch:Da,touchNative:di,mobileOpera:Ai,mobileGecko:yt,retina:fi,passiveEvents:Vo,canvas:Di,svg:Bi,vml:Zi,inlineSvg:Or,mac:Fi,linux:Ba},Wo=ae.msPointer?"MSPointerDown":"pointerdown",Dn=ae.msPointer?"MSPointerMove":"pointermove",$i=ae.msPointer?"MSPointerUp":"pointerup",Ir=ae.msPointer?"MSPointerCancel":"pointercancel",$e={touchstart:Wo,touchmove:Dn,touchend:$i,touchcancel:Ir},Go={touchstart:Va,touchmove:Hi,touchend:Hi,touchcancel:Hi},bn={},zr=!1;function Za(n,r,a){return r==="touchstart"&&Ua(),Go[r]?(a=Go[r].bind(this,a),n.addEventListener($e[r],a,!1),a):(console.warn("wrong event specified:",r),y)}function Fa(n,r,a){if(!$e[r]){console.warn("wrong event specified:",r);return}n.removeEventListener($e[r],a,!1)}function $a(n){bn[n.pointerId]=n}function Ha(n){bn[n.pointerId]&&(bn[n.pointerId]=n)}function Bn(n){delete bn[n.pointerId]}function Ua(){zr||(document.addEventListener(Wo,$a,!0),document.addEventListener(Dn,Ha,!0),document.addEventListener($i,Bn,!0),document.addEventListener(Ir,Bn,!0),zr=!0)}function Hi(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var a in bn)r.touches.push(bn[a]);r.changedTouches=[r],n(r)}}function Va(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&tt(r),Hi(n,r)}function Yo(n){var r={},a,u;for(u in n)a=n[u],r[u]=a&&a.bind?a.bind(n):a;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Wa=200;function Ko(n,r){n.addEventListener("dblclick",r);var a=0,u;function d(m){if(m.detail!==1){u=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var x=$c(m);if(!(x.some(function(I){return I instanceof HTMLLabelElement&&I.attributes.for})&&!x.some(function(I){return I instanceof HTMLInputElement||I instanceof HTMLSelectElement}))){var T=Date.now();T-a<=Wa?(u++,u===2&&r(Yo(m))):u=1,a=T}}}return n.addEventListener("click",d),{dblclick:r,simDblclick:d}}function Xo(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var Rr=mi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hi=mi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qo=hi==="webkitTransition"||hi==="OTransition"?hi+"End":"transitionend";function qo(n){return typeof n=="string"?document.getElementById(n):n}function pi(n,r){var a=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!a||a==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(n,null);a=u?u[r]:null}return a==="auto"?null:a}function xe(n,r,a){var u=document.createElement(n);return u.className=r||"",a&&a.appendChild(u),u}function Ne(n){var r=n.parentNode;r&&r.removeChild(n)}function Ui(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Zn(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function fn(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function Ar(n,r){if(n.classList!==void 0)return n.classList.contains(r);var a=he(n);return a.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(a)}function pe(n,r){if(n.classList!==void 0)for(var a=j(r),u=0,d=a.length;u<d;u++)n.classList.add(a[u]);else if(!Ar(n,r)){var m=he(n);J(n,(m?m+" ":"")+r)}}function C(n,r){n.classList!==void 0?n.classList.remove(r):J(n,E((" "+he(n)+" ").replace(" "+r+" "," ")))}function J(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function he(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function Se(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&hn(n,r)}function hn(n,r){var a=!1,u="DXImageTransform.Microsoft.Alpha";try{a=n.filters.item(u)}catch{if(r===1)return}r=Math.round(r*100),a?(a.Enabled=r!==100,a.Opacity=r):n.style.filter+=" progid:"+u+"(opacity="+r+")"}function mi(n){for(var r=document.documentElement.style,a=0;a<n.length;a++)if(n[a]in r)return n[a];return!1}function Xt(n,r,a){var u=r||new P(0,0);n.style[Rr]=(ae.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(a?" scale("+a+")":"")}function Re(n,r){n._leaflet_pos=r,ae.any3d?Xt(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function Ze(n){return n._leaflet_pos||new P(0,0)}var wt,st,Qt;if("onselectstart"in document)wt=function(){ve(window,"selectstart",tt)},st=function(){Pe(window,"selectstart",tt)};else{var qt=mi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wt=function(){if(qt){var n=document.documentElement.style;Qt=n[qt],n[qt]="none"}},st=function(){qt&&(document.documentElement.style[qt]=Qt,Qt=void 0)}}function gi(){ve(window,"dragstart",tt)}function Jt(){Pe(window,"dragstart",tt)}var pn,Ye;function vi(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Vi(),pn=n,Ye=n.style.outlineStyle,n.style.outlineStyle="none",ve(window,"keydown",Vi))}function Vi(){pn&&(pn.style.outlineStyle=Ye,pn=void 0,Ye=void 0,Pe(window,"keydown",Vi))}function Jo(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Ga(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var Lm={__proto__:null,TRANSFORM:Rr,TRANSITION:hi,TRANSITION_END:Qo,get:qo,getStyle:pi,create:xe,remove:Ne,empty:Ui,toFront:Zn,toBack:fn,hasClass:Ar,addClass:pe,removeClass:C,setClass:J,getClass:he,setOpacity:Se,testProp:mi,setTransform:Xt,setPosition:Re,getPosition:Ze,get disableTextSelection(){return wt},get enableTextSelection(){return st},disableImageDrag:gi,enableImageDrag:Jt,preventOutline:vi,restoreOutline:Vi,getSizedParentNode:Jo,getScale:Ga};function ve(n,r,a,u){if(r&&typeof r=="object")for(var d in r)Ka(n,d,r[d],a);else{r=j(r);for(var m=0,x=r.length;m<x;m++)Ka(n,r[m],a,u)}return this}var mn="_leaflet_events";function Pe(n,r,a,u){if(arguments.length===1)Fc(n),delete n[mn];else if(r&&typeof r=="object")for(var d in r)Xa(n,d,r[d],a);else if(r=j(r),arguments.length===2)Fc(n,function(T){return O(r,T)!==-1});else for(var m=0,x=r.length;m<x;m++)Xa(n,r[m],a,u);return this}function Fc(n,r){for(var a in n[mn]){var u=a.split(/\d/)[0];(!r||r(u))&&Xa(n,u,null,null,a)}}var Ya={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ka(n,r,a,u){var d=r+h(a)+(u?"_"+h(u):"");if(n[mn]&&n[mn][d])return this;var m=function(T){return a.call(u||n,T||window.event)},x=m;!ae.touchNative&&ae.pointer&&r.indexOf("touch")===0?m=Za(n,r,m):ae.touch&&r==="dblclick"?m=Ko(n,m):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(Ya[r]||r,m,ae.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(m=function(T){T=T||window.event,qa(n,T)&&x(T)},n.addEventListener(Ya[r],m,!1)):n.addEventListener(r,x,!1):n.attachEvent("on"+r,m),n[mn]=n[mn]||{},n[mn][d]=m}function Xa(n,r,a,u,d){d=d||r+h(a)+(u?"_"+h(u):"");var m=n[mn]&&n[mn][d];if(!m)return this;!ae.touchNative&&ae.pointer&&r.indexOf("touch")===0?Fa(n,r,m):ae.touch&&r==="dblclick"?Xo(n,m):"removeEventListener"in n?n.removeEventListener(Ya[r]||r,m,!1):n.detachEvent("on"+r,m),n[mn][d]=null}function _i(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Qa(n){return Ka(n,"wheel",_i),this}function Dr(n){return ve(n,"mousedown touchstart dblclick contextmenu",_i),n._leaflet_disable_click=!0,this}function tt(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function yi(n){return tt(n),_i(n),this}function $c(n){if(n.composedPath)return n.composedPath();for(var r=[],a=n.target;a;)r.push(a),a=a.parentNode;return r}function Hc(n,r){if(!r)return new P(n.clientX,n.clientY);var a=Ga(r),u=a.boundingClientRect;return new P((n.clientX-u.left)/a.x-r.clientLeft,(n.clientY-u.top)/a.y-r.clientTop)}var Tm=ae.linux&&ae.chrome?window.devicePixelRatio:ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Uc(n){return ae.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Tm:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function qa(n,r){var a=r.relatedTarget;if(!a)return!0;try{for(;a&&a!==n;)a=a.parentNode}catch{return!1}return a!==n}var Nm={__proto__:null,on:ve,off:Pe,stopPropagation:_i,disableScrollPropagation:Qa,disableClickPropagation:Dr,preventDefault:tt,stop:yi,getPropagationPath:$c,getMousePosition:Hc,getWheelDelta:Uc,isExternalTarget:qa,addListener:ve,removeListener:Pe},Vc=ee.extend({run:function(n,r,a,u){this.stop(),this._el=n,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=Ze(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,a=this._duration*1e3;r<a?this._runFrame(this._easeOut(r/a),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var a=this._startPos.add(this._offset.multiplyBy(n));r&&a._round(),Re(this._el,a),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),we=ee.extend({options:{crs:gt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=M(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(oe(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hi&&ae.any3d&&!ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ve(this._proxy,Qo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,a){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(oe(n),r,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=s({animate:a.animate},a.zoom),a.pan=s({animate:a.animate,duration:a.duration},a.pan));var u=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,a.zoom):this._tryAnimatedPan(n,a.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,a.pan&&a.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,a){var u=this.getZoomScale(r),d=this.getSize().divideBy(2),m=n instanceof P?n:this.latLngToContainerPoint(n),x=m.subtract(d).multiplyBy(1-1/u),T=this.containerPointToLatLng(d.add(x));return this.setView(T,r,{zoom:a})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():q(n);var a=A(r.paddingTopLeft||r.padding||[0,0]),u=A(r.paddingBottomRight||r.padding||[0,0]),d=this.getBoundsZoom(n,!1,a.add(u));if(d=typeof r.maxZoom=="number"?Math.min(r.maxZoom,d):d,d===1/0)return{center:n.getCenter(),zoom:d};var m=u.subtract(a).divideBy(2),x=this.project(n.getSouthWest(),d),T=this.project(n.getNorthEast(),d),I=this.unproject(x.add(T).divideBy(2).add(m),d);return{center:I,zoom:d}},fitBounds:function(n,r){if(n=q(n),!n.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(n,r);return this.setView(a.center,a.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=A(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){pe(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,a,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,a){if(a=a||{},a.animate===!1||!ae.any3d)return this.setView(n,r,a);this._stop();var u=this.project(this.getCenter()),d=this.project(n),m=this.getSize(),x=this._zoom;n=oe(n),r=r===void 0?x:r;var T=Math.max(m.x,m.y),I=T*this.getZoomScale(x,r),$=d.distanceTo(u)||1,ne=1.42,de=ne*ne;function _e(Ue){var ds=Ue?-1:1,_g=Ue?I:T,yg=I*I-T*T+ds*de*de*$*$,xg=2*_g*de*$,ul=yg/xg,Cd=Math.sqrt(ul*ul+1)-ul,wg=Cd<1e-9?-18:Math.log(Cd);return wg}function dt(Ue){return(Math.exp(Ue)-Math.exp(-Ue))/2}function qe(Ue){return(Math.exp(Ue)+Math.exp(-Ue))/2}function Ft(Ue){return dt(Ue)/qe(Ue)}var kt=_e(0);function Qi(Ue){return T*(qe(kt)/qe(kt+ne*Ue))}function pg(Ue){return T*(qe(kt)*Ft(kt+ne*Ue)-dt(kt))/de}function mg(Ue){return 1-Math.pow(1-Ue,1.5)}var gg=Date.now(),bd=(_e(1)-kt)/ne,vg=a.duration?1e3*a.duration:1e3*bd*.8;function Sd(){var Ue=(Date.now()-gg)/vg,ds=mg(Ue)*bd;Ue<=1?(this._flyToFrame=Z(Sd,this),this._move(this.unproject(u.add(d.subtract(u).multiplyBy(pg(ds)/$)),x),this.getScaleZoom(T/Qi(ds),x),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),Sd.call(this),this},flyToBounds:function(n,r){var a=this._getBoundsCenterZoom(n,r);return this.flyTo(a.center,a.zoom,r)},setMaxBounds:function(n){return n=q(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var a=this.getCenter(),u=this._limitCenter(a,this._zoom,q(n));return a.equals(u)||this.panTo(u,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var a=A(r.paddingTopLeft||r.padding||[0,0]),u=A(r.paddingBottomRight||r.padding||[0,0]),d=this.project(this.getCenter()),m=this.project(n),x=this.getPixelBounds(),T=re([x.min.add(a),x.max.subtract(u)]),I=T.getSize();if(!T.contains(m)){this._enforcingBounds=!0;var $=m.subtract(T.getCenter()),ne=T.extend(m).getSize().subtract(I);d.x+=$.x<0?-ne.x:ne.x,d.y+=$.y<0?-ne.y:ne.y,this.panTo(this.unproject(d),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=s({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),u=r.divideBy(2).round(),d=a.divideBy(2).round(),m=u.subtract(d);return!m.x&&!m.y?this:(n.animate&&n.pan?this.panBy(m):(n.pan&&this._rawPanBy(m),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=s({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=c(this._handleGeolocationResponse,this),a=c(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,a,n):navigator.geolocation.getCurrentPosition(r,a,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,a=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,a=n.coords.longitude,u=new te(r,a),d=u.toBounds(n.coords.accuracy*2),m=this._locateOptions;if(m.setView){var x=this.getBoundsZoom(d);this.setView(u,m.maxZoom?Math.min(x,m.maxZoom):x)}var T={latlng:u,bounds:d,timestamp:n.timestamp};for(var I in n.coords)typeof n.coords[I]=="number"&&(T[I]=n.coords[I]);this.fire("locationfound",T)}},addHandler:function(n,r){if(!r)return this;var a=this[n]=new r(this);return this._handlers.push(a),this.options[n]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Ne(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var a="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),u=xe("div",a,r||this._mapPane);return n&&(this._panes[n]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),a=this.unproject(n.getTopRight());return new me(r,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,a){n=q(n),a=A(a||[0,0]);var u=this.getZoom()||0,d=this.getMinZoom(),m=this.getMaxZoom(),x=n.getNorthWest(),T=n.getSouthEast(),I=this.getSize().subtract(a),$=re(this.project(T,u),this.project(x,u)).getSize(),ne=ae.any3d?this.options.zoomSnap:1,de=I.x/$.x,_e=I.y/$.y,dt=r?Math.max(de,_e):Math.min(de,_e);return u=this.getScaleZoom(dt,u),ne&&(u=Math.round(u/(ne/100))*(ne/100),u=r?Math.ceil(u/ne)*ne:Math.floor(u/ne)*ne),Math.max(d,Math.min(m,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var a=this._getTopLeftPoint(n,r);return new V(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var a=this.options.crs;return r=r===void 0?this._zoom:r,a.scale(n)/a.scale(r)},getScaleZoom:function(n,r){var a=this.options.crs;r=r===void 0?this._zoom:r;var u=a.zoom(n*a.scale(r));return isNaN(u)?1/0:u},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(oe(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(A(n),r)},layerPointToLatLng:function(n){var r=A(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(oe(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(oe(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(q(n))},distance:function(n,r){return this.options.crs.distance(oe(n),oe(r))},containerPointToLayerPoint:function(n){return A(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return A(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(A(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(n)))},mouseEventToContainerPoint:function(n){return Hc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=qo(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ve(r,"scroll",this._onScroll,this),this._containerId=h(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&ae.any3d,pe(n,"leaflet-container"+(ae.touch?" leaflet-touch":"")+(ae.retina?" leaflet-retina":"")+(ae.ielt9?" leaflet-oldie":"")+(ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=pi(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Re(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pe(n.markerPane,"leaflet-zoom-hide"),pe(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,a){Re(this._mapPane,new P(0,0));var u=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var d=this._zoom!==r;this._moveStart(d,a)._move(n,r)._moveEnd(d),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,a,u){r===void 0&&(r=this._zoom);var d=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),u?a&&a.pinch&&this.fire("zoom",a):((d||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Re(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[h(this._container)]=this;var r=n?Pe:ve;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),ae.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var a=[],u,d=r==="mouseout"||r==="mouseover",m=n.target||n.srcElement,x=!1;m;){if(u=this._targets[h(m)],u&&(r==="click"||r==="preclick")&&this._draggableMoved(u)){x=!0;break}if(u&&u.listens(r,!0)&&(d&&!qa(m,n)||(a.push(u),d))||m===this._container)break;m=m.parentNode}return!a.length&&!x&&!d&&this.listens(r,!0)&&(a=[this]),a},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var a=n.type;a==="mousedown"&&vi(r),this._fireDOMEvent(n,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,a){if(n.type==="click"){var u=s({},n);u.type="preclick",this._fireDOMEvent(u,u.type,a)}var d=this._findEventTargets(n,r);if(a){for(var m=[],x=0;x<a.length;x++)a[x].listens(r,!0)&&m.push(a[x]);d=m.concat(d)}if(d.length){r==="contextmenu"&&tt(n);var T=d[0],I={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var $=T.getLatLng&&(!T._radius||T._radius<=10);I.containerPoint=$?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(n),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=$?T.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(x=0;x<d.length;x++)if(d[x].fire(r,I,!0),I.originalEvent._stopped||d[x].options.bubblingMouseEvents===!1&&O(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return Ze(this._mapPane)||new P(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var a=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var a=this.getSize()._divideBy(2);return this.project(n,r)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,a){var u=this._getNewPixelOrigin(a,r);return this.project(n,r)._subtract(u)},_latLngBoundsToNewLayerBounds:function(n,r,a){var u=this._getNewPixelOrigin(a,r);return re([this.project(n.getSouthWest(),r)._subtract(u),this.project(n.getNorthWest(),r)._subtract(u),this.project(n.getSouthEast(),r)._subtract(u),this.project(n.getNorthEast(),r)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,a){if(!a)return n;var u=this.project(n,r),d=this.getSize().divideBy(2),m=new V(u.subtract(d),u.add(d)),x=this._getBoundsOffset(m,a,r);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?n:this.unproject(u.add(x),r)},_limitOffset:function(n,r){if(!r)return n;var a=this.getPixelBounds(),u=new V(a.min.add(n),a.max.add(n));return n.add(this._getBoundsOffset(u,r))},_getBoundsOffset:function(n,r,a){var u=re(this.project(r.getNorthEast(),a),this.project(r.getSouthWest(),a)),d=u.min.subtract(n.min),m=u.max.subtract(n.max),x=this._rebound(d.x,-m.x),T=this._rebound(d.y,-m.y);return new P(x,T)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),a=this.getMaxZoom(),u=ae.any3d?this.options.zoomSnap:1;return u&&(n=Math.round(n/u)*u),Math.max(r,Math.min(a,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){C(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var a=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,r),!0)},_createAnimProxy:function(){var n=this._proxy=xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var a=Rr,u=this._proxy.style[a];Xt(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),u===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();Xt(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(r),d=this._getCenterOffset(n)._divideBy(1-1/u);return a.animate!==!0&&!this.getSize().contains(d)?!1:(Z(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,a,u){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&C(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Mm(n,r){return new we(n,r)}var en=B.extend({options:{position:"topright"},initialize:function(n){M(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),a=this.getPosition(),u=n._controlCorners[a];return pe(r,"leaflet-control"),a.indexOf("bottom")!==-1?u.insertBefore(r,u.firstChild):u.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Br=function(n){return new en(n)};we.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",a=this._controlContainer=xe("div",r+"control-container",this._container);function u(d,m){var x=r+d+" "+r+m;n[d+m]=xe("div",x,a)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Ne(this._controlCorners[n]);Ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Wc=en.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,a,u){return a<u?-1:u<a?1:0}},initialize:function(n,r,a){M(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in n)this._addLayer(n[u],u);for(u in r)this._addLayer(r[u],u,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return en.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(h(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){pe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(pe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):C(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return C(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=xe("div",n),a=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Dr(r),Qa(r);var u=this._section=xe("section",n+"-list");a&&(this._map.on("click",this.collapse,this),ve(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=xe("a",n+"-toggle",r);d.href="#",d.title="Layers",d.setAttribute("role","button"),ve(d,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){tt(m),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=xe("div",n+"-base",u),this._separator=xe("div",n+"-separator",u),this._overlaysList=xe("div",n+"-overlays",u),r.appendChild(u)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&h(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,a){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:a}),this.options.sortLayers&&this._layers.sort(c(function(u,d){return this.options.sortFunction(u.layer,d.layer,u.name,d.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ui(this._baseLayersList),Ui(this._overlaysList),this._layerControlInputs=[];var n,r,a,u,d=0;for(a=0;a<this._layers.length;a++)u=this._layers[a],this._addItem(u),r=r||u.overlay,n=n||!u.overlay,d+=u.overlay?0:1;return this.options.hideSingleBase&&(n=n&&d>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(h(n.target)),a=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;a&&this._map.fire(a,r)},_createRadioElement:function(n,r){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=a,u.firstChild},_addItem:function(n){var r=document.createElement("label"),a=this._map.hasLayer(n.layer),u;n.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=a):u=this._createRadioElement("leaflet-base-layers_"+h(this),a),this._layerControlInputs.push(u),u.layerId=h(n.layer),ve(u,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+n.name;var m=document.createElement("span");r.appendChild(m),m.appendChild(u),m.appendChild(d);var x=n.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,a,u=[],d=[];this._handlingClick=!0;for(var m=n.length-1;m>=0;m--)r=n[m],a=this._getLayer(r.layerId).layer,r.checked?u.push(a):r.checked||d.push(a);for(m=0;m<d.length;m++)this._map.hasLayer(d[m])&&this._map.removeLayer(d[m]);for(m=0;m<u.length;m++)this._map.hasLayer(u[m])||this._map.addLayer(u[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,a,u=this._map.getZoom(),d=n.length-1;d>=0;d--)r=n[d],a=this._getLayer(r.layerId).layer,r.disabled=a.options.minZoom!==void 0&&u<a.options.minZoom||a.options.maxZoom!==void 0&&u>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,ve(n,"click",tt),this.expand();var r=this;setTimeout(function(){Pe(n,"click",tt),r._preventClick=!1})}}),jm=function(n,r,a){return new Wc(n,r,a)},Ja=en.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",a=xe("div",r+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,r+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,r+"-out",a,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,a,u,d){var m=xe("a",a,u);return m.innerHTML=n,m.href="#",m.title=r,m.setAttribute("role","button"),m.setAttribute("aria-label",r),Dr(m),ve(m,"click",yi),ve(m,"click",d,this),ve(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";C(this._zoomInButton,r),C(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(pe(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(pe(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});we.mergeOptions({zoomControl:!0}),we.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ja,this.addControl(this.zoomControl))});var Om=function(n){return new Ja(n)},Gc=en.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",a=xe("div",r),u=this.options;return this._addScales(u,r+"-line",a),n.on(u.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),a},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,a){n.metric&&(this._mScale=xe("div",r,a)),n.imperial&&(this._iScale=xe("div",r,a))},_update:function(){var n=this._map,r=n.getSize().y/2,a=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(a)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),a=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,a,r/n)},_updateImperial:function(n){var r=n*3.2808399,a,u,d;r>5280?(a=r/5280,u=this._getRoundNum(a),this._updateScale(this._iScale,u+" mi",u/a)):(d=this._getRoundNum(r),this._updateScale(this._iScale,d+" ft",d/r))},_updateScale:function(n,r,a){n.style.width=Math.round(this.options.maxWidth*a)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),a=n/r;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,r*a}}),Im=function(n){return new Gc(n)},zm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',el=en.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ae.inlineSvg?zm+" ":"")+"Leaflet</a>"},initialize:function(n){M(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=xe("div","leaflet-control-attribution"),Dr(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var a=[];this.options.prefix&&a.push(this.options.prefix),n.length&&a.push(n.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});we.mergeOptions({attributionControl:!0}),we.addInitHook(function(){this.options.attributionControl&&new el().addTo(this)});var Rm=function(n){return new el(n)};en.Layers=Wc,en.Zoom=Ja,en.Scale=Gc,en.Attribution=el,Br.layers=jm,Br.zoom=Om,Br.scale=Im,Br.attribution=Rm;var gn=B.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(n,r){return n.addHandler(r,this),this};var Am={Events:Y},Yc=ae.touch?"touchstart mousedown":"mousedown",Fn=ee.extend({options:{clickTolerance:3},initialize:function(n,r,a,u){M(this,u),this._element=n,this._dragStartTarget=r||n,this._preventOutline=a},enable:function(){this._enabled||(ve(this._dragStartTarget,Yc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Fn._dragging===this&&this.finishDrag(!0),Pe(this._dragStartTarget,Yc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Ar(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Fn._dragging===this&&this.finishDrag();return}if(!(Fn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Fn._dragging=this,this._preventOutline&&vi(this._element),gi(),wt(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,a=Jo(this._element);this._startPoint=new P(r.clientX,r.clientY),this._startPos=Ze(this._element),this._parentScale=Ga(a);var u=n.type==="mousedown";ve(document,u?"mousemove":"touchmove",this._onMove,this),ve(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,a=new P(r.clientX,r.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,tt(n),this._moved||(this.fire("dragstart"),this._moved=!0,pe(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Re(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){C(document.body,"leaflet-dragging"),this._lastTarget&&(C(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pe(document,"mousemove touchmove",this._onMove,this),Pe(document,"mouseup touchend touchcancel",this._onUp,this),Jt(),st();var r=this._moved&&this._moving;this._moving=!1,Fn._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Kc(n,r,a){var u,d=[1,4,2,8],m,x,T,I,$,ne,de,_e;for(m=0,ne=n.length;m<ne;m++)n[m]._code=xi(n[m],r);for(T=0;T<4;T++){for(de=d[T],u=[],m=0,ne=n.length,x=ne-1;m<ne;x=m++)I=n[m],$=n[x],I._code&de?$._code&de||(_e=es($,I,de,r,a),_e._code=xi(_e,r),u.push(_e)):($._code&de&&(_e=es($,I,de,r,a),_e._code=xi(_e,r),u.push(_e)),u.push(I));n=u}return n}function Xc(n,r){var a,u,d,m,x,T,I,$,ne;if(!n||n.length===0)throw new Error("latlngs not passed");Zt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var de=oe([0,0]),_e=q(n),dt=_e.getNorthWest().distanceTo(_e.getSouthWest())*_e.getNorthEast().distanceTo(_e.getNorthWest());dt<1700&&(de=tl(n));var qe=n.length,Ft=[];for(a=0;a<qe;a++){var kt=oe(n[a]);Ft.push(r.project(oe([kt.lat-de.lat,kt.lng-de.lng])))}for(T=I=$=0,a=0,u=qe-1;a<qe;u=a++)d=Ft[a],m=Ft[u],x=d.y*m.x-m.y*d.x,I+=(d.x+m.x)*x,$+=(d.y+m.y)*x,T+=x*3;T===0?ne=Ft[0]:ne=[I/T,$/T];var Qi=r.unproject(A(ne));return oe([Qi.lat+de.lat,Qi.lng+de.lng])}function tl(n){for(var r=0,a=0,u=0,d=0;d<n.length;d++){var m=oe(n[d]);r+=m.lat,a+=m.lng,u++}return oe([r/u,a/u])}var Dm={__proto__:null,clipPolygon:Kc,polygonCenter:Xc,centroid:tl};function Qc(n,r){if(!r||!n.length)return n.slice();var a=r*r;return n=Fm(n,a),n=Zm(n,a),n}function qc(n,r,a){return Math.sqrt(Zr(n,r,a,!0))}function Bm(n,r,a){return Zr(n,r,a)}function Zm(n,r){var a=n.length,u=typeof Uint8Array<"u"?Uint8Array:Array,d=new u(a);d[0]=d[a-1]=1,nl(n,d,r,0,a-1);var m,x=[];for(m=0;m<a;m++)d[m]&&x.push(n[m]);return x}function nl(n,r,a,u,d){var m=0,x,T,I;for(T=u+1;T<=d-1;T++)I=Zr(n[T],n[u],n[d],!0),I>m&&(x=T,m=I);m>a&&(r[x]=1,nl(n,r,a,u,x),nl(n,r,a,x,d))}function Fm(n,r){for(var a=[n[0]],u=1,d=0,m=n.length;u<m;u++)$m(n[u],n[d])>r&&(a.push(n[u]),d=u);return d<m-1&&a.push(n[m-1]),a}var Jc;function ed(n,r,a,u,d){var m=u?Jc:xi(n,a),x=xi(r,a),T,I,$;for(Jc=x;;){if(!(m|x))return[n,r];if(m&x)return!1;T=m||x,I=es(n,r,T,a,d),$=xi(I,a),T===m?(n=I,m=$):(r=I,x=$)}}function es(n,r,a,u,d){var m=r.x-n.x,x=r.y-n.y,T=u.min,I=u.max,$,ne;return a&8?($=n.x+m*(I.y-n.y)/x,ne=I.y):a&4?($=n.x+m*(T.y-n.y)/x,ne=T.y):a&2?($=I.x,ne=n.y+x*(I.x-n.x)/m):a&1&&($=T.x,ne=n.y+x*(T.x-n.x)/m),new P($,ne,d)}function xi(n,r){var a=0;return n.x<r.min.x?a|=1:n.x>r.max.x&&(a|=2),n.y<r.min.y?a|=4:n.y>r.max.y&&(a|=8),a}function $m(n,r){var a=r.x-n.x,u=r.y-n.y;return a*a+u*u}function Zr(n,r,a,u){var d=r.x,m=r.y,x=a.x-d,T=a.y-m,I=x*x+T*T,$;return I>0&&($=((n.x-d)*x+(n.y-m)*T)/I,$>1?(d=a.x,m=a.y):$>0&&(d+=x*$,m+=T*$)),x=n.x-d,T=n.y-m,u?x*x+T*T:new P(d,m)}function Zt(n){return!b(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function td(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zt(n)}function nd(n,r){var a,u,d,m,x,T,I,$;if(!n||n.length===0)throw new Error("latlngs not passed");Zt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ne=oe([0,0]),de=q(n),_e=de.getNorthWest().distanceTo(de.getSouthWest())*de.getNorthEast().distanceTo(de.getNorthWest());_e<1700&&(ne=tl(n));var dt=n.length,qe=[];for(a=0;a<dt;a++){var Ft=oe(n[a]);qe.push(r.project(oe([Ft.lat-ne.lat,Ft.lng-ne.lng])))}for(a=0,u=0;a<dt-1;a++)u+=qe[a].distanceTo(qe[a+1])/2;if(u===0)$=qe[0];else for(a=0,m=0;a<dt-1;a++)if(x=qe[a],T=qe[a+1],d=x.distanceTo(T),m+=d,m>u){I=(m-u)/d,$=[T.x-I*(T.x-x.x),T.y-I*(T.y-x.y)];break}var kt=r.unproject(A($));return oe([kt.lat+ne.lat,kt.lng+ne.lng])}var Hm={__proto__:null,simplify:Qc,pointToSegmentDistance:qc,closestPointOnSegment:Bm,clipSegment:ed,_getEdgeIntersection:es,_getBitCode:xi,_sqClosestPointOnSegment:Zr,isFlat:Zt,_flat:td,polylineCenter:nd},il={project:function(n){return new P(n.lng,n.lat)},unproject:function(n){return new te(n.y,n.x)},bounds:new V([-180,-90],[180,90])},rl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,a=this.R,u=n.lat*r,d=this.R_MINOR/a,m=Math.sqrt(1-d*d),x=m*Math.sin(u),T=Math.tan(Math.PI/4-u/2)/Math.pow((1-x)/(1+x),m/2);return u=-a*Math.log(Math.max(T,1e-10)),new P(n.lng*r*a,u)},unproject:function(n){for(var r=180/Math.PI,a=this.R,u=this.R_MINOR/a,d=Math.sqrt(1-u*u),m=Math.exp(-n.y/a),x=Math.PI/2-2*Math.atan(m),T=0,I=.1,$;T<15&&Math.abs(I)>1e-7;T++)$=d*Math.sin(x),$=Math.pow((1-$)/(1+$),d/2),I=Math.PI/2-2*Math.atan(m*$)-x,x+=I;return new te(x*r,n.x*r/a)}},Um={__proto__:null,LonLat:il,Mercator:rl,SphericalMercator:At},Vm=s({},ge,{code:"EPSG:3395",projection:rl,transformation:function(){var n=.5/(Math.PI*rl.R);return We(n,.5,-n,.5)}()}),id=s({},ge,{code:"EPSG:4326",projection:il,transformation:We(1/180,1,-1/180,.5)}),Wm=s({},fe,{projection:il,transformation:We(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var a=r.lng-n.lng,u=r.lat-n.lat;return Math.sqrt(a*a+u*u)},infinite:!0});fe.Earth=ge,fe.EPSG3395=Vm,fe.EPSG3857=gt,fe.EPSG900913=Yt,fe.EPSG4326=id,fe.Simple=Wm;var tn=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[h(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[h(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var a=this.getEvents();r.on(a,this),this.once("remove",function(){r.off(a,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});we.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=h(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=h(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return h(n)in this._layers},eachLayer:function(n,r){for(var a in this._layers)n.call(r,this._layers[a]);return this},_addLayers:function(n){n=n?b(n)?n:[n]:[];for(var r=0,a=n.length;r<a;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[h(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=h(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,a=this._getZoomSpan();for(var u in this._zoomBoundLayers){var d=this._zoomBoundLayers[u].options;n=d.minZoom===void 0?n:Math.min(n,d.minZoom),r=d.maxZoom===void 0?r:Math.max(r,d.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wi=tn.extend({initialize:function(n,r){M(this,r),this._layers={};var a,u;if(n)for(a=0,u=n.length;a<u;a++)this.addLayer(n[a])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),a,u;for(a in this._layers)u=this._layers[a],u[n]&&u[n].apply(u,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var a in this._layers)n.call(r,this._layers[a]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return h(n)}}),Gm=function(n,r){return new Wi(n,r)},Sn=Wi.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Wi.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Wi.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new me;for(var r in this._layers){var a=this._layers[r];n.extend(a.getBounds?a.getBounds():a.getLatLng())}return n}}),Ym=function(n,r){return new Sn(n,r)},Gi=B.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){M(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var a=this._getIconUrl(n);if(!a){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(a,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(u,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(n,r){var a=this.options,u=a[r+"Size"];typeof u=="number"&&(u=[u,u]);var d=A(u),m=A(r==="shadow"&&a.shadowAnchor||a.iconAnchor||d&&d.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(a.className||""),m&&(n.style.marginLeft=-m.x+"px",n.style.marginTop=-m.y+"px"),d&&(n.style.width=d.x+"px",n.style.height=d.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return ae.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Km(n){return new Gi(n)}var Fr=Gi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Fr.imagePath!="string"&&(Fr.imagePath=this._detectIconPath()),(this.options.imagePath||Fr.imagePath)+Gi.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(a,u,d){var m=u.exec(a);return m&&m[d]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=xe("div","leaflet-default-icon-path",document.body),r=pi(n,"background-image")||pi(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),rd=gn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Fn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pe(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&C(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,a=r._map,u=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,m=Ze(r._icon),x=a.getPixelBounds(),T=a.getPixelOrigin(),I=re(x.min._subtract(T).add(d),x.max._subtract(T).subtract(d));if(!I.contains(m)){var $=A((Math.max(I.max.x,m.x)-I.max.x)/(x.max.x-I.max.x)-(Math.min(I.min.x,m.x)-I.min.x)/(x.min.x-I.min.x),(Math.max(I.max.y,m.y)-I.max.y)/(x.max.y-I.max.y)-(Math.min(I.min.y,m.y)-I.min.y)/(x.min.y-I.min.y)).multiplyBy(u);a.panBy($,{animate:!1}),this._draggable._newPos._add($),this._draggable._startPos._add($),Re(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Z(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,a=r._shadow,u=Ze(r._icon),d=r._map.layerPointToLatLng(u);a&&Re(a,u),r._latlng=d,n.latlng=d,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),ts=tn.extend({options:{icon:new Fr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){M(this,r),this._latlng=oe(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=oe(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=n.icon.createIcon(this._icon),u=!1;a!==this._icon&&(this._icon&&this._removeIcon(),u=!0,n.title&&(a.title=n.title),a.tagName==="IMG"&&(a.alt=n.alt||"")),pe(a,r),n.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ve(a,"focus",this._panOnFocus,this);var d=n.icon.createShadow(this._shadow),m=!1;d!==this._shadow&&(this._removeShadow(),m=!0),d&&(pe(d,r),d.alt=""),this._shadow=d,n.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&m&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(this._icon,"focus",this._panOnFocus,this),Ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ne(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Re(this._icon,n),this._shadow&&Re(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),rd)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new rd(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&Se(this._icon,n),this._shadow&&Se(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,a=r.iconSize?A(r.iconSize):A(0,0),u=r.iconAnchor?A(r.iconAnchor):A(0,0);n.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:a.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xm(n,r){return new ts(n,r)}var $n=tn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return M(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ns=$n.extend({options:{fill:!0,radius:10},initialize:function(n,r){M(this,r),this._latlng=oe(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=oe(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return $n.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,a=this._clickTolerance(),u=[n+a,r+a];this._pxBounds=new V(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qm(n,r){return new ns(n,r)}var ol=ns.extend({initialize:function(n,r,a){if(typeof r=="number"&&(r=s({},a,{radius:r})),M(this,r),this._latlng=oe(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new me(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:$n.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,a=this._map,u=a.options.crs;if(u.distance===ge.distance){var d=Math.PI/180,m=this._mRadius/ge.R/d,x=a.project([r+m,n]),T=a.project([r-m,n]),I=x.add(T).divideBy(2),$=a.unproject(I).lat,ne=Math.acos((Math.cos(m*d)-Math.sin(r*d)*Math.sin($*d))/(Math.cos(r*d)*Math.cos($*d)))/d;(isNaN(ne)||ne===0)&&(ne=m/Math.cos(Math.PI/180*r)),this._point=I.subtract(a.getPixelOrigin()),this._radius=isNaN(ne)?0:I.x-a.project([$,n-ne]).x,this._radiusY=I.y-x.y}else{var de=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(de).x}this._updateBounds()}});function qm(n,r,a){return new ol(n,r,a)}var Cn=$n.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){M(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,a=null,u=Zr,d,m,x=0,T=this._parts.length;x<T;x++)for(var I=this._parts[x],$=1,ne=I.length;$<ne;$++){d=I[$-1],m=I[$];var de=u(n,d,m,!0);de<r&&(r=de,a=u(n,d,m))}return a&&(a.distance=Math.sqrt(r)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=oe(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new me,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Zt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],a=Zt(n),u=0,d=n.length;u<d;u++)a?(r[u]=oe(n[u]),this._bounds.extend(r[u])):r[u]=this._convertLatLngs(n[u]);return r},_project:function(){var n=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new P(n,n);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,a){var u=n[0]instanceof te,d=n.length,m,x;if(u){for(x=[],m=0;m<d;m++)x[m]=this._map.latLngToLayerPoint(n[m]),a.extend(x[m]);r.push(x)}else for(m=0;m<d;m++)this._projectLatlngs(n[m],r,a)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,a,u,d,m,x,T,I;for(a=0,d=0,m=this._rings.length;a<m;a++)for(I=this._rings[a],u=0,x=I.length;u<x-1;u++)T=ed(I[u],I[u+1],n,u,!0),T&&(r[d]=r[d]||[],r[d].push(T[0]),(T[1]!==I[u+1]||u===x-2)&&(r[d].push(T[1]),d++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,a=0,u=n.length;a<u;a++)n[a]=Qc(n[a],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var a,u,d,m,x,T,I=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(a=0,m=this._parts.length;a<m;a++)for(T=this._parts[a],u=0,x=T.length,d=x-1;u<x;d=u++)if(!(!r&&u===0)&&qc(n,T[d],T[u])<=I)return!0;return!1}});function Jm(n,r){return new Cn(n,r)}Cn._flat=td;var Yi=Cn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=Cn.prototype._convertLatLngs.call(this,n),a=r.length;return a>=2&&r[0]instanceof te&&r[0].equals(r[a-1])&&r.pop(),r},_setLatLngs:function(n){Cn.prototype._setLatLngs.call(this,n),Zt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,a=new P(r,r);if(n=new V(n.min.subtract(a),n.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,d=this._rings.length,m;u<d;u++)m=Kc(this._rings[u],n,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,a,u,d,m,x,T,I,$;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(m=0,I=this._parts.length;m<I;m++)for(a=this._parts[m],x=0,$=a.length,T=$-1;x<$;T=x++)u=a[x],d=a[T],u.y>n.y!=d.y>n.y&&n.x<(d.x-u.x)*(n.y-u.y)/(d.y-u.y)+u.x&&(r=!r);return r||Cn.prototype._containsPoint.call(this,n,!0)}});function eg(n,r){return new Yi(n,r)}var Pn=Sn.extend({initialize:function(n,r){M(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=b(n)?n:n.features,a,u,d;if(r){for(a=0,u=r.length;a<u;a++)d=r[a],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var m=this.options;if(m.filter&&!m.filter(n))return this;var x=is(n,m);return x?(x.feature=ss(n),x.defaultOptions=x.options,this.resetStyle(x),m.onEachFeature&&m.onEachFeature(n,x),this.addLayer(x)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=s({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function is(n,r){var a=n.type==="Feature"?n.geometry:n,u=a?a.coordinates:null,d=[],m=r&&r.pointToLayer,x=r&&r.coordsToLatLng||sl,T,I,$,ne;if(!u&&!a)return null;switch(a.type){case"Point":return T=x(u),od(m,n,T,r);case"MultiPoint":for($=0,ne=u.length;$<ne;$++)T=x(u[$]),d.push(od(m,n,T,r));return new Sn(d);case"LineString":case"MultiLineString":return I=rs(u,a.type==="LineString"?0:1,x),new Cn(I,r);case"Polygon":case"MultiPolygon":return I=rs(u,a.type==="Polygon"?1:2,x),new Yi(I,r);case"GeometryCollection":for($=0,ne=a.geometries.length;$<ne;$++){var de=is({geometry:a.geometries[$],type:"Feature",properties:n.properties},r);de&&d.push(de)}return new Sn(d);case"FeatureCollection":for($=0,ne=a.features.length;$<ne;$++){var _e=is(a.features[$],r);_e&&d.push(_e)}return new Sn(d);default:throw new Error("Invalid GeoJSON object.")}}function od(n,r,a,u){return n?n(r,a):new ts(a,u&&u.markersInheritOptions&&u)}function sl(n){return new te(n[1],n[0],n[2])}function rs(n,r,a){for(var u=[],d=0,m=n.length,x;d<m;d++)x=r?rs(n[d],r-1,a):(a||sl)(n[d]),u.push(x);return u}function al(n,r){return n=oe(n),n.alt!==void 0?[w(n.lng,r),w(n.lat,r),w(n.alt,r)]:[w(n.lng,r),w(n.lat,r)]}function os(n,r,a,u){for(var d=[],m=0,x=n.length;m<x;m++)d.push(r?os(n[m],Zt(n[m])?0:r-1,a,u):al(n[m],u));return!r&&a&&d.length>0&&d.push(d[0].slice()),d}function Ki(n,r){return n.feature?s({},n.feature,{geometry:r}):ss(r)}function ss(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ll={toGeoJSON:function(n){return Ki(this,{type:"Point",coordinates:al(this.getLatLng(),n)})}};ts.include(ll),ol.include(ll),ns.include(ll),Cn.include({toGeoJSON:function(n){var r=!Zt(this._latlngs),a=os(this._latlngs,r?1:0,!1,n);return Ki(this,{type:(r?"Multi":"")+"LineString",coordinates:a})}}),Yi.include({toGeoJSON:function(n){var r=!Zt(this._latlngs),a=r&&!Zt(this._latlngs[0]),u=os(this._latlngs,a?2:r?1:0,!0,n);return r||(u=[u]),Ki(this,{type:(a?"Multi":"")+"Polygon",coordinates:u})}}),Wi.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(a){r.push(a.toGeoJSON(n).geometry.coordinates)}),Ki(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var a=r==="GeometryCollection",u=[];return this.eachLayer(function(d){if(d.toGeoJSON){var m=d.toGeoJSON(n);if(a)u.push(m.geometry);else{var x=ss(m);x.type==="FeatureCollection"?u.push.apply(u,x.features):u.push(x)}}}),a?Ki(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function sd(n,r){return new Pn(n,r)}var tg=sd,as=tn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,a){this._url=n,this._bounds=q(r),M(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Zn(this._image),this},bringToBack:function(){return this._map&&fn(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=q(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:xe("img");if(pe(r,"leaflet-image-layer"),this._zoomAnimated&&pe(r,"leaflet-zoom-animated"),this.options.className&&pe(r,this.options.className),r.onselectstart=y,r.onmousemove=y,r.onload=c(this.fire,this,"load"),r.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Xt(this._image,a,r)},_reset:function(){var n=this._image,r=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=r.getSize();Re(n,r.min),n.style.width=a.x+"px",n.style.height=a.y+"px"},_updateOpacity:function(){Se(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),ng=function(n,r,a){return new as(n,r,a)},ad=as.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:xe("video");if(pe(r,"leaflet-image-layer"),this._zoomAnimated&&pe(r,"leaflet-zoom-animated"),this.options.className&&pe(r,this.options.className),r.onselectstart=y,r.onmousemove=y,r.onloadeddata=c(this.fire,this,"load"),n){for(var a=r.getElementsByTagName("source"),u=[],d=0;d<a.length;d++)u.push(a[d].src);this._url=a.length>0?u:[r.src];return}b(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var x=xe("source");x.src=this._url[m],r.appendChild(x)}}});function ig(n,r,a){return new ad(n,r,a)}var ld=as.extend({_initImage:function(){var n=this._image=this._url;pe(n,"leaflet-image-layer"),this._zoomAnimated&&pe(n,"leaflet-zoom-animated"),this.options.className&&pe(n,this.options.className),n.onselectstart=y,n.onmousemove=y}});function rg(n,r,a){return new ld(n,r,a)}var vn=tn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof te||b(n))?(this._latlng=oe(n),M(this,r)):(M(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&Se(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&Se(this._container,1),this.bringToFront(),this.options.interactive&&(pe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(Se(this._container,0),this._removeTimeout=setTimeout(c(Ne,void 0,this._container),200)):Ne(this._container),this.options.interactive&&(C(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=oe(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zn(this._container),this},bringToBack:function(){return this._map&&fn(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof Sn){r=null;var a=this._source._layers;for(var u in a)if(a[u]._map){r=a[u];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=A(this.options.offset),a=this._getAnchor();this._zoomAnimated?Re(this._container,n.add(a)):r=r.add(n).add(a);var u=this._containerBottom=-r.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=u+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});we.include({_initOverlay:function(n,r,a,u){var d=r;return d instanceof n||(d=new n(u).setContent(r)),a&&d.setLatLng(a),d}}),tn.include({_initOverlay:function(n,r,a,u){var d=a;return d instanceof n?(M(d,u),d._source=this):(d=r&&!u?r:new n(u,this),d.setContent(a)),d}});var ls=vn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,vn.prototype.openOn.call(this,n)},onAdd:function(n){vn.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $n||this._source.on("preclick",_i))},onRemove:function(n){vn.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $n||this._source.off("preclick",_i))},getEvents:function(){var n=vn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=xe("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=xe("div",n+"-content-wrapper",r);if(this._contentNode=xe("div",n+"-content",a),Dr(r),Qa(this._contentNode),ve(r,"contextmenu",_i),this._tipContainer=xe("div",n+"-tip-container",r),this._tip=xe("div",n+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=xe("a",n+"-close-button",r);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',ve(u,"click",function(d){tt(d),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var a=n.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),r.width=a+1+"px",r.whiteSpace="",r.height="";var u=n.offsetHeight,d=this.options.maxHeight,m="leaflet-popup-scrolled";d&&u>d?(r.height=d+"px",pe(n,m)):C(n,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),a=this._getAnchor();Re(this._container,r.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(pi(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+r,u=this._containerWidth,d=new P(this._containerLeft,-a-this._containerBottom);d._add(Ze(this._container));var m=n.layerPointToContainerPoint(d),x=A(this.options.autoPanPadding),T=A(this.options.autoPanPaddingTopLeft||x),I=A(this.options.autoPanPaddingBottomRight||x),$=n.getSize(),ne=0,de=0;m.x+u+I.x>$.x&&(ne=m.x+u-$.x+I.x),m.x-ne-T.x<0&&(ne=m.x-T.x),m.y+a+I.y>$.y&&(de=m.y+a-$.y+I.y),m.y-de-T.y<0&&(de=m.y-T.y),(ne||de)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ne,de]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),og=function(n,r){return new ls(n,r)};we.mergeOptions({closePopupOnClick:!0}),we.include({openPopup:function(n,r,a){return this._initOverlay(ls,n,r,a).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),tn.include({bindPopup:function(n,r){return this._popup=this._initOverlay(ls,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Sn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){yi(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof $n)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var us=vn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){vn.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){vn.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=vn.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xe("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,a,u=this._map,d=this._container,m=u.latLngToContainerPoint(u.getCenter()),x=u.layerPointToContainerPoint(n),T=this.options.direction,I=d.offsetWidth,$=d.offsetHeight,ne=A(this.options.offset),de=this._getAnchor();T==="top"?(r=I/2,a=$):T==="bottom"?(r=I/2,a=0):T==="center"?(r=I/2,a=$/2):T==="right"?(r=0,a=$/2):T==="left"?(r=I,a=$/2):x.x<m.x?(T="right",r=0,a=$/2):(T="left",r=I+(ne.x+de.x)*2,a=$/2),n=n.subtract(A(r,a,!0)).add(ne).add(de),C(d,"leaflet-tooltip-right"),C(d,"leaflet-tooltip-left"),C(d,"leaflet-tooltip-top"),C(d,"leaflet-tooltip-bottom"),pe(d,"leaflet-tooltip-"+T),Re(d,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&Se(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sg=function(n,r){return new us(n,r)};we.include({openTooltip:function(n,r,a){return this._initOverlay(us,n,r,a).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),tn.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(us,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[r](a),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Sn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(ve(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),ve(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,a,u;this._tooltip.options.sticky&&n.originalEvent&&(a=this._map.mouseEventToContainerPoint(n.originalEvent),u=this._map.containerPointToLayerPoint(a),r=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(r)}});var ud=Gi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),a=this.options;if(a.html instanceof Element?(Ui(r),r.appendChild(a.html)):r.innerHTML=a.html!==!1?a.html:"",a.bgPos){var u=A(a.bgPos);r.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function ag(n){return new ud(n)}Gi.Default=Fr;var $r=tn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){M(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Ne(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof P?n:new P(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,a=-n(-1/0,1/0),u=0,d=r.length,m;u<d;u++)m=r[u].style.zIndex,r[u]!==this._container&&m&&(a=n(a,+m));isFinite(a)&&(this.options.zIndex=a+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ae.ielt9){Se(this._container,this.options.opacity);var n=+new Date,r=!1,a=!1;for(var u in this._tiles){var d=this._tiles[u];if(!(!d.current||!d.loaded)){var m=Math.min(1,(n-d.loaded)/200);Se(d.el,m),m<1?r=!0:(d.active?a=!0:this._onOpaqueTile(d),d.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),r&&(Q(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===n?(this._levels[a].el.style.zIndex=r-Math.abs(n-a),this._onUpdateLevel(a)):(Ne(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var u=this._levels[n],d=this._map;return u||(u=this._levels[n]={},u.el=xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=r,u.origin=d.project(d.unproject(d.getPixelOrigin()),n).round(),u.zoom=n,this._setZoomTransform(u,d.getCenter(),d.getZoom()),y(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var n,r,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var u=r.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Ne(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,a,u){var d=Math.floor(n/2),m=Math.floor(r/2),x=a-1,T=new P(+d,+m);T.z=+x;var I=this._tileCoordsToKey(T),$=this._tiles[I];return $&&$.active?($.retain=!0,!0):($&&$.loaded&&($.retain=!0),x>u?this._retainParent(d,m,x,u):!1)},_retainChildren:function(n,r,a,u){for(var d=2*n;d<2*n+2;d++)for(var m=2*r;m<2*r+2;m++){var x=new P(d,m);x.z=a+1;var T=this._tileCoordsToKey(x),I=this._tiles[T];if(I&&I.active){I.retain=!0;continue}else I&&I.loaded&&(I.retain=!0);a+1<u&&this._retainChildren(d,m,a+1,u)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,a,u){var d=Math.round(r);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var m=this.options.updateWhenZooming&&d!==this._tileZoom;(!u||m)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(n),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var a in this._levels)this._setZoomTransform(this._levels[a],n,r)},_setZoomTransform:function(n,r,a){var u=this._map.getZoomScale(a,n.zoom),d=n.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(r,a)).round();ae.any3d?Xt(n.el,d,u):Re(n.el,d)},_resetGrid:function(){var n=this._map,r=n.options.crs,a=this._tileSize=this.getTileSize(),u=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],u).x/a.x),Math.ceil(n.project([0,r.wrapLng[1]],u).x/a.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],u).y/a.x),Math.ceil(n.project([r.wrapLat[1],0],u).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,a=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),u=r.getZoomScale(a,this._tileZoom),d=r.project(n,this._tileZoom).floor(),m=r.getSize().divideBy(u*2);return new V(d.subtract(m),d.add(m))},_update:function(n){var r=this._map;if(r){var a=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(n),d=this._pxBoundsToTileRange(u),m=d.getCenter(),x=[],T=this.options.keepBuffer,I=new V(d.getBottomLeft().subtract([T,-T]),d.getTopRight().add([T,-T]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $ in this._tiles){var ne=this._tiles[$].coords;(ne.z!==this._tileZoom||!I.contains(new P(ne.x,ne.y)))&&(this._tiles[$].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(n,a);return}for(var de=d.min.y;de<=d.max.y;de++)for(var _e=d.min.x;_e<=d.max.x;_e++){var dt=new P(_e,de);if(dt.z=this._tileZoom,!!this._isValidTile(dt)){var qe=this._tiles[this._tileCoordsToKey(dt)];qe?qe.current=!0:x.push(dt)}}if(x.sort(function(kt,Qi){return kt.distanceTo(m)-Qi.distanceTo(m)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ft=document.createDocumentFragment();for(_e=0;_e<x.length;_e++)this._addTile(x[_e],Ft);this._level.el.appendChild(Ft)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var a=this._globalTileRange;if(!r.wrapLng&&(n.x<a.min.x||n.x>a.max.x)||!r.wrapLat&&(n.y<a.min.y||n.y>a.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(n);return q(this.options.bounds).overlaps(u)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,a=this.getTileSize(),u=n.scaleBy(a),d=u.add(a),m=r.unproject(u,n.z),x=r.unproject(d,n.z);return[m,x]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),a=new me(r[0],r[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),a=new P(+r[0],+r[1]);return a.z=+r[2],a},_removeTile:function(n){var r=this._tiles[n];r&&(Ne(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){pe(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=y,n.onmousemove=y,ae.ielt9&&this.options.opacity<1&&Se(n,this.options.opacity)},_addTile:function(n,r){var a=this._getTilePos(n),u=this._tileCoordsToKey(n),d=this.createTile(this._wrapCoords(n),c(this._tileReady,this,n));this._initTile(d),this.createTile.length<2&&Z(c(this._tileReady,this,n,null,d)),Re(d,a),this._tiles[u]={el:d,coords:n,current:!0},r.appendChild(d),this.fire("tileloadstart",{tile:d,coords:n})},_tileReady:function(n,r,a){r&&this.fire("tileerror",{error:r,tile:a,coords:n});var u=this._tileCoordsToKey(n);a=this._tiles[u],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Se(a.el,0),Q(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),r||(pe(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ae.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new P(this._wrapX?k(n.x,this._wrapX):n.x,this._wrapY?k(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new V(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function lg(n){return new $r(n)}var Xi=$r.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=M(this,r),r.detectRetina&&ae.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var a=document.createElement("img");return ve(a,"load",c(this._tileOnLoad,this,r,a)),ve(a,"error",c(this._tileOnError,this,r,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(n),a},getTileUrl:function(n){var r={r:ae.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=a),r["-y"]=a}return v(this._url,s(r,this.options))},_tileOnLoad:function(n,r){ae.ielt9?setTimeout(c(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,a){var u=this.options.errorTileUrl;u&&r.getAttribute("src")!==u&&(r.src=u),n(a,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,a=this.options.zoomReverse,u=this.options.zoomOffset;return a&&(n=r-n),n+u},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=y,r.onerror=y,!r.complete)){r.src=F;var a=this._tiles[n].coords;Ne(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:a})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",F),$r.prototype._removeTile.call(this,n)},_tileReady:function(n,r,a){if(!(!this._map||a&&a.getAttribute("src")===F))return $r.prototype._tileReady.call(this,n,r,a)}});function cd(n,r){return new Xi(n,r)}var dd=Xi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var a=s({},this.defaultWmsParams);for(var u in r)u in this.options||(a[u]=r[u]);r=M(this,r);var d=r.detectRetina&&ae.retina?2:1,m=this.getTileSize();a.width=m.x*d,a.height=m.y*d,this.wmsParams=a},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Xi.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),a=this._crs,u=re(a.project(r[0]),a.project(r[1])),d=u.min,m=u.max,x=(this._wmsVersion>=1.3&&this._crs===id?[d.y,d.x,m.y,m.x]:[d.x,d.y,m.x,m.y]).join(","),T=Xi.prototype.getTileUrl.call(this,n);return T+K(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(n,r){return s(this.wmsParams,n),r||this.redraw(),this}});function ug(n,r){return new dd(n,r)}Xi.WMS=dd,cd.wms=ug;var En=tn.extend({options:{padding:.1},initialize:function(n){M(this,n),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var a=this._map.getZoomScale(r,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,r),m=u.multiplyBy(-a).add(d).subtract(this._map._getNewPixelOrigin(n,r));ae.any3d?Xt(this._container,m,a):Re(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),a=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new V(a,a.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fd=En.extend({options:{tolerance:0},getEvents:function(){var n=En.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){En.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");ve(n,"mousemove",this._onMouseMove,this),ve(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ve(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,Ne(this._container),Pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){En.prototype._update.call(this);var n=this._bounds,r=this._container,a=n.getSize(),u=ae.retina?2:1;Re(r,n.min),r.width=u*a.x,r.height=u*a.y,r.style.width=a.x+"px",r.style.height=a.y+"px",ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){En.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[h(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,a=r.next,u=r.prev;a?a.prev=u:this._drawLast=u,u?u.next=a:this._drawFirst=a,delete n._order,delete this._layers[h(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),a=[],u,d;for(d=0;d<r.length;d++){if(u=Number(r[d]),isNaN(u))return;a.push(u)}n.options._dashArray=a}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var a=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)n=u.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var a,u,d,m,x=n._parts,T=x.length,I=this._ctx;if(T){for(I.beginPath(),a=0;a<T;a++){for(u=0,d=x[a].length;u<d;u++)m=x[a][u],I[u?"lineTo":"moveTo"](m.x,m.y);r&&I.closePath()}this._fillStroke(I,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,a=this._ctx,u=Math.max(Math.round(n._radius),1),d=(Math.max(Math.round(n._radiusY),1)||u)/u;d!==1&&(a.save(),a.scale(1,d)),a.beginPath(),a.arc(r.x,r.y/d,u,0,Math.PI*2,!1),d!==1&&a.restore(),this._fillStroke(a,n)}},_fillStroke:function(n,r){var a=r.options;a.fill&&(n.globalAlpha=a.fillOpacity,n.fillStyle=a.fillColor||a.color,n.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=a.opacity,n.lineWidth=a.weight,n.strokeStyle=a.color,n.lineCap=a.lineCap,n.lineJoin=a.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),a,u,d=this._drawFirst;d;d=d.next)a=d.layer,a.options.interactive&&a._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(a))&&(u=a);this._fireEvent(u?[u]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(C(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var a,u,d=this._drawFirst;d;d=d.next)a=d.layer,a.options.interactive&&a._containsPoint(r)&&(u=a);u!==this._hoveredLayer&&(this._handleMouseOut(n),u&&(pe(this._container,"leaflet-interactive"),this._fireEvent([u],n,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,a){this._map._fireDOMEvent(r,a||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var a=r.next,u=r.prev;if(a)a.prev=u;else return;u?u.next=a:a&&(this._drawFirst=a),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var a=r.next,u=r.prev;if(u)u.next=a;else return;a?a.prev=u:u&&(this._drawLast=u),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function hd(n){return ae.canvas?new fd(n):null}var Hr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),cg={_initContainer:function(){this._container=xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(En.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=Hr("shape");pe(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=Hr("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[h(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;Ne(r),n.removeInteractiveTarget(r),delete this._layers[h(n)]},_updateStyle:function(n){var r=n._stroke,a=n._fill,u=n.options,d=n._container;d.stroked=!!u.stroke,d.filled=!!u.fill,u.stroke?(r||(r=n._stroke=Hr("stroke")),d.appendChild(r),r.weight=u.weight+"px",r.color=u.color,r.opacity=u.opacity,u.dashArray?r.dashStyle=b(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=u.lineCap.replace("butt","flat"),r.joinstyle=u.lineJoin):r&&(d.removeChild(r),n._stroke=null),u.fill?(a||(a=n._fill=Hr("fill")),d.appendChild(a),a.color=u.fillColor||u.color,a.opacity=u.fillOpacity):a&&(d.removeChild(a),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),a=Math.round(n._radius),u=Math.round(n._radiusY||a);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+a+","+u+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){Zn(n._container)},_bringToBack:function(n){fn(n._container)}},cs=ae.vml?Hr:vt,Ur=En.extend({_initContainer:function(){this._container=cs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ne(this._container),Pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){En.prototype._update.call(this);var n=this._bounds,r=n.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,a.setAttribute("width",r.x),a.setAttribute("height",r.y)),Re(a,n.min),a.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=cs("path");n.options.className&&pe(r,n.options.className),n.options.interactive&&pe(r,"leaflet-interactive"),this._updateStyle(n),this._layers[h(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Ne(n._path),n.removeInteractiveTarget(n._path),delete this._layers[h(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,a=n.options;r&&(a.stroke?(r.setAttribute("stroke",a.color),r.setAttribute("stroke-opacity",a.opacity),r.setAttribute("stroke-width",a.weight),r.setAttribute("stroke-linecap",a.lineCap),r.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?r.setAttribute("stroke-dasharray",a.dashArray):r.removeAttribute("stroke-dasharray"),a.dashOffset?r.setAttribute("stroke-dashoffset",a.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),a.fill?(r.setAttribute("fill",a.fillColor||a.color),r.setAttribute("fill-opacity",a.fillOpacity),r.setAttribute("fill-rule",a.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,Qe(n._parts,r))},_updateCircle:function(n){var r=n._point,a=Math.max(Math.round(n._radius),1),u=Math.max(Math.round(n._radiusY),1)||a,d="a"+a+","+u+" 0 1,0 ",m=n._empty()?"M0 0":"M"+(r.x-a)+","+r.y+d+a*2+",0 "+d+-a*2+",0 ";this._setPath(n,m)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){Zn(n._path)},_bringToBack:function(n){fn(n._path)}});ae.vml&&Ur.include(cg);function pd(n){return ae.svg||ae.vml?new Ur(n):null}we.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&hd(n)||pd(n)}});var md=Yi.extend({initialize:function(n,r){Yi.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=q(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function dg(n,r){return new md(n,r)}Ur.create=cs,Ur.pointsToPath=Qe,Pn.geometryToLayer=is,Pn.coordsToLatLng=sl,Pn.coordsToLatLngs=rs,Pn.latLngToCoords=al,Pn.latLngsToCoords=os,Pn.getFeature=Ki,Pn.asFeature=ss,we.mergeOptions({boxZoom:!0});var gd=gn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wt(),gi(),this._startPoint=this._map.mouseEventToContainerPoint(n),ve(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=xe("div","leaflet-zoom-box",this._container),pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new V(this._point,this._startPoint),a=r.getSize();Re(this._box,r.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(Ne(this._box),C(this._container,"leaflet-crosshair")),st(),Jt(),Pe(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var r=new me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});we.addInitHook("addHandler","boxZoom",gd),we.mergeOptions({doubleClickZoom:!0});var vd=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,a=r.getZoom(),u=r.options.zoomDelta,d=n.originalEvent.shiftKey?a-u:a+u;r.options.doubleClickZoom==="center"?r.setZoom(d):r.setZoomAround(n.containerPoint,d)}});we.addInitHook("addHandler","doubleClickZoom",vd),we.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _d=gn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Fn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){C(this._map._container,"leaflet-grab"),C(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=q(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),a=this._initialWorldOffset,u=this._draggable._newPos.x,d=(u-r+a)%n+r-a,m=(u+r+a)%n-r-a,x=Math.abs(d+a)<Math.abs(m+a)?d:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(n){var r=this._map,a=r.options,u=!a.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),u)r.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,x=a.easeLinearity,T=d.multiplyBy(x/m),I=T.distanceTo([0,0]),$=Math.min(a.inertiaMaxSpeed,I),ne=T.multiplyBy($/I),de=$/(a.inertiaDeceleration*x),_e=ne.multiplyBy(-de/2).round();!_e.x&&!_e.y?r.fire("moveend"):(_e=r._limitOffset(_e,r.options.maxBounds),Z(function(){r.panBy(_e,{duration:de,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});we.addInitHook("addHandler","dragging",_d),we.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yd=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),ve(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,a=n.scrollTop||r.scrollTop,u=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(u,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},a=this.keyCodes,u,d;for(u=0,d=a.left.length;u<d;u++)r[a.left[u]]=[-1*n,0];for(u=0,d=a.right.length;u<d;u++)r[a.right[u]]=[n,0];for(u=0,d=a.down.length;u<d;u++)r[a.down[u]]=[0,n];for(u=0,d=a.up.length;u<d;u++)r[a.up[u]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},a=this.keyCodes,u,d;for(u=0,d=a.zoomIn.length;u<d;u++)r[a.zoomIn[u]]=n;for(u=0,d=a.zoomOut.length;u<d;u++)r[a.zoomOut[u]]=-n},_addHooks:function(){ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,a=this._map,u;if(r in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(u=this._panKeys[r],n.shiftKey&&(u=A(u).multiplyBy(3)),a.options.maxBounds&&(u=a._limitOffset(A(u),a.options.maxBounds)),a.options.worldCopyJump){var d=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(u)));a.panTo(d)}else a.panBy(u)}else if(r in this._zoomKeys)a.setZoom(a.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;yi(n)}}});we.addInitHook("addHandler","keyboard",yd),we.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xd=gn.extend({addHooks:function(){ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Uc(n),a=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var u=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),u),yi(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),a=this._map.options.zoomSnap||0;n._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,m=a?Math.ceil(d/a)*a:d,x=n._limitZoom(r+(this._delta>0?m:-m))-r;this._delta=0,this._startTime=null,x&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+x):n.setZoomAround(this._lastMousePos,r+x))}});we.addInitHook("addHandler","scrollWheelZoom",xd);var fg=600;we.mergeOptions({tapHold:ae.touchNative&&ae.safari&&ae.mobile,tapTolerance:15});var wd=gn.extend({addHooks:function(){ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new P(r.clientX,r.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ve(document,"touchend",tt),ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),fg),ve(document,"touchend touchcancel contextmenu",this._cancel,this),ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Pe(document,"touchend",tt),Pe(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new P(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var a=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});a._simulated=!0,r.target.dispatchEvent(a)}});we.addInitHook("addHandler","tapHold",wd),we.mergeOptions({touchZoom:ae.touch,bounceAtZoomLimits:!0});var kd=gn.extend({addHooks:function(){pe(this._map._container,"leaflet-touch-zoom"),ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){C(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var a=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(a.add(u)._divideBy(2))),this._startDist=a.distanceTo(u),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),ve(document,"touchmove",this._onTouchMove,this),ve(document,"touchend touchcancel",this._onTouchEnd,this),tt(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,a=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]),d=a.distanceTo(u)/this._startDist;if(this._zoom=r.getScaleZoom(d,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&d<1||this._zoom>r.getMaxZoom()&&d>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var m=a._add(u)._divideBy(2)._subtract(this._centerPoint);if(d===1&&m.x===0&&m.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var x=c(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(x,this,!0),tt(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Q(this._animRequest),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});we.addInitHook("addHandler","touchZoom",kd),we.BoxZoom=gd,we.DoubleClickZoom=vd,we.Drag=_d,we.Keyboard=yd,we.ScrollWheelZoom=xd,we.TapHold=wd,we.TouchZoom=kd,i.Bounds=V,i.Browser=ae,i.CRS=fe,i.Canvas=fd,i.Circle=ol,i.CircleMarker=ns,i.Class=B,i.Control=en,i.DivIcon=ud,i.DivOverlay=vn,i.DomEvent=Nm,i.DomUtil=Lm,i.Draggable=Fn,i.Evented=ee,i.FeatureGroup=Sn,i.GeoJSON=Pn,i.GridLayer=$r,i.Handler=gn,i.Icon=Gi,i.ImageOverlay=as,i.LatLng=te,i.LatLngBounds=me,i.Layer=tn,i.LayerGroup=Wi,i.LineUtil=Hm,i.Map=we,i.Marker=ts,i.Mixin=Am,i.Path=$n,i.Point=P,i.PolyUtil=Dm,i.Polygon=Yi,i.Polyline=Cn,i.Popup=ls,i.PosAnimation=Vc,i.Projection=Um,i.Rectangle=md,i.Renderer=En,i.SVG=Ur,i.SVGOverlay=ld,i.TileLayer=Xi,i.Tooltip=us,i.Transformation=Dt,i.Util=N,i.VideoOverlay=ad,i.bind=c,i.bounds=re,i.canvas=hd,i.circle=qm,i.circleMarker=Qm,i.control=Br,i.divIcon=ag,i.extend=s,i.featureGroup=Ym,i.geoJSON=sd,i.geoJson=tg,i.gridLayer=lg,i.icon=Km,i.imageOverlay=ng,i.latLng=oe,i.latLngBounds=q,i.layerGroup=Gm,i.map=Mm,i.marker=Xm,i.point=A,i.polygon=eg,i.polyline=Jm,i.popup=og,i.rectangle=dg,i.setOptions=M,i.stamp=h,i.svg=pd,i.svgOverlay=rg,i.tileLayer=cd,i.tooltip=sg,i.transformation=We,i.version=o,i.videoOverlay=ig;var hg=window.L;i.noConflict=function(){return window.L=hg,this},window.L=i})})(zu,zu.exports);var Mr=zu.exports;const Ac=Fu(Mr);function Oa(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function Ia(e,t){return t==null?function(o,s){const l=S.useRef();return l.current||(l.current=e(o,s)),l}:function(o,s){const l=S.useRef();l.current||(l.current=e(o,s));const c=S.useRef(o),{instance:p}=l.current;return S.useEffect(function(){c.current!==o&&(t(p,o,c.current),c.current=o)},[p,o,s]),l}}function pm(e,t){S.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function mm(e){return function(i){const o=ja(),s=e(Rc(i,o),o);return n0(o.map,i.attribution),hm(s.current,i.eventHandlers),pm(s.current,o),s}}function s0(e,t){const i=S.useRef();S.useEffect(function(){if(t.pathOptions!==i.current){const s=t.pathOptions??{};e.instance.setStyle(s),i.current=s}},[e,t])}function a0(e){return function(i){const o=ja(),s=e(Rc(i,o),o);return hm(s.current,i.eventHandlers),pm(s.current,o),s0(s.current,i),s}}function l0(e){function t(s,l){return Oa(e(s),l)}const i=Ia(t),o=o0(i);return fm(o)}function u0(e,t){const i=Ia(e,t),o=mm(i);return dm(o)}function c0(e,t){const i=Ia(e,t),o=a0(i);return dm(o)}function d0(e,t){const i=Ia(e,t),o=mm(i);return fm(o)}function f0(e,t,i){const{opacity:o,zIndex:s}=t;o!=null&&o!==i.opacity&&e.setOpacity(o),s!=null&&s!==i.zIndex&&e.setZIndex(s)}function gm(){return ja().map}function h0(e){const t=gm();return S.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const p0=l0(function(t){return new Mr.Control.Attribution(t)});function Ru(){return Ru=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Ru.apply(this,arguments)}function m0({bounds:e,boundsOptions:t,center:i,children:o,className:s,id:l,placeholder:c,style:p,whenReady:h,zoom:g,...k},y){const[w]=S.useState({className:s,id:l,style:p}),[E,j]=S.useState(null);S.useImperativeHandle(y,()=>(E==null?void 0:E.map)??null,[E]);const M=S.useCallback(_=>{if(_!==null&&E===null){const v=new Mr.Map(_,k);i!=null&&g!=null?v.setView(i,g):e!=null&&v.fitBounds(e,t),h!=null&&v.whenReady(h),j(r0(v))}},[]);S.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const K=E?vo.createElement(cm,{value:E},o):c??null;return vo.createElement("div",Ru({},w,{ref:M}),K)}const g0=S.forwardRef(m0),Rl=u0(function({position:t,...i},o){const s=new Mr.Marker(t,i);return Oa(s,lm(o,{overlayContainer:s}))},function(t,i,o){i.position!==o.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),Ts=c0(function({positions:t,...i},o){const s=new Mr.Polyline(t,i);return Oa(s,lm(o,{overlayContainer:s}))},function(t,i,o){i.positions!==o.positions&&t.setLatLngs(i.positions)}),v0=d0(function({url:t,...i},o){const s=new Mr.TileLayer(t,Rc(i,o));return Oa(s,o)},function(t,i,o){f0(t,i,o);const{url:s}=i;s!=null&&s!==o.url&&t.setUrl(s)}),_0={},Rf=e=>{let t;const i=new Set,o=(k,y)=>{const w=typeof k=="function"?k(t):k;if(!Object.is(w,t)){const E=t;t=y??(typeof w!="object"||w===null)?w:Object.assign({},t,w),i.forEach(j=>j(t,E))}},s=()=>t,h={setState:o,getState:s,getInitialState:()=>g,subscribe:k=>(i.add(k),()=>i.delete(k)),destroy:()=>{(_0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},g=t=e(o,s,h);return h},y0=e=>e?Rf(e):Rf;var vm={exports:{}},_m={},ym={exports:{}},xm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Er=S;function x0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var w0=typeof Object.is=="function"?Object.is:x0,k0=Er.useState,b0=Er.useEffect,S0=Er.useLayoutEffect,C0=Er.useDebugValue;function P0(e,t){var i=t(),o=k0({inst:{value:i,getSnapshot:t}}),s=o[0].inst,l=o[1];return S0(function(){s.value=i,s.getSnapshot=t,Al(s)&&l({inst:s})},[e,i,t]),b0(function(){return Al(s)&&l({inst:s}),e(function(){Al(s)&&l({inst:s})})},[e]),C0(i),i}function Al(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!w0(e,i)}catch{return!0}}function E0(e,t){return t()}var L0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?E0:P0;xm.useSyncExternalStore=Er.useSyncExternalStore!==void 0?Er.useSyncExternalStore:L0;ym.exports=xm;var T0=ym.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=S,N0=T0;function M0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var j0=typeof Object.is=="function"?Object.is:M0,O0=N0.useSyncExternalStore,I0=za.useRef,z0=za.useEffect,R0=za.useMemo,A0=za.useDebugValue;_m.useSyncExternalStoreWithSelector=function(e,t,i,o,s){var l=I0(null);if(l.current===null){var c={hasValue:!1,value:null};l.current=c}else c=l.current;l=R0(function(){function h(E){if(!g){if(g=!0,k=E,E=o(E),s!==void 0&&c.hasValue){var j=c.value;if(s(j,E))return y=j}return y=E}if(j=y,j0(k,E))return j;var M=o(E);return s!==void 0&&s(j,M)?(k=E,j):(k=E,y=M)}var g=!1,k,y,w=i===void 0?null:i;return[function(){return h(t())},w===null?void 0:function(){return h(w())}]},[t,i,o,s]);var p=O0(e,l[0],l[1]);return z0(function(){c.hasValue=!0,c.value=p},[p]),A0(p),p};vm.exports=_m;var D0=vm.exports;const B0=Fu(D0),wm={},{useDebugValue:Z0}=vo,{useSyncExternalStoreWithSelector:F0}=B0;let Af=!1;const $0=e=>e;function H0(e,t=$0,i){(wm?"production":void 0)!=="production"&&i&&!Af&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Af=!0);const o=F0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,i);return Z0(o),o}const Df=e=>{(wm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?y0(e):e,i=(o,s)=>H0(t,o,s);return Object.assign(i,t),i},km=e=>e?Df(e):Df,bm=e=>{if(typeof globalThis<"u"&&typeof globalThis.atob=="function")return globalThis.atob(e);if(typeof Buffer<"u")return Buffer.from(e,"base64").toString("utf-8");throw new Error("Base64 decoding is not supported in this environment.")},U0=e=>{const t=new Uint8Array(e.length);for(let i=0;i<e.length;i+=1)t[i]=e.charCodeAt(i);return t},V0=e=>{const t=e.replace(/-/g,"+").replace(/_/g,"/"),i=t.length%4===0?"":"=".repeat(4-t.length%4),o=bm(`${t}${i}`);return U0(o)},Bf=e=>Math.round(e*1e6)/1e6,Zf=e=>typeof e=="number"&&Number.isFinite(e),er=e=>{if(!e||typeof e!="object")return null;const t=Number(e.lat),i=Number(e.lng);return!Zf(t)||!Zf(i)||t<-90||t>90||i<-180||i>180?null:{lat:Bf(t),lng:Bf(i)}},zo=4,Ji=1e5,ma="#38bdf8",Au={r:"#ef4444",o:"#f97316",a:"#f59e0b",y:"#eab308",l:"#84cc16",g:"#22c55e",e:"#10b981",t:"#14b8a6",c:"#06b6d4",s:"#0ea5e9",b:"#3b82f6",i:"#6366f1",v:"#8b5cf6",p:"#a855f7",f:"#d946ef",k:"#ec4899",z:"#f43f5e",x:"#64748b",d:"#6b7280",m:"#71717a",n:"#737373",w:"#78716c",0:"#000000",1:"#ffffff"},Ff=Object.entries(Au).reduce((e,[t,i])=>(e[i]=t,e),{}),mo=e=>{if(!e||typeof e!="object")return null;const t=typeof e.version=="number"?e.version:zo;if(t<3){let l=[],c="direct";if(t===1){c=e.connectVia==="route"?"route":"direct";const p=er(e.start),h=er(e.end),g=Array.isArray(e.checkpoints)?e.checkpoints.map(er).filter(Boolean):[];p&&l.push(p),l.push(...g),h&&l.push(h)}else c=e.connectVia==="route"?"route":"direct",l=Array.isArray(e.checkpoints)?e.checkpoints.map(er).filter(Boolean):[];return{version:3,connectVia:c,checkpoints:l,routes:[{name:"Route 1",color:"#38bdf8",indices:l.map((p,h)=>h),isVisible:!0}]}}if(t>zo)return null;const i=e.connectVia==="route"?"route":"direct",o=Array.isArray(e.checkpoints)?e.checkpoints.map(er).filter(Boolean):[],s=Array.isArray(e.routes)?e.routes.map(l=>({name:typeof l.name=="string"?l.name.slice(0,20):"Route",color:l.color===null?null:typeof l.color=="string"?l.color:ma,indices:Array.isArray(l.indices)?l.indices.filter(c=>typeof c=="number"&&c>=0&&c<o.length):[],isVisible:typeof l.isVisible=="boolean"?l.isVisible:!0})):[];return{version:t,connectVia:i,checkpoints:o,routes:s}},W0=({checkpointMap:e,routes:t,connectVia:i,includeNames:o=!1,includeColors:s=!1})=>{const l=new Set;t.forEach(g=>{Array.isArray(g.items)&&g.items.forEach(k=>l.add(k))});const c=[],p={};Array.from(l).forEach(g=>{const k=e[g];k&&k.position&&(p[g]=c.length,c.push(k.position))});const h=t.map(g=>({name:o?g.name:"",color:s?g.color:null,isVisible:g.isVisible,indices:(g.items||[]).map(k=>p[k]).filter(k=>typeof k=="number")}));return{version:zo,connectVia:i,checkpoints:c,routes:h}},G0=e=>{try{const t=V0(e);if(t.length<4)return null;const i=new DataView(t.buffer,t.byteOffset,t.byteLength);let o=0;const s=i.getUint8(o);if(o+=1,s<1||s>zo)return null;if(s<3){let y="direct";const w=[];if(s===1){const E=i.getUint8(o);o+=1,y=i.getUint8(o)===1?"route":"direct",o+=1;const j=i.getUint16(o,!1);o+=2;const M=()=>{const K=i.getInt32(o,!1)/Ji;o+=4;const _=i.getInt32(o,!1)/Ji;return o+=4,{lat:K,lng:_}};E&1&&w.push(M());for(let K=0;K<j;K+=1)w.push(M());E&2&&w.push(M())}else{y=i.getUint8(o)===1?"route":"direct",o+=1;const E=i.getUint16(o,!1);o+=2;for(let j=0;j<E;j+=1){const M=i.getInt32(o,!1)/Ji;o+=4;const K=i.getInt32(o,!1)/Ji;o+=4,w.push({lat:M,lng:K})}}return{version:3,connectVia:y,checkpoints:w,routes:[{name:"Route 1",color:ma,isVisible:!0,indices:w.map((E,j)=>j)}]}}const l=i.getUint8(o)===1?"route":"direct";o+=1;const c=i.getUint16(o,!1);o+=2;const p=i.getUint8(o);o+=1;const h=[];for(let y=0;y<c;y+=1){const w=i.getInt32(o,!1)/Ji;o+=4;const E=i.getInt32(o,!1)/Ji;o+=4,h.push({lat:w,lng:E})}const g=new TextDecoder,k=[];for(let y=0;y<p;y+=1)if(s===3){const w=i.getUint8(o);o+=1;const E=new Uint8Array(t.buffer,t.byteOffset+o,w),j=g.decode(E);o+=w;const M=i.getUint8(o);o+=1;const K=new Uint8Array(t.buffer,t.byteOffset+o,M),_=g.decode(K);o+=M;const v=i.getUint8(o)===1;o+=1;const b=i.getUint16(o,!1);o+=2;const O=[];for(let F=0;F<b;F+=1)O.push(i.getUint16(o,!1)),o+=2;k.push({name:_,color:j,isVisible:v,indices:O})}else{const w=i.getUint8(o);o+=1;const E=new Uint8Array(t.buffer,t.byteOffset+o,w);let j=g.decode(E);o+=w,j||(j=`Route ${y+1}`);const M=i.getUint16(o,!1);o+=2;const K=[];for(let _=0;_<M;_+=1)K.push(i.getUint16(o,!1)),o+=2;k.push({name:j,color:ma,isVisible:!0,indices:K})}return{version:s,connectVia:l,checkpoints:h,routes:k}}catch(t){return console.error(t),null}},Y0=e=>{const t=e.checkpoints,i=e.routes;let o="";return i.map(s=>{const l=s.indices.map(g=>{const k=t[g];if(!k)return null;const y=Dc(k,9);let w=0;if(o){const j=Math.min(o.length,y.length);for(;w<j&&o[w]===y[w];)w+=1}const E=y.slice(w);return o=y,E}).filter(g=>g!==null);if(l.length===0)return null;const c=l.join("_"),p=s.name&&s.name.trim().length>0,h=s.color&&s.color.trim().length>0;if(p||h){const g=p?encodeURIComponent(s.name).replace(/%20/g,"+"):"";let k="";if(h){const y=s.color.toLowerCase();Ff[y]?k=Ff[y]:y.startsWith("#")?(k=y.slice(1),k.length===6&&k[0]===k[1]&&k[2]===k[3]&&k[4]===k[5]&&(k=k[0]+k[2]+k[4])):k=encodeURIComponent(s.color)}return h?`(${g},${k})${c}`:`(${g})${c}`}return c}).filter(s=>s&&s.length>0).join(" ")},K0=e=>{if(!/^[a-z0-9_ \(\)\%\-\.\~\!\*\'\(\)\,\+]+$/i.test(e))return null;const t=e.split(/\s+/).filter(Boolean);if(t.length===0)return null;const i=[],o=[];let s="";return t.forEach((l,c)=>{let p=`Route ${c+1}`,h=ma,g=l;const k=l.match(/^\((.*?)\)(.*)/);if(k){const E=k[1];g=k[2];const j=E.split(",");if(j.length>0&&j[0])try{p=decodeURIComponent(j[0].replace(/\+/g,"%20"))}catch{p=j[0]}if(j.length>1&&j[1]){const M=j[1];if(Au[M])h=Au[M];else if(/^[0-9a-f]{3,6}$/i.test(M))h=`#${M}`;else try{h=decodeURIComponent(M)}catch{h=M}}}const y=g.length===0?[""]:g.split("_"),w=[];y.forEach(E=>{let j=E;const K=9-E.length;K>0&&s.length>=K&&(j=s.slice(0,K)+E);const _=Du(j);_&&(s=j,w.push(i.length),i.push(_))}),w.length>0&&o.push({name:p,color:h,isVisible:!0,indices:w})}),o.length===0?null:{version:zo,connectVia:"direct",checkpoints:i,routes:o}},X0=e=>{const t=mo(e);return t?Y0(t):""},Q0=e=>{if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const i=G0(t);if(i)return mo(i);const o=K0(t);if(o)return mo(o);try{const s=JSON.parse(bm(t));return mo(s)}catch{return null}},Sm="0123456789bcdefghjkmnpqrstuvwxyz",go=[16,8,4,2,1],Dc=(e,t=9)=>{if(typeof t!="number"||t<1||t>12)throw new Error("encodeLocationCode precision must be between 1 and 12.");const i=er(e);if(!i)return null;let o=-90,s=90,l=-180,c=180,p=!0,h=0,g=0,k="";for(;k.length<t;){if(p){const y=(l+c)/2;i.lng>=y?(g|=go[h],l=y):c=y}else{const y=(o+s)/2;i.lat>=y?(g|=go[h],o=y):s=y}p=!p,h<go.length-1?h+=1:(k+=Sm[g],h=0,g=0)}return k},Du=e=>{if(typeof e!="string"||e.length===0)return null;let t=-90,i=90,o=-180,s=180,l=!0;for(let c=0;c<e.length;c+=1){const p=e[c].toLowerCase(),h=Sm.indexOf(p);if(h===-1)return null;for(let g=0;g<go.length;g+=1){const k=go[g];if(l){const y=(o+s)/2;h&k?o=y:s=y}else{const y=(t+i)/2;h&k?t=y:i=y}l=!l}}return{lat:(t+i)/2,lng:(o+s)/2}},Jr=e=>`${e}-${Math.random().toString(36).slice(2,9)}`,Bu="#38bdf8",yr={checkpointMap:{},routes:[{id:"route-1",name:"Route 1",color:Bu,items:[],isVisible:!0,nextLabelIndex:1}],activeRouteId:"route-1",selectedId:null,connectVia:"direct",placementMode:null},$f=e=>e==null?null:typeof e=="string"?{type:e}:typeof e=="object"&&typeof e.type=="string"?e:null,q0=km((e,t)=>({...yr,addRoute:(i="New Route",o=Bu)=>e(s=>{const l={id:Jr("route"),name:i,color:o,items:[],isVisible:!0,nextLabelIndex:1};return{routes:[...s.routes,l],activeRouteId:l.id}}),removeRoute:i=>e(o=>{if(o.routes.length<=1)return o;const s=o.routes.filter(h=>h.id!==i),l=o.activeRouteId===i?s[0].id:o.activeRouteId,c=new Set(s.flatMap(h=>h.items)),p={};return Object.values(o.checkpointMap).forEach(h=>{c.has(h.id)&&(p[h.id]=h)}),{routes:s,activeRouteId:l,checkpointMap:p,selectedId:o.selectedId}}),setActiveRoute:i=>e(o=>({activeRouteId:o.routes.find(s=>s.id===i)?i:o.activeRouteId})),updateRoute:(i,o)=>e(s=>({routes:s.routes.map(l=>l.id===i?{...l,...o}:l)})),setPlacementMode:i=>e(o=>{const s=$f(i);if(!s)return{placementMode:null};const l=$f(o.placementMode);return(l==null?void 0:l.type)===s.type&&((l==null?void 0:l.insertIndex)??null)===((s==null?void 0:s.insertIndex)??null)?{placementMode:null}:{placementMode:s}}),toggleConnectMode:()=>e(i=>({connectVia:i.connectVia==="direct"?"route":"direct"})),addCheckpoint:(i,o)=>e(s=>{var w;const l=s.routes.find(E=>E.id===s.activeRouteId);if(!l)return s;const c=typeof l.nextLabelIndex=="number"?l.nextLabelIndex:(((w=l.items)==null?void 0:w.length)??0)+1,p={id:Jr("checkpoint"),position:i,name:`Point ${c}`},h={...s.checkpointMap,[p.id]:p},g=[...l.items];typeof o=="number"&&o>=0&&o<=g.length?g.splice(o,0,p.id):g.push(p.id);const k={...l,items:g,nextLabelIndex:c+1},y=s.routes.map(E=>E.id===s.activeRouteId?k:E);return{checkpointMap:h,routes:y,placementMode:null,selectedId:p.id}}),selectCheckpoint:i=>e({selectedId:i}),updateCheckpoint:(i,o)=>e(s=>({checkpointMap:{...s.checkpointMap,[i]:{...s.checkpointMap[i],position:o}}})),moveCheckpoint:(i,o)=>e(s=>{const l=s.routes.find(h=>h.id===s.activeRouteId);if(!l)return s;const c=l.items.indexOf(i);if(c===-1||typeof o!="number")return s;const p=[...l.items];return o<0||o>=p.length||o===c?s:(p.splice(c,1),p.splice(o,0,i),{routes:s.routes.map(h=>h.id===s.activeRouteId?{...h,items:p}:h)})}),removeCheckpoint:i=>e(o=>{const s=o.routes.find(g=>g.id===o.activeRouteId);if(!s)return o;const l=s.items.includes(i);let c=o.routes;l?c=o.routes.map(g=>g.id===o.activeRouteId?{...g,items:g.items.filter(k=>k!==i)}:g):c=o.routes.map(g=>({...g,items:g.items.filter(k=>k!==i)}));const p=new Set(c.flatMap(g=>g.items)),h={};return Object.values(o.checkpointMap).forEach(g=>{p.has(g.id)&&(h[g.id]=g)}),{routes:c,checkpointMap:h,selectedId:o.selectedId===i?null:o.selectedId,placementMode:null}}),loadRouteSnapshot:i=>e(o=>{const s=mo(i);if(!s)return o;const l={},p=(s.checkpoints||[]).map((g,k)=>{const y=Jr("checkpoint");return l[y]={id:y,position:g,name:`Point ${k+1}`},y}),h=s.routes.map(g=>{const k=g.indices.map(y=>p[y]).filter(Boolean);return{id:Jr("route"),name:g.name,color:g.color,isVisible:g.isVisible,items:k,nextLabelIndex:k.length+1}});if(h.length===0){const g=Jr("route");h.push({id:g,name:"Route 1",color:Bu,items:p,isVisible:!0,nextLabelIndex:p.length+1})}return{...yr,connectVia:s.connectVia,checkpointMap:l,routes:h,activeRouteId:h[0].id,selectedId:null,placementMode:null}}),clearAll:()=>e(yr),swapCheckpoints:(i,o)=>e(s=>{const l=s.routes.find(g=>g.id===s.activeRouteId);if(!l)return s;const c=l.items.indexOf(i),p=l.items.indexOf(o);if(c===-1||p===-1)return s;const h=[...l.items];return h[c]=o,h[p]=i,{routes:s.routes.map(g=>g.id===s.activeRouteId?{...g,items:h}:g)}})})),jr=()=>q0(e=>{const t=Array.isArray(e.routes)?e.routes:yr.routes,i=e.checkpointMap||yr.checkpointMap,o=e.activeRouteId||yr.activeRouteId,s=t.find(c=>c.id===o)||t[0],l=s?s.items.map(c=>i[c]).filter(Boolean):[];return{...e,routes:t,checkpointMap:i,activeRouteId:o,checkpoints:l,activeRoute:s}}),J0=({onDropItem:e})=>{const t=gm();return S.useEffect(()=>{if(!e)return;const i=t.getContainer(),o=c=>{c.preventDefault(),c.dataTransfer.dropEffect="copy"},s=c=>{c.preventDefault(),c.dataTransfer.dropEffect="copy"},l=c=>{c.preventDefault(),c.stopPropagation();const{clientX:p,clientY:h}=c,g=i.getBoundingClientRect(),k=p-g.left,y=h-g.top,w=t.containerPointToLatLng([k,y]),E=c.dataTransfer.getData("application/x-cadet-map-item");E&&e(E,w)};return i.addEventListener("dragenter",o),i.addEventListener("dragover",s),i.addEventListener("drop",l),()=>{i.removeEventListener("dragenter",o),i.removeEventListener("dragover",s),i.removeEventListener("drop",l)}},[t,e]),null},ey=Object.assign({"../../assets/compass.png":X_,"../../assets/layer.png":Q_,"../../assets/menu.png":q_,"../../assets/route.png":J_,"../../assets/settings.png":e0,"../../assets/zoom.png":t0}),ty=e=>ey[`../../assets/${e}.png`]??null,eo=({iconName:e,label:t,onClick:i,title:o,isActive:s=!1,disabled:l=!1,themeStyles:c})=>{const p=ty(e),h=(c==null?void 0:c.button)??{},g=h.base??"flex h-12 w-12 items-center justify-center rounded-2xl border transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",k=h.active??"border-sky-500 bg-sky-200 text-slate-900 focus-visible:ring-sky-400",y=h.idle??"border-slate-300 bg-slate-100 text-slate-900 hover:border-slate-400 hover:bg-slate-200 focus-visible:ring-slate-500/50",w=l?h.disabled??"opacity-60 pointer-events-none":"",E=(c==null?void 0:c.iconStyle)??null,j=(c==null?void 0:c.iconClass)??"";return f.jsx("button",{type:"button",className:`${g} ${s?k:y} ${w}`,onClick:i,title:o??t,"aria-label":t,disabled:l,children:p?f.jsx("img",{src:p,alt:"",className:`h-5 w-5 object-contain select-none ${j}`,style:E??void 0,"aria-hidden":"true",draggable:"false"}):f.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide",children:t})})},ny=[51.505,10],Dl={street:{id:"street",label:"OpenStreetMap Standard",description:"Balanced street map with global coverage sourced from the OpenStreetMap community.",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c"],maxZoom:19,minZoom:3,category:"Streets"},light:{id:"light",label:"Carto Light",description:"Soft grayscale basemap designed for daylight navigation with minimal visual noise.",url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://carto.com/attributions">CARTO</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c","d"],maxZoom:19,minZoom:3,category:"Streets"},dark:{id:"dark",label:"Carto Dark Matter",description:"Night-friendly basemap with high contrast roads and landmarks on a deep navy canvas.",url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://carto.com/attributions">CARTO</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c","d"],maxZoom:19,minZoom:3,category:"Streets"},voyager:{id:"voyager",label:"Carto Voyager",description:"Colorful, detail-rich cartography ideal for orientation and wayfinding at multiple zoom levels.",url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://carto.com/attributions">CARTO</a> | Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:["a","b","c","d"],maxZoom:19,minZoom:3,category:"Streets"},hot:{id:"hot",label:"OSM Humanitarian",description:"Humanitarian OpenStreetMap Team basemap with emphasis on populated areas and infrastructure.",url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="https://www.hotosm.org/">Humanitarian OpenStreetMap Team</a>',subdomains:["a","b","c"],maxZoom:19,minZoom:3,category:"Streets"},topo:{id:"topo",label:"OpenTopoMap",description:"Topographic map derived from OSM data with contour lines and terrain shading.",url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors | SRTM | <a href="https://opentopomap.org">OpenTopoMap</a>',subdomains:["a","b","c"],maxZoom:17,minZoom:3,category:"Outdoor"},satellite:{id:"satellite",label:"Esri World Imagery",description:"High-resolution satellite and aerial imagery from Esri and the GIS user community.",url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Imagery &copy; Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",subdomains:[],maxZoom:19,minZoom:3,category:"Imagery"}},iy=["street","light","dark","voyager","hot","topo","satellite"],Hf={light:{container:"pointer-events-auto flex flex-col gap-2 rounded-3xl border border-slate-200 bg-slate-100 p-2 text-slate-900 backdrop-blur-sm",badge:"rounded-full border border-slate-300 bg-slate-100 px-3 py-1 text-[10px] font-semibold text-slate-700",button:{base:"flex h-12 w-12 items-center justify-center rounded-2xl border transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-slate-400/40 focus-visible:ring-offset-slate-100/60",active:"border-sky-500 bg-sky-200 text-slate-900",idle:"border-slate-300 bg-slate-100 text-slate-900 hover:border-slate-400 hover:bg-slate-200",disabled:"opacity-60 pointer-events-none"},panel:"pointer-events-auto w-60 rounded-3xl border border-slate-200 bg-slate-100 p-4 text-slate-900 backdrop-blur-md",panelTitle:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",panelButton:"rounded-xl border border-slate-300 bg-white px-3 py-1.5 text-[12px] font-semibold text-slate-900 transition hover:border-sky-400 hover:bg-sky-100",panelToggle:"rounded-xl border border-slate-300 bg-slate-100 px-3 py-1.5 text-[12px] font-semibold text-slate-900 transition hover:border-sky-400 hover:bg-sky-100",layerScroll:"flex max-h-60 flex-col gap-2 overflow-y-auto pr-1",layerOption:"flex flex-col gap-1 rounded-2xl border border-slate-300 bg-white px-3 py-2 text-left transition hover:border-sky-400 hover:bg-sky-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/40",layerOptionActive:"border-sky-500 bg-sky-100 text-slate-900 shadow-inner shadow-sky-200/60",layerOptionDescription:"text-[11px] text-slate-500 leading-snug",layerOptionCategory:"text-[10px] font-semibold uppercase tracking-wide text-slate-400",iconStyle:null,iconClass:""},dark:{container:"pointer-events-auto flex flex-col gap-2 rounded-3xl border border-slate-700 bg-[#0b1224] p-2 text-slate-100 backdrop-blur-sm",badge:"rounded-full border border-slate-600 bg-[#0f1b38] px-3 py-1 text-[10px] font-semibold text-slate-200",button:{base:"flex h-12 w-12 items-center justify-center rounded-2xl border transition-colors duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-slate-200/30 focus-visible:ring-offset-[#0b1224]/40",active:"border-sky-400 bg-[#1e335d] text-sky-100",idle:"border-slate-600 bg-[#0d172e] text-slate-100 hover:border-slate-400 hover:bg-[#15213f]",disabled:"opacity-50 pointer-events-none"},panel:"pointer-events-auto w-60 rounded-3xl border border-slate-700 bg-[#080f1e] p-4 text-slate-100 backdrop-blur-md",panelTitle:"text-[11px] font-semibold uppercase tracking-wide text-slate-400",panelButton:"rounded-xl border border-slate-600 bg-[#111b33] px-3 py-1.5 text-[12px] font-semibold text-slate-100 transition hover:border-sky-400 hover:bg-[#1d2b4e]",panelToggle:"rounded-xl border border-slate-500 bg-[#0f1b38] px-3 py-1.5 text-[12px] font-semibold text-slate-100 transition hover:border-sky-400 hover:bg-[#1a2a4d]",layerScroll:"flex max-h-60 flex-col gap-2 overflow-y-auto pr-1",layerOption:"flex flex-col gap-1 rounded-2xl border border-slate-600 bg-[#101d39] px-3 py-2 text-left transition hover:border-sky-400 hover:bg-[#16254a] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-200/30",layerOptionActive:"border-sky-400 bg-[#1e335d] text-sky-100 shadow-inner shadow-sky-900/40",layerOptionDescription:"text-[11px] text-slate-300 leading-snug",layerOptionCategory:"text-[10px] font-semibold uppercase tracking-wide text-slate-400/90",iconStyle:{filter:"invert(0.9)"},iconClass:""}},ry=6,oy=[{id:"getting-started",title:"Getting started",description:"Allow location access, pick an active route, then use placement or grid tools to build precise checkpoint lists.",points:['Use the Route tab to manage multiple routes. Click "Add New Route" to start fresh, rename it, and choose a colour for quick identification.','Tap "Add Checkpoint" inside a route to enter placement mode. Drop the route-coloured puck onto the map or a Grid Tool preview marker to add that position.','Share progress from the Route tools: copy codes for a single route or use "All Routes" to export the full plan.']},{id:"toolbar",title:"Toolbar buttons",description:"Each button in the floating toolbar opens a tool. The Menu button mirrors these shortcuts, so every tool is reachable even when the bar is hidden.",points:["Menu toggles quick actions for Compass, Route, Grid, and Share tools without leaving the map.","Compass opens the heading overlay. Select a target route to get bearings and switch between degrees or mils.","Route opens the checkpoint manager where you can reorder points, adjust colours, and generate share codes."]},{id:"maps",title:"Choosing maps",description:"Different base layers emphasise different features. Pick the layer that best supports the task at hand.",points:["OpenStreetMap Street is the fallback layer and works reliably online or with low mobile reception.","Carto Light or Dark provide high-contrast styling that is easier to read in bright sun or at night.","OpenTopoMap is ideal for land navigation where contours and terrain shading matter.","Esri Satellite is ideal when you need to see real details, but is heavy on mobile data."]}],sy=(e,t,i)=>{const o=e*Math.PI/180,s=2**i,l=Math.floor((t+180)/360*s),c=Math.floor((1-Math.log(Math.tan(o)+1/Math.cos(o))/Math.PI)/2*s),p=s-1;return{x:Math.min(Math.max(l,0),p),y:Math.min(Math.max(c,0),p),z:i}},ay=(e,t,{x:i,y:o,z:s})=>{const l=Array.isArray(t)&&t.length>0?t:[""],c=Math.abs((i+o)%l.length),p=l[c];return e.replace("{s}",p).replace("{x}",i).replace("{y}",o).replace("{z}",s)},$o=(e,t)=>Ac.divIcon({className:"flex items-center justify-center rounded-full text-xs font-semibold text-white shadow-lg shadow-slate-900/50",html:`<div style="background:${e};width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:9999px;">${t}</div>`});$o("#22c55e","S");$o("#ef4444","F");$o("#3b82f6","");const ly=$o("#d946ef",""),uy=e=>Ac.divIcon({className:"user-heading-icon",html:`
      <div style="position:relative;width:44px;height:44px;">
        <div style="position:absolute;inset:0;border-radius:50%;background:rgba(14,165,233,0.12);border:2px solid rgba(56,189,248,0.9);box-shadow:0 0 8px rgba(56,189,248,0.4);"></div>
        <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(${e}deg);transform-origin:center;">
          <div style="width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:18px solid #fbbf24;"></div>
        </div>
      </div>
    `,iconSize:[44,44],iconAnchor:[22,22]}),cy=()=>{const{placementMode:e,addCheckpoint:t,setPlacementMode:i}=jr();return h0({click:o=>{if(!e)return;const s=typeof e=="string"?{type:e}:e;if(!(s!=null&&s.type))return;const{latlng:l}=o;if(s.type==="checkpoint"){const c=typeof s.insertIndex=="number"?s.insertIndex:void 0;t({lat:l.lat,lng:l.lng},c)}i(null)}}),null},dy=({userLocation:e,userHeading:t,targets:i=[],onEnableLocation:o,locationEnabled:s,hasLocationFix:l,isRequestingLocation:c,locationRequestToken:p=0,baseLayer:h="street",onBaseLayerChange:g,onToggleMenu:k,onOpenCompass:y,onOpenRoute:w,toolbarTheme:E="light",onToolbarThemeToggle:j,isMenuOpen:M=!1,isSettingsOpen:K=!1,onToggleSettings:_,previewLocation:v,onDropItem:b,hideToolbar:O=!1})=>{const{checkpoints:F,checkpointMap:G,routes:U,activeRouteId:R,connectVia:z,selectedId:D,selectCheckpoint:Z,updateCheckpoint:Q,setPlacementMode:N,toggleConnectMode:B,loadRouteSnapshot:X,placementMode:Y,addCheckpoint:ee}=jr(),P=S.useRef(null),H=S.useRef(!1),A=S.useRef(0),[V,re]=S.useState(null),[me,q]=S.useState(!1),[te,oe]=S.useState(!1),[fe,ge]=S.useState("settings"),[Rt,At]=S.useState(0),[Dt,We]=S.useState(null),[gt,Yt]=S.useState(""),[vt,Qe]=S.useState(null),[le,Le]=S.useState(!1),[Ge,Lt]=S.useState(!1),[Te,Bt]=S.useState(""),[Ri,cn]=S.useState("checkpoint"),[Kt,Tt]=S.useState(null),_t=S.useRef(null),dn=S.useRef(0),ui=S.useRef(null),se=S.useRef(null),ce=S.useRef(null),be=S.useRef(null),ze=S.useRef(null),Oe=Dl[h]??Dl.street,ue=Hf[E]??Hf.light,Ra=E==="dark"?"map-theme-dark":"map-theme-light",ci=e?[e.lat,e.lng]:ny,Aa=e?"user-centered":"default-centered",ot=S.useCallback(()=>{P.current&&P.current.invalidateSize({animate:!1})},[]),Ho=S.useMemo(()=>iy.map(C=>Dl[C]).filter(Boolean),[]),Uo=S.useMemo(()=>({top:"calc(env(safe-area-inset-top, 0px) + 1rem)",right:"calc(env(safe-area-inset-right, 0px) + 1rem)"}),[]),[di,Da]=S.useState("all"),Ai=S.useMemo(()=>di==="all"?U:U.filter(C=>C.id===di),[U,di]),yt=S.useMemo(()=>W0({checkpointMap:G,routes:Ai,connectVia:z,includeNames:le,includeColors:Ge}),[G,Ai,z,le,Ge]),fi=S.useMemo(()=>yt?X0(yt):"",[yt]),Vo=S.useMemo(()=>{if(!yt)return null;const C=[];yt.checkpoints.length>0&&C.push(`${yt.checkpoints.length} checkpoint${yt.checkpoints.length===1?"":"s"}`),yt.routes&&yt.routes.length>0&&C.push(`${yt.routes.length} route${yt.routes.length===1?"":"s"}`);const J=C.length?`Includes ${C.join(", ")}. `:"";return le&&Ge?`${J}Compact text format (connection mode excluded).`:le?`${J}Compact text format (connection mode & colors excluded).`:Ge?`${J}Compact text format (names & connection mode excluded).`:`${J}Compact text format (names, connection mode & colors excluded).`},[yt,le,Ge]),Di=!!fi,Bi=S.useMemo(()=>Ai.map(C=>{const J=C.items.map((he,Se)=>{const hn=G[he];return hn?{key:`${C.id}-${hn.id}`,label:hn.name||`Point ${Se+1}`,code:Dc(hn.position),position:hn.position}:null}).filter(Boolean);return J.length===0?null:{route:C.name,color:C.color,codes:J}}).filter(Boolean),[Ai,G]),Or=S.useCallback(C=>C==="success"?"text-emerald-500":C==="error"?"text-rose-500":C==="warning"?"text-amber-500":"text-slate-500",[]),Zi=S.useCallback((C,J,he=2500)=>{ce.current&&typeof window<"u"&&(window.clearTimeout(ce.current),ce.current=null),We(J?{tone:C,message:J}:null),J&&he!==null&&typeof window<"u"&&(ce.current=window.setTimeout(()=>{We(null),ce.current=null},he))},[We,ce]),Fi=S.useCallback((C,J,he=4e3)=>{be.current&&typeof window<"u"&&(window.clearTimeout(be.current),be.current=null),Qe(J?{tone:C,message:J}:null),J&&he!==null&&typeof window<"u"&&(be.current=window.setTimeout(()=>{Qe(null),Tt(null),be.current=null},he))},[Qe,be]),Ba=S.useCallback(async()=>{var C;if(!Di){Zi("warning","Define a route to generate a share code.",3200);return}try{let J=!1;if(typeof navigator<"u"&&((C=navigator.clipboard)!=null&&C.writeText))await navigator.clipboard.writeText(fi),J=!0;else if(typeof document<"u"&&se.current){const he=se.current;he.focus(),he.select(),typeof he.setSelectionRange=="function"&&he.setSelectionRange(0,fi.length),J=!!(typeof document.execCommand=="function"&&document.execCommand("copy"))}if(!J)throw new Error("Copy not supported");Zi("success","Share code copied to clipboard.",2500)}catch(J){Zi("error",J!=null&&J.message&&J.message!=="Copy not supported"?J.message:"Copy failed. Try selecting and copying the code manually.",4e3)}},[Di,fi,Zi]),xt=S.useCallback(()=>{const C=gt.trim();if(!C){Fi("warning","Paste a share code to import.",3500);return}const J=Q0(C);if(!J){Fi("error","That share code could not be read. Check the full code and try again.",4e3);return}X(J),Yt(""),Fi("success","Route imported. Close this panel to review it on the map.",4e3)},[X,gt,Fi]),ae=S.useCallback(C=>{be.current&&typeof window<"u"&&(window.clearTimeout(be.current),be.current=null),Yt(C.target.value),Qe(null)},[Qe,Yt,be]),Wo=S.useCallback(C=>{(C.ctrlKey||C.metaKey)&&C.key==="Enter"&&(C.preventDefault(),xt())},[xt]);S.useEffect(()=>{fe!=="share"&&(We(null),Qe(null),ce.current&&typeof window<"u"&&(window.clearTimeout(ce.current),ce.current=null),be.current&&typeof window<"u"&&(window.clearTimeout(be.current),be.current=null))},[fe]);const Dn=S.useMemo(()=>E==="light"?"border border-slate-300 bg-white text-slate-900 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-400":"border border-slate-700 bg-slate-950 text-slate-100 focus:border-sky-400 focus:outline-none focus:ring-1 focus:ring-sky-500",[E]),$i=S.useMemo(()=>{if(!Y)return null;const C=typeof Y=="string"?{type:Y}:Y;return C!=null&&C.type?C.type==="start"?"Start point":C.type==="end"?"End point":C.type==="checkpoint"?typeof C.insertIndex=="number"?`Checkpoint (position ${C.insertIndex+1})`:"Checkpoint":null:null},[Y]),Ir=S.useMemo(()=>$i?[{key:"placement",text:`Currently placing: ${$i}`,tone:"emerald"}]:[],[$i]),$e=S.useCallback((C,J="info",he=4e3)=>{_t.current&&typeof window<"u"&&(window.clearTimeout(_t.current),_t.current=null),re(C?{message:C,tone:J}:null),C&&he!==null&&typeof window<"u"&&(_t.current=window.setTimeout(()=>{re(null),_t.current=null},he))},[]);S.useEffect(()=>{Ac.Icon.Default.mergeOptions({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},[]),S.useEffect(()=>{$e(null),q(!1),dn.current=0,At(C=>C+1)},[h,$e]),S.useEffect(()=>{M&&ge("settings")},[M,ge]),S.useEffect(()=>{if(!te||typeof window>"u")return;const C=()=>{window.requestAnimationFrame(ot)};return window.requestAnimationFrame(ot),window.addEventListener("resize",C,{passive:!0}),window.addEventListener("orientationchange",C,{passive:!0}),()=>{window.removeEventListener("resize",C),window.removeEventListener("orientationchange",C)}},[te,ot]),S.useEffect(()=>{var he;if(!te||typeof ResizeObserver>"u")return;const C=(he=P.current)==null?void 0:he.getContainer();if(!C)return;const J=new ResizeObserver(()=>{typeof window<"u"?window.requestAnimationFrame(ot):ot()});return J.observe(C),()=>J.disconnect()},[te,ot]),S.useEffect(()=>{te&&ot()},[te,ot,E,K,M,h]),S.useEffect(()=>{!P.current||!e||H.current||(P.current.setView([e.lat,e.lng],16),H.current=!0)},[e]),S.useEffect(()=>{ui.current=e},[e]),S.useEffect(()=>{if(!P.current)return;H.current=!1,ot();const C=ui.current;C&&(P.current.flyTo([C.lat,C.lng],Math.max(P.current.getZoom(),16),{animate:!1}),H.current=!0)},[h,ot]),S.useEffect(()=>{P.current&&(p===void 0||p===A.current||(A.current=p,H.current=!1,e&&(P.current.flyTo([e.lat,e.lng],Math.max(P.current.getZoom(),16),{animate:!0}),H.current=!0)))},[p,e]);const Go=S.useMemo(()=>uy(t??0),[t]),bn=S.useCallback(()=>{if(!P.current)return;const C=ui.current??e;if(!C)return;const J=P.current;ot();const he=Math.max(J.getZoom(),16);J.flyTo([C.lat,C.lng],he,{animate:!0}),H.current=!0},[ot,e]);S.useEffect(()=>()=>{P.current&&(P.current.getContainer().classList.remove("mapview-attribution-offset"),P.current=null)},[]),S.useEffect(()=>()=>{_t.current&&typeof window<"u"&&window.clearTimeout(_t.current),ce.current&&typeof window<"u"&&window.clearTimeout(ce.current),be.current&&typeof window<"u"&&window.clearTimeout(be.current),ze.current&&typeof window<"u"&&window.clearTimeout(ze.current)},[]);const zr=S.useCallback(()=>typeof o=="function"?o():!1,[o]),Za=S.useCallback(()=>{typeof k=="function"&&k()},[k]),Fa=S.useCallback(()=>{typeof y=="function"&&y()},[y]),$a=S.useCallback(()=>{typeof w=="function"&&w()},[w]),Ha=S.useCallback(C=>{C!==h&&typeof g=="function"&&g(C)},[h,g]),Bn=S.useCallback((C,J,he=3500)=>{ze.current&&typeof window<"u"&&(window.clearTimeout(ze.current),ze.current=null),Tt(J?{tone:C,message:J}:null),J&&he!==null&&typeof window<"u"&&(ze.current=window.setTimeout(()=>{Tt(null),ze.current=null},he))},[Tt,ze]),Ua=S.useCallback(async()=>{if(!te||!P.current){$e("Map not ready yet.","warning");return}if(h!=="satellite"){$e("Switch to satellite view to cache imagery.","warning");return}if(typeof window>"u"||!("caches"in window)){$e("Tile caching not supported in this browser.","error");return}const C=P.current,J=Math.round(C.getZoom()),he=2**J,Se=[];if(e&&Se.push(e),F.forEach(Ze=>{Ze!=null&&Ze.position&&Se.push(Ze.position)}),Se.length===0){$e("Add a checkpoint or enable location before caching.","warning");return}const mi=40075016686e-3/he,Xt=new Set;if(Se.forEach(Ze=>{const wt=sy(Ze.lat,Ze.lng,J),st=Ze.lat*Math.PI/180,Qt=Math.cos(st)||1e-4,qt=mi*Qt,gi=mi,Jt=Math.max(1,Math.ceil(2e3/qt)),pn=Math.max(1,Math.ceil(2e3/gi));for(let Ye=-Jt;Ye<=Jt;Ye+=1)for(let vi=-pn;vi<=pn;vi+=1){const Vi=Math.min(Math.max(wt.x+Ye,0),he-1),Jo=Math.min(Math.max(wt.y+vi,0),he-1);Xt.add(`${Vi}:${Jo}:${J}`)}}),Xt.size===0){$e("No tiles identified for caching.","warning");return}const Re=Array.from(Xt).map(Ze=>{const[wt,st,Qt]=Ze.split(":").map(qt=>Number(qt));return{x:wt,y:st,z:Qt}});try{q(!0),$e("Caching satellite tiles nearby","info",null);const Ze=await caches.open("cadet-map-tile-cache");let wt=0;const st=[],Qt=[...Re],qt=Math.min(ry,Qt.length),gi=async()=>{for(;Qt.length>0;){const Jt=Qt.shift();if(!Jt)continue;const pn=ay(Oe.url,Oe.subdomains,Jt);try{const Ye=await fetch(pn,{mode:"cors"});if(!Ye.ok&&Ye.type!=="opaque")throw new Error(`HTTP ${Ye.status}`);await Ze.put(pn,Ye.clone()),wt+=1}catch(Ye){st.push((Ye==null?void 0:Ye.message)??"Unknown error")}await new Promise(Ye=>{if(typeof window>"u"){Ye();return}window.requestAnimationFrame(Ye)})}};if(await Promise.all(Array.from({length:qt},gi)),st.length===Re.length)$e("Unable to cache tiles. Please try again later.","error");else{const Jt=st.length?` (skipped ${st.length} tile${st.length===1?"":"s"})`:"";$e(`Cached ${wt} satellite tile${wt===1?"":"s"}${Jt}.`,st.length?"warning":"success")}}catch(Ze){$e(Ze.message??"Tile caching failed.","error")}finally{q(!1)}},[h,F,te,$e,Oe.subdomains,Oe.url,e]),Hi=S.useCallback(()=>{typeof _=="function"&&_(),ge("settings")},[_]),Va=S.useCallback(()=>{ge("help"),!K&&typeof _=="function"&&_()},[K,_]),Yo=S.useCallback(()=>{!K&&typeof _=="function"&&_(),ge("share")},[K,_]),Wa=S.useCallback(()=>{typeof j=="function"&&j()},[j]),Ko=S.useCallback(()=>{if(e){bn(),K&&typeof _=="function"&&_(),ge("settings");return}zr()?$e("Requesting location fix","info",2500):$e("Enable location permissions to center the map.","warning")},[zr,bn,K,_,$e,e]),Xo=h!=="satellite"||me,Rr=me?"Caching":h!=="satellite"?"Satellite required":"Cache tiles",hi=S.useMemo(()=>({loading:()=>{dn.current=0},load:()=>{ot()},tileerror:()=>{dn.current+=1,dn.current>=3&&(dn.current=0,$e("Tile issues detected. Reverting to standard map.","warning",3e3),h!=="street"&&typeof g=="function"?g("street"):At(C=>C+1))}}),[h,g,ot,At,$e]),Qo=S.useCallback(C=>{const J=C.target.value.replace(/\s+/g,"").toLowerCase();Bt(J),Tt(null),ze.current&&typeof window<"u"&&(window.clearTimeout(ze.current),ze.current=null)},[]),qo=S.useCallback(C=>{cn(C.target.value)},[]),pi=S.useCallback(()=>{const C=Te.trim().toLowerCase();if(!C){Bn("warning","Enter a callout code to place it.");return}if(C.length<4||C.length>12){Bn("error","Callouts should be between 4 and 12 characters.");return}const J=Du(C);if(!J){Bn("error","That code could not be decoded. Double-check the letters.");return}ee(J),Bn("success","Checkpoint added from callout.",3e3),Bt("")},[ee,Du,Te,Bn]),xe=S.useMemo(()=>`${ue.panelToggle} ${fe==="settings"?"ring-1 ring-sky-400 text-sky-500 border-sky-400":"opacity-80 hover:opacity-100"}`,[fe,ue.panelToggle]),Ne=S.useMemo(()=>`${ue.panelToggle} ${fe==="share"?"ring-1 ring-sky-400 text-sky-500 border-sky-400":"opacity-80 hover:opacity-100"}`,[fe,ue.panelToggle]),Ui=S.useMemo(()=>`${ue.panelToggle} ${fe==="help"?"ring-1 ring-sky-400 text-sky-500 border-sky-400":"opacity-80 hover:opacity-100"}`,[fe,ue.panelToggle]),Zn=S.useMemo(()=>{const C={};return U.filter(J=>J.isVisible).forEach(J=>{var he;(he=J.items)==null||he.forEach(Se=>{(!C[Se]||J.id===R)&&(C[Se]={checkpoint:G[Se],color:J.color,routeId:J.id})})}),Object.values(C).filter(J=>J.checkpoint)},[U,G,R]),fn=S.useRef(new Map),Ar=S.useCallback(C=>(fn.current.has(C)||fn.current.set(C,$o(C,"")),fn.current.get(C)),[]),pe=S.useMemo(()=>U.filter(C=>C.isVisible).map(C=>{const J=(C.items||[]).map(he=>{var Se;return(Se=G[he])==null?void 0:Se.position}).filter(Boolean).map(he=>[he.lat,he.lng]);return{id:C.id,color:C.color,positions:J}}),[U,G]);return f.jsxs("div",{className:"relative h-full w-full flex-1",children:[f.jsxs(g0,{center:ci,zoom:13,className:`h-full w-full ${Ra}`,preferCanvas:!0,ref:P,attributionControl:!1,whenCreated:C=>{C.getContainer().classList.add("mapview-attribution-offset")},children:[f.jsx(J0,{onDropItem:b}),f.jsx(p0,{position:"bottomleft",prefix:!1}),f.jsx(v0,{url:Oe.url,attribution:Oe.attribution,subdomains:Oe.subdomains,minZoom:Oe.minZoom,maxZoom:Oe.maxZoom,eventHandlers:hi},`${Oe.id}-${Rt}`),f.jsx(cy,{}),e&&f.jsx(Rl,{position:[e.lat,e.lng],icon:Go,interactive:!1}),Zn.map(({checkpoint:C,color:J})=>f.jsx(Rl,{position:[C.position.lat,C.position.lng],icon:Ar(J),draggable:!0,eventHandlers:{click:()=>Z(C.id),dragend:he=>{const{lat:Se,lng:hn}=he.target.getLatLng();Q(C.id,{lat:Se,lng:hn})}}},C.id)),(v==null?void 0:v.position)&&f.jsxs(f.Fragment,{children:[f.jsx(Rl,{position:[v.position.lat,v.position.lng],icon:ly,opacity:.8}),v.source&&f.jsx(Ts,{positions:[[v.source.lat,v.source.lng],[v.position.lat,v.position.lng]],pathOptions:{color:"#d946ef",weight:3,dashArray:"5 5",opacity:.6}})]}),z==="direct"&&pe.map(C=>C.positions.length>=2&&f.jsx(Ts,{positions:C.positions,pathOptions:{color:C.color,weight:4,opacity:.7}},`direct-${C.id}`)),z==="route"&&pe.map(C=>C.positions.length>=2&&f.jsx(Ts,{positions:C.positions,pathOptions:{color:C.color,weight:4,dashArray:"10 6",opacity:.8}},`route-${C.id}`)),e&&i.filter(C=>C.position).map(C=>f.jsx(Ts,{positions:[[e.lat,e.lng],[C.position.lat,C.position.lng]],pathOptions:{color:"#818cf8",weight:2,dashArray:"4 6",opacity:.4}},`user-target-${C.id}`))]},Aa),V&&f.jsx("div",{className:`pointer-events-none absolute left-1/2 top-4 z-[1000] -translate-x-1/2 rounded-full border px-4 py-1.5 text-[11px] font-semibold tracking-wide ${V.tone==="success"?"border-emerald-300 bg-emerald-200 text-emerald-900":V.tone==="warning"?"border-amber-300 bg-amber-200 text-amber-900":V.tone==="error"?"border-rose-300 bg-rose-200 text-rose-900":"border-sky-300 bg-sky-200 text-slate-900"}`,children:V.message}),f.jsxs("div",{className:`pointer-events-none absolute z-[990] flex flex-col items-end gap-3 transition-opacity duration-300 ${O?"opacity-0":"opacity-100"}`,style:Uo,children:[f.jsxs("div",{className:ue.container,children:[f.jsx(eo,{iconName:"menu",label:"Menu",onClick:Za,title:"Toggle navigation menu",isActive:M,themeStyles:ue}),f.jsx(eo,{iconName:"compass",label:"Compass",onClick:Fa,title:"Open compass overlay",themeStyles:ue}),f.jsx(eo,{iconName:"route",label:"Route",onClick:$a,title:"Open route tools",themeStyles:ue}),f.jsx(eo,{iconName:"settings",label:"Settings",onClick:Hi,title:"Open settings",isActive:K,themeStyles:ue})]}),(c||s&&!l)&&f.jsx("div",{className:`pointer-events-none ${ue.badge}`,children:c?"Getting location":"GPS active, awaiting fix"})]}),f.jsx("div",{className:"pointer-events-none absolute z-[990] flex flex-col items-start gap-3",style:{bottom:"calc(env(safe-area-inset-bottom, 0px) + 1rem)",left:"calc(env(safe-area-inset-left, 0px) + 1rem)"},children:f.jsx("div",{className:"pointer-events-auto",children:f.jsx(eo,{iconName:"zoom",label:"Zoom",onClick:Ko,title:"Zoom to location",isActive:!1,themeStyles:ue})})}),K&&f.jsxs("div",{className:"pointer-events-auto fixed inset-0 z-[1180] flex items-center justify-center p-4",children:[f.jsx("button",{type:"button",className:"absolute inset-0 rounded-none border-0 bg-slate-950 backdrop-blur-sm",style:{backgroundColor:"rgba(2, 6, 23, 0.45)"},"aria-label":"Close settings",onClick:()=>{typeof _=="function"&&_(),ge("settings")}}),f.jsxs("div",{className:`${ue.panel} w-full max-w-md max-h-[80vh] overflow-hidden shadow-2xl shadow-slate-950/50`,role:"dialog","aria-modal":"true","aria-label":fe==="help"?"Map help":fe==="share"?"Share current route":"Map settings",children:[f.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[f.jsx("span",{className:ue.panelTitle,children:fe==="help"?"Help":fe==="share"?"Share route":"Settings"}),f.jsx("button",{type:"button",className:ue.panelButton,onClick:()=>{typeof _=="function"&&_(),ge("settings")},children:"Close"})]}),f.jsxs("div",{className:"mb-3 flex items-center gap-2 text-[11px]",children:[f.jsx("button",{type:"button",className:xe,onClick:()=>ge("settings"),"aria-pressed":fe==="settings",children:"Settings"}),f.jsx("button",{type:"button",className:Ne,onClick:Yo,"aria-pressed":fe==="share",children:"Share"}),f.jsx("button",{type:"button",className:Ui,onClick:Va,"aria-pressed":fe==="help",children:"Help"})]}),f.jsx("div",{className:"flex h-full max-h-[65vh] flex-col gap-3 overflow-y-auto pr-1 text-[12px]",children:fe==="help"?f.jsx("div",{className:"flex flex-col gap-2",children:oy.map(C=>f.jsxs("section",{className:`${ue.layerOption} cursor-default`,"aria-labelledby":`${C.id}-title`,children:[f.jsx("h3",{id:`${C.id}-title`,className:"text-[12px] font-semibold leading-tight",children:C.title}),f.jsx("p",{className:ue.layerOptionDescription,children:C.description}),f.jsx("ul",{className:"ml-3 list-disc space-y-1 text-[11px] leading-snug",children:C.points.map((J,he)=>f.jsx("li",{children:J},he))})]},C.id))}):fe==="share"?f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("section",{className:`${ue.layerOption} flex flex-col gap-2`,children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Share code"}),f.jsx("p",{className:ue.layerOptionDescription,children:"Copy and send this code to share the current route."})]}),f.jsx("button",{type:"button",className:`${ue.panelButton} ${Di?"":"pointer-events-none opacity-50"}`,onClick:Ba,disabled:!Di,children:"Copy code"})]}),U.length>1&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:"text-[11px] font-semibold opacity-70",children:"Scope:"}),f.jsxs("select",{value:di,onChange:C=>Da(C.target.value),className:`${Dn} flex-1 rounded-lg px-2 py-1 text-[11px]`,children:[f.jsx("option",{value:"all",children:"All Routes"}),U.map(C=>f.jsx("option",{value:C.id,children:C.name},C.id))]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",id:"share-include-names",checked:le,onChange:C=>Le(C.target.checked),className:"h-3.5 w-3.5 rounded border-slate-300 text-sky-500 focus:ring-sky-500"}),f.jsx("label",{htmlFor:"share-include-names",className:"text-[11px] font-medium opacity-80",children:"Include names"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",id:"share-include-colors",checked:Ge,onChange:C=>Lt(C.target.checked),className:"h-3.5 w-3.5 rounded border-slate-300 text-sky-500 focus:ring-sky-500"}),f.jsx("label",{htmlFor:"share-include-colors",className:"text-[11px] font-medium opacity-80",children:"Include colors"})]})]}),f.jsx("p",{className:ue.layerOptionDescription,children:Vo??"Add at least one waypoint to generate a share code."}),f.jsx("textarea",{ref:se,className:`${Dn} min-h-[90px] w-full rounded-xl px-3 py-2 text-[11px] leading-snug`,value:fi,readOnly:!0,spellCheck:!1,"aria-label":"Current route share code",onFocus:C=>C.target.select()}),Dt&&f.jsx("span",{role:"status","aria-live":"polite",className:`text-[11px] font-semibold ${Or(Dt.tone)}`,children:Dt.message})]}),f.jsxs("section",{className:`${ue.layerOption} flex flex-col gap-2`,children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Import route"}),f.jsx("p",{className:ue.layerOptionDescription,children:"Paste a code received from another teammate to replace your current route."})]}),f.jsx("textarea",{className:`${Dn} min-h-[110px] w-full rounded-xl px-3 py-2 text-[11px] leading-snug`,value:gt,onChange:ae,onKeyDown:Wo,placeholder:"Paste a share code here",spellCheck:!1,"aria-label":"Paste a share code to import"}),f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("button",{type:"button",className:`${ue.panelButton} ${gt.trim()?"":"pointer-events-none opacity-50"}`,onClick:xt,disabled:!gt.trim(),children:"Load route"}),vt?f.jsx("span",{role:"status","aria-live":"polite",className:`text-[11px] font-semibold ${Or(vt.tone)}`,children:vt.message}):f.jsx("span",{className:"text-[10px] opacity-60",children:"Press Ctrl/ + Enter to load"})]})]}),f.jsxs("section",{className:`${ue.layerOption} flex flex-col gap-2`,children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Plot callout"}),f.jsx("p",{className:ue.layerOptionDescription,children:"Drop a shared geohash onto the map as a start, checkpoint, or finish marker."})]}),f.jsx("input",{type:"text",className:`${Dn} w-full rounded-xl px-3 py-2 text-[11px] uppercase tracking-wide`,value:Te,onChange:Qo,placeholder:"e.g. u4pruydqq",spellCheck:!1,"aria-label":"Enter a location callout code"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{htmlFor:"callout-target",className:"text-[11px] font-semibold opacity-70",children:"Place as"}),f.jsx("select",{id:"callout-target",className:`${Dn} w-full rounded-xl px-3 py-2 text-[11px]`,value:Ri,onChange:qo,disabled:!0,children:f.jsx("option",{value:"checkpoint",children:"Checkpoint"})})]}),f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("button",{type:"button",className:`${ue.panelButton} ${Te.trim()?"":"pointer-events-none opacity-50"}`,onClick:pi,disabled:!Te.trim(),children:"Place callout"}),Kt&&f.jsx("span",{role:"status","aria-live":"polite",className:`text-[11px] font-semibold ${Or(Kt.tone)}`,children:Kt.message})]})]}),Bi.length>0&&f.jsxs("section",{className:`${ue.layerOption} flex flex-col gap-2`,children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Location codes"}),f.jsx("p",{className:ue.layerOptionDescription,children:"Geohash references 5m accuracy for quick callouts."})]}),f.jsx("div",{className:"flex flex-col gap-3",children:Bi.map(C=>f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("div",{className:"border-b border-slate-700/50 pb-1",children:f.jsx("span",{className:"text-[11px] font-semibold text-slate-300",children:C.route})}),f.jsx("ul",{className:"flex flex-col gap-1 text-[11px] font-mono",children:C.codes.map(J=>f.jsxs("li",{className:"flex items-center justify-between gap-3 pl-1",children:[f.jsx("span",{className:"font-semibold uppercase tracking-wide text-[10px] opacity-70",children:J.label}),f.jsx("span",{children:J.code})]},J.key))})]},C.route))})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsx("span",{className:"font-medium",children:"Toolbar theme"}),f.jsx("button",{type:"button",className:ue.panelToggle,onClick:Wa,children:E==="light"?"Light":"Night"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:"Map layers"}),f.jsx("p",{className:"text-[11px] opacity-70",children:"Choose the basemap that suits your mission."}),f.jsx("div",{className:`${ue.layerScroll} mt-2`,children:Ho.map(C=>{const J=C.id===h;return f.jsxs("button",{type:"button",className:`${ue.layerOption} ${J?ue.layerOptionActive:""}`,onClick:()=>Ha(C.id),children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:C.label}),C.category&&f.jsx("p",{className:ue.layerOptionCategory,children:C.category})]}),J&&f.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide text-sky-500",children:"Current"})]}),f.jsx("p",{className:ue.layerOptionDescription,children:C.description})]},C.id)})})]}),f.jsxs("div",{className:"flex items-start justify-between gap-3",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:"Cache imagery"}),f.jsx("p",{className:"text-[11px] opacity-70",children:"Download tiles within 2km"})]}),f.jsx("button",{type:"button",className:`${ue.panelButton} ${Xo?"opacity-60 pointer-events-none":""}`,onClick:Ua,disabled:Xo,children:Rr})]}),f.jsxs("section",{className:`${ue.layerOption} flex flex-col gap-2`,children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[12px] font-semibold leading-tight",children:"Share this route"}),f.jsx("p",{className:ue.layerOptionDescription,children:"switch to the share view to copy or import a route."})]}),f.jsx("button",{type:"button",className:ue.panelButton,onClick:Yo,children:"Open"})]}),f.jsx("p",{className:ue.layerOptionDescription,children:Vo??"Add at least one waypoint to enable route sharing."})]}),f.jsx("button",{type:"button",className:ue.panelButton,onClick:Ko,children:"Center map on my location"})]})})]})]}),Ir.length>0&&f.jsx("div",{className:"pointer-events-none absolute bottom-4 left-1/2 flex w-[min(90vw,18rem)] -translate-x-1/2 flex-col gap-2",children:Ir.map(C=>{const J=C.tone==="emerald"?"border-emerald-500 text-emerald-100":"border-sky-500 text-sky-200";return f.jsx("div",{className:`rounded-lg border bg-slate-950 p-3 text-center text-sm font-semibold shadow-lg shadow-slate-950 ${J}`,children:C.text},C.key)})})]})},Pi=e=>e*Math.PI/180,fy=e=>e*180/Math.PI,Cm=(e,t)=>{if(!e||!t)return null;const i=Pi(e.lat),o=Pi(t.lat),s=Pi(t.lng-e.lng),l=Math.sin(s)*Math.cos(o),c=Math.cos(i)*Math.sin(o)-Math.sin(i)*Math.cos(o)*Math.cos(s),p=Math.atan2(l,c);return(fy(p)+360)%360},Pm=(e,t)=>{if(!e||!t)return null;const i=6371e3,o=Pi(e.lat),s=Pi(t.lat),l=Pi(t.lat-e.lat),c=Pi(t.lng-e.lng),p=Math.sin(l/2)*Math.sin(l/2)+Math.cos(o)*Math.cos(s)*Math.sin(c/2)*Math.sin(c/2),h=2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p));return i*h},Em=(e,t)=>e==null||t==null?null:(t-e+360)%360,hy=e=>{const[t,i]=S.useState(null),[o,s]=S.useState(null),[l,c]=S.useState(null),[p,h]=S.useState(!1),[g,k]=S.useState(!0),[y,w]=S.useState(!1),[E,j]=S.useState(!1),[M,K]=S.useState(!1),_=S.useRef(null),v=S.useRef(null),b=S.useRef(typeof navigator<"u"&&"geolocation"in navigator);S.useEffect(()=>{if(!(typeof window>"u")){if(typeof DeviceOrientationEvent>"u"){k(!1),c(z=>z??"Compass not supported on this device");return}typeof DeviceOrientationEvent.requestPermission=="function"&&h(!0)}},[]);const O=S.useCallback(z=>{if(typeof z.alpha=="number"){const D=z.webkitCompassHeading??360-z.alpha;i((D+360)%360)}},[]),F=S.useCallback(()=>{if(!b.current)return c("Geolocation not supported"),!1;_.current!==null&&(navigator.geolocation.clearWatch(_.current),_.current=null);const z=Z=>{const{latitude:Q,longitude:N}=Z.coords;s({lat:Q,lng:N}),w(!0),j(!0),K(!1),c(null)},D=Z=>{var Q;(Z==null?void 0:Z.code)===1?(c("Location permission denied"),w(!1)):(Z==null?void 0:Z.code)===2?c("Location unavailable"):(Z==null?void 0:Z.code)===3?c("Location request timed out"):c((Z==null?void 0:Z.message)??"Unable to access location"),j(!1),w(!1),K(!1),_.current!==null&&((Q=navigator.geolocation)!=null&&Q.clearWatch)&&(navigator.geolocation.clearWatch(_.current),_.current=null)};try{return K(!0),navigator.geolocation.getCurrentPosition(z,D,{enableHighAccuracy:!0,maximumAge:0,timeout:15e3}),_.current=navigator.geolocation.watchPosition(z,D,{enableHighAccuracy:!0,maximumAge:0,timeout:15e3}),!0}catch(Z){return c(Z.message??"Unable to access location"),K(!1),w(!1),!1}},[]),G=S.useCallback(async()=>{if(typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"?(window.removeEventListener("deviceorientation",O),window.addEventListener("deviceorientation",O),v.current="deviceorientation",F(),h(!1)):c("Compass permission denied")}catch(z){c(z.message??"Compass permission error")}},[O,F]);S.useEffect(()=>{if(!b.current)return()=>{};if(typeof window>"u"||!window.isSecureContext)return()=>{};let z=!1;return(async()=>{var Z;if((Z=navigator.permissions)!=null&&Z.query)try{const Q=await navigator.permissions.query({name:"geolocation"});if(z)return;Q.state==="granted"?F():Q.state==="denied"&&c(N=>N??"Location permission denied"),Q.onchange=()=>{z||(Q.state==="granted"?F():Q.state==="denied"&&(c("Location permission denied"),w(!1),j(!1)))}}catch(Q){c(N=>N??Q.message??"Geolocation unavailable")}})(),()=>{var Z;_.current!==null&&((Z=navigator.geolocation)!=null&&Z.clearWatch)&&navigator.geolocation.clearWatch(_.current),_.current=null,z=!0}},[F]),S.useEffect(()=>{if(typeof window>"u")return()=>{};if(!g)return()=>{};if(typeof DeviceOrientationEvent<"u"&&typeof DeviceOrientationEvent.requestPermission=="function")return()=>{window.removeEventListener("deviceorientation",O)};const z="ondeviceorientationabsolute"in window?"deviceorientationabsolute":"deviceorientation";return window.addEventListener(z,O),v.current=z,()=>{v.current&&window.removeEventListener(v.current,O)}},[O,g]);const U=Cm(o,e),R=Pm(o,e);return{heading:t,bearing:U,distance:R,geolocation:o,error:l,needsPermission:p,isSupported:g,locationEnabled:y,hasLocationFix:E,isRequestingLocation:M,requestPermission:G,startGeolocation:F}},Uf=e=>e==null?"N/A":e<1e3?`${e.toFixed(0)} m`:`${(e/1e3).toFixed(2)} km`,py=3200/Math.PI,my=({heading:e,bearing:t,distance:i,error:o,enableCompass:s,onEnableLocation:l,needsPermission:c,isSupported:p,locationEnabled:h,hasLocationFix:g,isRequestingLocation:k,targets:y=[],selectedTarget:w=null,onSelectTarget:E,bearingUnit:j="degrees",onToggleBearingUnit:M,routes:K=[],activeRouteId:_=null,onSelectRoute:v=null})=>{const b=S.useMemo(()=>Em(e,t),[e,t]),O=()=>{typeof l=="function"&&l()},F=()=>{typeof s=="function"&&s()},G=g?"Location Active":k?"Locating":h?"Retry Location":"Enable Location",U=k||g,R=typeof M!="function",z=!p&&!c,D=typeof E=="function",Z=q=>{if(!q)return null;const{lat:te,lng:oe}=q;return typeof te!="number"||typeof oe!="number"?null:`${te.toFixed(4)}, ${oe.toFixed(4)}`},Q=q=>{D&&E(q)},N=w?"Other checkpoints":"Select a checkpoint",B=Z(w==null?void 0:w.position),X=q=>{if(q==null)return null;const te=(q%360+360)%360;return j==="mils"?(te*Math.PI/180*py+6400)%6400:te},Y=q=>{if(q==null)return"N/A";const te=X(q);return te==null?"N/A":j==="mils"?`${te.toFixed(1)} mil`:`${te.toFixed(0)}`},ee=()=>{R||M()},P=t!=null&&e!=null,H=P?b??0:null,A=e!=null?(360-e)%360:null,V=c||!p,re=V?"border border-rose-500 text-rose-200":"border border-slate-800 text-slate-100",me=V?"border-rose-500 bg-slate-800":"border-sky-500 bg-slate-950";return f.jsxs("div",{className:`flex flex-col items-center gap-4 rounded-2xl bg-slate-900 p-5 text-center shadow-lg shadow-slate-950 ${re}`,children:[K&&K.length>1&&v&&f.jsxs("div",{className:"w-full max-w-xs",children:[f.jsx("label",{className:"mb-1 block text-left text-xs font-medium text-slate-400",children:"Target Route"}),f.jsx("select",{value:_,onChange:q=>v(q.target.value),className:"w-full rounded-lg border border-slate-700 bg-slate-800 px-3 py-2 text-sm text-slate-200 focus:border-sky-500 focus:outline-none",children:K.map(q=>f.jsx("option",{value:q.id,children:q.name},q.id))})]}),f.jsxs("div",{className:"flex w-full flex-wrap items-center justify-center gap-2",children:[f.jsx("h2",{className:"text-base font-semibold text-sky-200",children:"Compass"}),f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[f.jsx("button",{type:"button",className:"rounded-full border border-emerald-500 px-3 py-1 text-[11px] font-semibold text-emerald-200 hover:bg-emerald-700 hover:text-emerald-100 disabled:cursor-not-allowed disabled:opacity-60",onClick:O,disabled:U,children:G}),f.jsx("button",{type:"button",className:"rounded-full border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-700 hover:text-sky-100 disabled:cursor-not-allowed disabled:opacity-60",onClick:F,disabled:z,children:"Enable Compass"}),f.jsx("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-[11px] font-semibold text-slate-200 hover:border-sky-500 hover:text-sky-200 disabled:cursor-not-allowed disabled:opacity-60",onClick:ee,disabled:R,children:j==="degrees"?"Show mils":"Show degrees"})]})]}),f.jsxs("div",{className:`relative flex h-44 w-44 items-center justify-center rounded-full shadow-inner shadow-slate-950/40 ${me}`,children:[f.jsx("div",{className:"absolute inset-3 rounded-full border border-slate-800","aria-hidden":"true"}),f.jsx("div",{className:"absolute inset-0","aria-hidden":"true",children:f.jsx("div",{className:"absolute left-1/2 top-0 h-1/2 w-[3px] -translate-x-1/2 rounded-full bg-slate-200 opacity-40"})}),A!=null&&f.jsxs("div",{className:"absolute inset-0",style:{transform:`rotate(${A}deg)`},"aria-hidden":"true",children:[[0,30,60,90,120,150,180,210,240,270,300,330].map(q=>{const te=q%90===0;return f.jsx("div",{className:"absolute inset-0",style:{transform:`rotate(${q}deg)`},children:f.jsx("div",{className:`absolute left-1/2 top-3 -translate-x-1/2 rounded-full bg-slate-600 ${te?"h-3 w-[2px]":"h-1.5 w-[1px]"}`})},q)}),f.jsx("span",{className:"absolute left-1/2 top-2 -translate-x-1/2 rounded-full border border-slate-600 bg-slate-950 px-2 py-[2px] text-[10px] font-semibold uppercase tracking-[0.25em] text-sky-200 shadow-sm shadow-slate-950/40",children:"N"})]}),P&&H!=null&&f.jsx("div",{className:"absolute inset-0",style:{transform:`rotate(${H}deg)`},"aria-hidden":"true",children:f.jsx("div",{className:"absolute left-1/2 top-1 flex h-10 w-10 -translate-x-1/2 items-start justify-center drop-shadow-[0_0_8px_rgba(249,115,22,0.6)]",children:f.jsxs("svg",{viewBox:"0 0 24 24",className:"h-8 w-8 text-orange-500",children:[f.jsx("path",{d:"M12 2L15 10H9L12 2Z",fill:"currentColor",stroke:"#c2410c",strokeWidth:"1.5",strokeLinejoin:"round"}),f.jsx("path",{d:"M12 22L9 14H15L12 22Z",fill:"currentColor",opacity:"0.5"})]})})}),V&&f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center rounded-full bg-slate-950 text-center",style:{backgroundColor:"rgba(2, 6, 23, 0.85)"},children:[f.jsx("p",{className:"text-lg font-bold uppercase tracking-wide text-rose-200",children:"Compass not enabled"}),c&&f.jsx("p",{className:"mt-1 text-xs text-rose-200/80",children:"Tap Enable Compass to allow motion access."}),!c&&!p&&f.jsx("p",{className:"mt-1 text-xs text-rose-200/80",children:"This device does not expose compass sensors."})]}),f.jsx("span",{className:"absolute bottom-4 text-xs text-slate-300",children:e!=null?Y(e):""})]}),f.jsxs("div",{className:"space-y-1 text-xs text-slate-300",children:[f.jsxs("p",{children:["Target bearing: ",Y(t)]}),f.jsxs("p",{children:["Distance: ",Uf(i)]}),(k||h&&!g)&&f.jsx("p",{className:"text-[11px] text-slate-400",children:"Awaiting GPS fix keep the device in the open."}),c&&p&&f.jsx("p",{className:"text-[11px] text-slate-400",children:"Tap Enable Compass to grant motion and orientation access."}),!p&&f.jsx("p",{className:"text-amber-400",children:"Compass not supported on this device."}),o&&f.jsxs("p",{className:"text-rose-400",children:["Error: ",o]})]}),f.jsxs("div",{className:"w-full rounded-xl border border-slate-800 bg-slate-950 p-3 text-left",children:[f.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Active checkpoint"}),w?f.jsxs("div",{className:"mt-2",children:[f.jsx("p",{className:"text-sm font-semibold text-slate-100",children:w.label}),B&&f.jsx("p",{className:"text-[11px] text-slate-400",children:B})]}):f.jsx("p",{className:"mt-2 text-[11px] text-slate-400",children:y.length>0?"Pick a checkpoint below to set the compass target.":"Add checkpoints from the Route tools to set the compass target."})]}),y.length>0&&f.jsxs("div",{className:"w-full rounded-xl border border-slate-800 bg-slate-950 p-3 text-left",children:[f.jsx("p",{className:"mb-2 text-xs font-semibold uppercase tracking-wide text-sky-300",children:N}),f.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:y.map(q=>f.jsxs("div",{role:D?"button":void 0,tabIndex:D?0:void 0,className:`flex items-center justify-between gap-3 rounded-md border px-3 py-2 text-xs text-slate-200 transition ${D?"cursor-pointer border-slate-700 bg-slate-900 hover:border-sky-500 hover:bg-sky-900 focus:outline-none focus:ring-2 focus:ring-sky-500/60":"border-slate-800 bg-slate-900"}`,onClick:D?()=>Q(q.id):void 0,onKeyDown:D?te=>{(te.key==="Enter"||te.key===" ")&&(te.preventDefault(),Q(q.id))}:void 0,children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full border border-slate-700 bg-slate-950",children:f.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 text-sky-300",style:{transform:`rotate(${q.relativeBearing??0}deg)`,transformOrigin:"50% 50%"},children:f.jsx("path",{d:"M12 3l4.5 9H13l3 9-4-7-4 7 3-9H7.5z",fill:"currentColor"})})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-100",children:q.label}),f.jsx("p",{className:"text-[11px] text-slate-400",children:q.bearing!=null?Y(q.bearing):""})]})]}),f.jsx("span",{className:"text-[11px] text-slate-400",children:Uf(q.distance)})]},q.id))})]})]})},Vf="rounded border border-slate-700 px-2 py-1 text-[11px] font-medium text-slate-200 transition hover:border-sky-500 hover:bg-slate-800",Wf="border-sky-500 bg-sky-900 text-sky-100",gy=({route:e,isActive:t,onActivate:i,checkpointMap:o,onUpdateRoute:s,onRemoveRoute:l,canRemove:c,selectedId:p,onSelectCheckpoint:h,onMoveCheckpoint:g,onRemoveCheckpoint:k,onAddCheckpoint:y,placementMode:w,onSetPlacementMode:E})=>{const[j,M]=S.useState(!1),K=S.useMemo(()=>e.items.map((R,z)=>{const D=o[R];return D?{type:"checkpoint",id:D.id,label:D.name||`Point ${z+1}`,position:D.position,index:z,callout:Dc(D.position)}:null}).filter(Boolean),[e.items,o]),_=R=>z=>{z.dataTransfer.setData("application/x-cadet-map-checkpoint-id",R.id),z.dataTransfer.effectAllowed="move";const D=z.target.closest("li");D&&z.dataTransfer.setDragImage(D,10,10)},v=R=>{R.preventDefault(),R.dataTransfer.dropEffect="move"},b=R=>{R.preventDefault(),R.dataTransfer.dropEffect="move"},O=R=>z=>{z.preventDefault();const D=z.dataTransfer.getData("application/x-cadet-map-checkpoint-id");!D||D===R.id||g(D,R.index)},F=(w==null?void 0:w.type)??null,G=typeof(w==null?void 0:w.insertIndex)=="number"?w.insertIndex:null,U=R=>{R.index,R.index,K.length-1;const z=t&&F==="checkpoint"&&G===R.index,D=t&&F==="checkpoint"&&G===R.index+1;return f.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[f.jsx("button",{type:"button",className:`${Vf} ${z?Wf:""}`,onClick:Z=>{Z.stopPropagation(),E({type:"checkpoint",insertIndex:R.index})},children:"Insert Before"}),f.jsx("button",{type:"button",className:`${Vf} ${D?Wf:""}`,onClick:Z=>{Z.stopPropagation(),E({type:"checkpoint",insertIndex:R.index+1})},children:"Insert After"}),f.jsx("button",{type:"button",className:"rounded border border-rose-500 px-2 py-1 text-[11px] font-medium text-rose-300 transition hover:bg-rose-900 hover:text-rose-100",onClick:Z=>{Z.stopPropagation(),k(R.id)},children:"Remove"})]})};return f.jsxs("div",{className:`border-b border-slate-700/50 ${t?"bg-slate-800/30":""}`,children:[f.jsxs("div",{className:"flex cursor-pointer items-center gap-3 p-4 hover:bg-slate-800/50",onClick:i,children:[f.jsx("div",{className:`transition-transform duration-200 ${t?"rotate-90":""}`,children:f.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),f.jsx("input",{type:"color",value:e.color,onClick:R=>R.stopPropagation(),onChange:R=>s(e.id,{color:R.target.value}),className:"h-5 w-5 cursor-pointer rounded border-0 bg-transparent p-0",title:"Route color"}),f.jsx("div",{className:"flex-1",children:f.jsx("input",{type:"text",value:e.name,onClick:R=>R.stopPropagation(),onChange:R=>s(e.id,{name:R.target.value}),className:"w-full bg-transparent text-sm font-medium text-slate-200 placeholder-slate-500 focus:outline-none",placeholder:"Route Name"})}),c&&f.jsx("button",{onClick:R=>{R.stopPropagation(),l(e.id)},className:"rounded p-1 text-slate-400 hover:bg-red-500/10 hover:text-red-400",title:"Delete route",children:f.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),t&&f.jsxs("div",{className:"px-4 pb-4",children:[f.jsxs("ul",{className:"space-y-2 text-sm text-slate-200",children:[K.length===0&&f.jsx("li",{className:"text-xs text-slate-500",children:"No markers yet. Add one below."}),K.map(R=>f.jsxs("li",{onDragEnter:v,onDragOver:b,onDrop:O(R),className:`flex items-start gap-2 rounded-md border px-3 py-2 transition ${p===R.id?"border-sky-500 bg-sky-900 text-sky-100":"cursor-pointer border-slate-800 hover:border-slate-600 hover:bg-slate-800"}`,onClick:()=>h(R.id),children:[f.jsx("div",{draggable:"true",onDragStart:_(R),className:"drag-handle mt-1 flex h-8 w-8 shrink-0 cursor-grab items-center justify-center rounded border border-slate-700 bg-slate-800 text-slate-400 touch-none hover:bg-slate-700 hover:text-slate-200 active:cursor-grabbing",onClick:z=>z.stopPropagation(),children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:f.jsx("path",{fillRule:"evenodd",d:"M10 3a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM10 8.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM11.5 15.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z",clipRule:"evenodd"})})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-semibold",children:R.label}),f.jsxs("div",{className:"text-xs text-slate-400",children:[R.position.lat.toFixed(4),", ",R.position.lng.toFixed(4)]}),R.callout&&f.jsxs("div",{className:"text-[11px] font-mono uppercase text-amber-300",children:["Callout: ",R.callout]}),U(R)]})]},R.id))]}),f.jsx("button",{onClick:y,style:F==="checkpoint"&&!G?{borderColor:e.color,color:e.color,backgroundColor:`${e.color}20`}:{},className:`mt-3 w-full rounded border border-dashed border-slate-600 py-2 text-xs font-medium text-slate-400 transition hover:bg-slate-800 ${F==="checkpoint"&&!G?"":"hover:border-sky-500 hover:text-sky-400"}`,children:"+ Add Checkpoint"})]})]})},vy=({onEnterPlacingMode:e})=>{const{checkpointMap:t,routes:i,activeRouteId:o,setActiveRoute:s,addRoute:l,removeRoute:c,updateRoute:p,selectedId:h,selectCheckpoint:g,connectVia:k,toggleConnectMode:y,clearAll:w,setPlacementMode:E,moveCheckpoint:j,removeCheckpoint:M,placementMode:K}=jr(),[_,v]=S.useState(o),b=O=>{_===O?v(null):(v(O),s(O))};return f.jsxs("div",{className:"flex h-full flex-col bg-slate-900/95 backdrop-blur-md",children:[f.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.map(O=>f.jsx(gy,{route:O,isActive:O.id===_,onActivate:()=>b(O.id),checkpointMap:t,onUpdateRoute:p,onRemoveRoute:c,canRemove:i.length>1,selectedId:h,onSelectCheckpoint:g,onMoveCheckpoint:j,onRemoveCheckpoint:M,onAddCheckpoint:()=>{s(O.id),E({type:"checkpoint"}),e&&e()},placementMode:K,onSetPlacementMode:E},O.id)),f.jsx("div",{className:"p-4",children:f.jsxs("button",{onClick:()=>l(),className:"flex w-full items-center justify-center gap-2 rounded-lg border border-slate-600 bg-slate-800 py-2 text-sm text-slate-200 hover:border-sky-500 hover:bg-slate-700",children:[f.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Route"]})})]}),f.jsxs("div",{className:"border-t border-slate-700/50 p-4",children:[f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{onClick:y,className:`flex-1 rounded border border-slate-600 py-2 text-xs font-medium transition ${k==="route"?"border-sky-500 bg-sky-900/20 text-sky-400":"text-slate-400 hover:border-sky-500 hover:bg-slate-800 hover:text-sky-400"}`,children:k==="route"?"Routing: Road":"Routing: Direct"})}),f.jsx("button",{onClick:w,className:"mt-2 w-full rounded border border-red-900/30 py-2 text-xs font-medium text-red-400 transition hover:bg-red-900/20 hover:text-red-300",children:"Clear All"})]})]})},Gf=e=>e===4?4:3,Yf={origin:null,originReference:null,precision:3},_y=km(e=>({...Yf,setPrecision:t=>e(i=>{const o=Gf(t);return{precision:o,originReference:i.originReference?{...i.originReference,precision:o}:null}}),setOrigin:t=>e({origin:t}),setOriginReference:t=>e(i=>({originReference:t?{...t,precision:Gf(t.precision??i.precision)}:null})),resetGrid:()=>e(Yf)})),yy=()=>_y(e=>({origin:e.origin,originReference:e.originReference,precision:e.precision,setOrigin:e.setOrigin,setOriginReference:e.setOriginReference,setPrecision:e.setPrecision,resetGrid:e.resetGrid})),Ro=6371e3,Us=e=>e*Math.PI/180,Kf=e=>e*180/Math.PI,xy=e=>(e+540)%360-180,Bc=e=>{if(e===3||e===4)return e;throw new Error("Unsupported grid precision. Use 3 or 4 figure references.")},Zc=e=>Bc(e)===3?100:10,Ns=(e,t)=>{if(e==null)return null;const i=String(e).trim();if(!i)return null;if(!/^\d+$/.test(i))throw new Error("Grid references must contain digits only.");if(i.length!==t)throw new Error(`Expected ${t} digits for this precision setting.`);return parseInt(i,10)},wy=({lat:e,lng:t},i,o)=>{const s=Us(e),l=e+o/Ro*(180/Math.PI),c=t+i/(Ro*Math.cos(s))*180/Math.PI;return{lat:l,lng:c}},ky=({origin:e,bearingDegrees:t,distanceMeters:i})=>{if(!e)throw new Error("Provide a valid origin location first.");if(t==null||Number.isNaN(t))throw new Error("Bearing must be a number.");if(i==null||Number.isNaN(i)||i<0)throw new Error("Distance must be a non-negative number.");const o=i/Ro,s=Us(t),l=Us(e.lat),c=Us(e.lng),p=Math.sin(l),h=Math.cos(l),g=Math.sin(o),k=Math.cos(o),y=Math.asin(p*k+h*g*Math.cos(s)),w=c+Math.atan2(Math.sin(s)*g*h,k-p*Math.sin(y));return{lat:Kf(y),lng:xy(Kf(w))}},by=({origin:e,originReference:t,targetReference:i,precision:o})=>{if(!e)throw new Error("Set a grid origin location first.");if(!t)throw new Error("Set a grid origin reference first.");const s=Bc(o??t.precision??(i==null?void 0:i.precision)??3),l=Ns(t.easting,s),c=Ns(t.northing,s),p=Ns(i.easting,s),h=Ns(i.northing,s),g=Zc(s),k=(p-l)*g,y=(h-c)*g;return wy(e,k,y)},Sy=({origin:e,originReference:t,point:i,precision:o})=>{if(!e||!t)throw new Error("Grid origin must be configured.");const s=Bc(o??t.precision??3),l=Zc(s),c=e.lat*Math.PI/180,p=(i.lat-e.lat)*Math.PI*Ro/180,h=(i.lng-e.lng)*Math.PI*Ro*Math.cos(c)/180,g=Math.round(t.easting+h/l),k=Math.round(t.northing+p/l),y=w=>w.toString().padStart(s,"0");return{easting:y(g),northing:y(k),precision:s}},Ms=e=>e!=null?e.toFixed(6):"",Cy=e=>e==null||Number.isNaN(e)?"":e>=1e3?`${(e/1e3).toFixed(2)} km`:e>=10?`${e.toFixed(0)} m`:`${e.toFixed(1)} m`,Bl=({show:e,onToggle:t})=>f.jsx("button",{type:"button",onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-full border text-[10px] font-bold transition ${e?"border-sky-500 bg-sky-500 text-slate-900":"border-slate-600 text-slate-400 hover:border-sky-500 hover:text-sky-200"}`,"aria-label":"Toggle help",children:"?"}),Py=({userLocation:e,selectedPosition:t,onPreviewLocationChange:i})=>{const{origin:o,originReference:s,precision:l,setOrigin:c,setOriginReference:p,setPrecision:h,resetGrid:g}=yy(),{addCheckpoint:k}=jr(),[y,w]=S.useState(""),[E,j]=S.useState(""),[M,K]=S.useState(""),[_,v]=S.useState(""),[b,O]=S.useState(null),[F,G]=S.useState(null),[U,R]=S.useState(null),[z,D]=S.useState("user"),[Z,Q]=S.useState(""),[N,B]=S.useState("degrees"),[X,Y]=S.useState(""),[ee,P]=S.useState(null),[H,A]=S.useState(null),[V,re]=S.useState("origin"),[me,q]=S.useState(!1);S.useEffect(()=>{var le,Le;s&&(w(((le=s.easting)==null?void 0:le.toString().padStart(l,"0"))??""),j(((Le=s.northing)==null?void 0:Le.toString().padStart(l,"0"))??""))},[s,l]);const te=S.useMemo(()=>{if(!o||!s)return null;try{const le=Sy({origin:o,originReference:s,point:o,precision:l});return`${le.easting} / ${le.northing}`}catch(le){return console.warn(le),null}},[o,s,l]),oe=S.useMemo(()=>{if(!Z)return null;const le=Number(Z);return Number.isNaN(le)?null:N==="mils"?le*360/6400:le},[Z,N]),fe=S.useMemo(()=>oe==null?null:oe*6400/360,[oe]),ge=(H==null?void 0:H.bearingDegrees)??null,Rt=ge!=null?ge*6400/360:null,At=()=>{let le=e;if(!le)if(t)le=t;else{R("Waiting for GPS location (or select a point on the map).");return}const Le=y.trim(),Ge=E.trim();if(!Le||!Ge){R("Enter grid reference digits.");return}if(Le.length!==Ge.length){R("Easting and Northing must have same number of digits.");return}let Lt=3;if(Le.length===3)Lt=3;else if(Le.length===4)Lt=4;else{R("Grid ref must be 3 or 4 digits (e.g. 123 456).");return}try{const Te=Number(Le),Bt=Number(Ge);if(Number.isNaN(Te)||Number.isNaN(Bt))throw new Error("Grid reference must be numbers.");c(le),p({easting:Te,northing:Bt,precision:Lt}),h(Lt),R(null),O(`Grid calibrated to ${Lt}-figure reference.`)}catch(Te){R(Te.message)}},Dt=()=>{if(z==="user"){if(!e)throw new Error("No user location fix yet.");return e}if(z==="selected"){if(!t)throw new Error("Select a marker on the map to use as the origin.");return t}throw new Error("Select a valid start point.")},We=()=>{try{if(!Z)throw new Error("Enter a bearing value.");if(!X)throw new Error("Enter a distance in meters.");const le=Dt(),Le=Number(Z),Ge=Number(X);if(Number.isNaN(Le))throw new Error("Bearing must be a number.");if(Number.isNaN(Ge)||Ge<0)throw new Error("Distance must be zero or greater.");const Te=((N==="mils"?Le*360/6400:Le)%360+360)%360,Bt=ky({origin:le,bearingDegrees:Te,distanceMeters:Ge});P(Bt),A({bearingDegrees:Te,bearingInput:Le,bearingUnit:N,distanceMeters:Ge,origin:le}),O("Projected point from bearing and distance."),R(null)}catch(le){P(null),A(null),R(le.message??"Unable to project bearing.")}},gt=()=>{if(!M||!_){R("Enter both easting and northing for the grid reference.");return}try{const le=by({origin:o,originReference:s,targetReference:{easting:M,northing:_,precision:l},precision:l});G(le),O("Grid reference resolved."),R(null)}catch(le){G(null),R(le.message)}},Yt=(le=F,Le="grid reference")=>{if(!le){R(`Resolve a ${Le} first.`);return}k(le),O(`Checkpoint added from ${Le}.`),R(null)},vt=()=>{g(),w(""),j(""),K(""),v(""),G(null),D("user"),Q(""),B("degrees"),Y(""),P(null),A(null),O("Grid settings cleared."),R(null)},Qe=Zc(l);return S.useEffect(()=>{i&&i(V==="convert"&&F?{position:F,source:o}:V==="project"&&ee?{position:ee,source:(H==null?void 0:H.origin)??null}:null)},[V,F,ee,H,o,i]),f.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl bg-slate-900 p-4 text-xs text-slate-200 shadow-lg shadow-slate-950",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("h2",{className:"text-base font-semibold text-sky-200",children:"Grid Tools"}),f.jsx("div",{className:"flex gap-1",children:f.jsxs("span",{className:"rounded-full border border-slate-700 px-2 py-1 text-[10px] font-semibold text-slate-400",children:[l,"-fig mode"]})})]}),f.jsxs("div",{className:"flex gap-1 rounded-lg border border-slate-800 bg-slate-950 p-1",children:[f.jsx("button",{type:"button",onClick:()=>re("origin"),className:`flex-1 rounded-md py-1.5 text-[11px] font-semibold transition ${V==="origin"?"bg-slate-800 text-sky-200 shadow-sm":"text-slate-400 hover:bg-slate-900 hover:text-slate-200"}`,children:"Origin"}),f.jsx("button",{type:"button",onClick:()=>re("convert"),className:`flex-1 rounded-md py-1.5 text-[11px] font-semibold transition ${V==="convert"?"bg-slate-800 text-sky-200 shadow-sm":"text-slate-400 hover:bg-slate-900 hover:text-slate-200"}`,children:"Convert"}),f.jsx("button",{type:"button",onClick:()=>re("project"),className:`flex-1 rounded-md py-1.5 text-[11px] font-semibold transition ${V==="project"?"bg-slate-800 text-sky-200 shadow-sm":"text-slate-400 hover:bg-slate-900 hover:text-slate-200"}`,children:"Project"})]}),V==="origin"&&f.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[f.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Calibrate Grid Origin"}),f.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:"Sync your current location to a grid reference."})]}),f.jsx(Bl,{show:me,onToggle:()=>q(!me)})]}),me&&f.jsxs("div",{className:"mb-4 rounded-lg bg-slate-900 p-2 text-[11px] text-slate-300",children:[f.jsx("p",{className:"mb-1 font-semibold text-sky-200",children:"How to calibrate:"}),f.jsx("p",{className:"text-slate-400",children:"Enter the Grid Reference for your current location (e.g. from a paper map) and tap 'Set Origin'. The app will link your GPS position to that grid reference."}),f.jsx("p",{className:"mt-2 text-slate-500 italic",children:"Note: If GPS is unavailable, select a point on the map first."})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Easting"}),f.jsx("input",{value:y,onChange:le=>w(le.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. 123"})]}),f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Northing"}),f.jsx("input",{value:E,onChange:le=>j(le.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. 456"})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",className:"flex-1 rounded-md border border-sky-500 bg-sky-500/10 px-3 py-2 font-semibold text-sky-200 hover:bg-sky-500/20",onClick:At,children:"Set Origin"}),f.jsx("button",{type:"button",className:"rounded-md border border-slate-700 px-3 py-2 font-semibold text-slate-300 hover:border-rose-500 hover:text-rose-200",onClick:vt,children:"Clear"})]}),f.jsx("div",{className:"mt-1 text-center text-[11px]",children:te?f.jsxs("span",{className:"text-emerald-400",children:["Active: ",te," (",l,"-fig)"]}):f.jsx("span",{className:"text-slate-500",children:"Origin not set"})})]})]}),V==="convert"&&f.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[f.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Convert Grid Ref"}),f.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:"Enter a grid reference to find its location on the map relative to your origin."})]}),f.jsx(Bl,{show:me,onToggle:()=>q(!me)})]}),me&&f.jsxs("div",{className:"mb-4 rounded-lg bg-slate-900 p-2 text-[11px] text-slate-300",children:[f.jsx("p",{className:"mb-1 font-semibold text-sky-200",children:"How to convert:"}),f.jsx("p",{className:"text-slate-400",children:'Once you have calibrated the origin, you can enter any other grid reference here. The app will calculate the offset from the origin, show you where that point lands, and the "Add checkpoint" button will drop it into your active route.'})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Easting"}),f.jsx("input",{value:M,onChange:le=>K(le.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. ".concat("2".repeat(l))})]}),f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Northing"}),f.jsx("input",{value:_,onChange:le=>v(le.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. ".concat("3".repeat(l))})]})]}),f.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[f.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:gt,children:"Preview location"}),f.jsxs("span",{className:"text-[11px] text-slate-400",children:["1 digit = ",Qe," m offset"]})]}),F&&f.jsxs("div",{className:"mt-3 rounded-md border border-slate-800 bg-slate-900 p-3 text-[11px] text-slate-200",children:[f.jsx("p",{className:"font-semibold text-sky-200",children:"Resolved coordinates"}),f.jsxs("p",{className:"mt-1 text-slate-300",children:["Lat ",Ms(F.lat)," | Lng ",Ms(F.lng)]}),f.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:f.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:()=>Yt(F,"grid reference"),children:"Add checkpoint"})})]})]}),V==="project"&&f.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950 p-3",children:[f.jsxs("div",{className:"mb-3 flex items-start justify-between gap-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-sky-300",children:"Project by bearing"}),f.jsx("p",{className:"mt-1 text-[11px] text-slate-400",children:"Calculate a new point by moving a specific distance and bearing from a starting point."})]}),f.jsx(Bl,{show:me,onToggle:()=>q(!me)})]}),me&&f.jsxs("div",{className:"mb-4 rounded-lg bg-slate-900 p-2 text-[11px] text-slate-300",children:[f.jsx("p",{className:"mb-1 font-semibold text-sky-200",children:"How to project:"}),f.jsxs("ol",{className:"list-decimal space-y-1 pl-4 text-slate-400",children:[f.jsx("li",{children:"Choose a start point (your current GPS fix or a checkpoint you selected on the map)."}),f.jsx("li",{children:"Enter the bearing (direction) and distance to travel."}),f.jsx("li",{children:"Click 'Project location' to see the destination on the map, then use 'Add checkpoint' to store it in the active route."})]})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Start Point"}),f.jsxs("div",{className:"mt-1 flex gap-2",children:[f.jsx("button",{type:"button",onClick:()=>D("user"),className:`flex-1 rounded-md border py-2 text-[11px] font-semibold transition ${z==="user"?"border-sky-500 bg-sky-500/10 text-sky-200":"border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:"My Location"}),f.jsx("button",{type:"button",onClick:()=>D("selected"),className:`flex-1 rounded-md border py-2 text-[11px] font-semibold transition ${z==="selected"?"border-sky-500 bg-sky-500/10 text-sky-200":"border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:"Selected Marker"})]}),!e&&z==="user"&&f.jsx("p",{className:"mt-1 text-[10px] text-rose-400",children:"Waiting for GPS fix..."}),!t&&z==="selected"&&f.jsx("p",{className:"mt-1 text-[10px] text-rose-400",children:"No marker selected on map."})]}),f.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Bearing"}),f.jsx("input",{value:Z,onChange:le=>Q(le.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:N==="degrees"?"0  360":"0  6400 mil"})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Units"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",className:`flex-1 rounded-md px-2 py-1 text-[11px] font-semibold ${N==="degrees"?"border border-sky-500 text-sky-200":"border border-slate-700 text-slate-200 hover:border-sky-500 hover:text-sky-200"}`,onClick:()=>B("degrees"),children:"Degrees"}),f.jsx("button",{type:"button",className:`flex-1 rounded-md px-2 py-1 text-[11px] font-semibold ${N==="mils"?"border border-sky-500 text-sky-200":"border border-slate-700 text-slate-200 hover:border-sky-500 hover:text-sky-200"}`,onClick:()=>B("mils"),children:"Mils"})]})]})]}),f.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:"Distance (m)"}),f.jsx("input",{value:X,onChange:le=>Y(le.target.value),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-100 focus:border-sky-500 focus:outline-none",placeholder:"e.g. 250"})]}),f.jsx("div",{className:"flex flex-col justify-end text-[11px] text-slate-400",children:f.jsx("span",{children:oe!=null?` ${oe.toFixed(1)} / ${(fe==null?void 0:fe.toFixed(0))??""} mil`:"Enter a bearing to preview conversions."})})]}),f.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[f.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:We,children:"Project location"}),f.jsx("span",{className:"text-[11px] text-slate-400",children:"Distance measured in straight line"})]}),ee&&f.jsxs("div",{className:"mt-3 rounded-md border border-slate-800 bg-slate-900 p-3 text-[11px] text-slate-200",children:[f.jsx("p",{className:"font-semibold text-sky-200",children:"Projected coordinates"}),f.jsxs("p",{className:"mt-1 text-slate-300",children:["Lat ",Ms(ee.lat)," | Lng ",Ms(ee.lng)]}),f.jsxs("p",{className:"text-slate-400",children:["Bearing used:"," ",ge!=null?`${ge.toFixed(1)}${Rt!=null?` (${Rt.toFixed(0)} mil)`:""}`:""]}),(H==null?void 0:H.distanceMeters)!=null&&f.jsxs("p",{className:"text-slate-400",children:["Distance: ",Cy(H.distanceMeters)]}),f.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:f.jsx("button",{type:"button",className:"rounded-md border border-sky-500 px-3 py-1 text-[11px] font-semibold text-sky-200 hover:bg-sky-900",onClick:()=>Yt(ee,"bearing projection"),children:"Add checkpoint"})})]})]}),(U||b)&&f.jsxs("div",{className:"rounded-md border border-slate-800 bg-slate-950 p-3 text-[11px]",children:[U&&f.jsx("p",{className:"text-rose-400",children:U}),b&&f.jsx("p",{className:"text-emerald-300",children:b})]}),f.jsx("button",{type:"button",className:"rounded-md border border-slate-700 px-3 py-1 text-[11px] font-semibold text-slate-300 hover:border-rose-500 hover:text-rose-200",onClick:vt,children:"Clear grid settings"})]})},Ey=({type:e,color:t})=>{const i=S.useRef(null),o=c=>{c.dataTransfer.setData("application/x-cadet-map-item",e),c.dataTransfer.effectAllowed="copy",i.current&&c.dataTransfer.setDragImage(i.current,10,20)},s={borderColor:t,backgroundColor:`${t}33`},l={backgroundColor:t};return f.jsxs(f.Fragment,{children:[f.jsx("div",{draggable:!0,onDragStart:o,className:"flex h-16 w-16 cursor-grab items-center justify-center rounded-full border-2 shadow-lg backdrop-blur-sm transition hover:scale-110 active:cursor-grabbing active:scale-95 touch-none",style:s,children:f.jsx("div",{className:"h-4 w-4 rounded-full",style:l})}),f.jsx("div",{ref:i,className:"absolute -top-[1000px] left-0 h-5 w-5 rounded-full border-2",style:s})]})},Ly=()=>{const{routes:e,activeRouteId:t}=jr(),i=e.find(s=>s.id===t)||e[0],o=(i==null?void 0:i.color)||"#38bdf8";return f.jsx("div",{className:"pointer-events-auto flex gap-6 p-4",children:f.jsx(Ey,{type:"checkpoint",color:o})})},Ty=()=>{const{checkpoints:e,checkpointMap:t,routes:i,activeRouteId:o,selectedId:s,selectCheckpoint:l,addCheckpoint:c}=jr(),[p,h]=S.useState(null);S.useEffect(()=>{!p&&o&&h(o)},[o,p]);const g=S.useMemo(()=>{const se=p||o,ce=i.find(be=>be.id===se);return ce?ce.items.map((be,ze)=>{const Oe=t[be];return Oe?{id:Oe.id,label:Oe.name||`Point ${ze+1}`,position:Oe.position}:null}).filter(Boolean):[]},[p,o,i,t]),k=S.useMemo(()=>g.find(se=>se.id===s)??null,[g,s]),y=(k==null?void 0:k.position)??null,{heading:w,bearing:E,distance:j,geolocation:M,error:K,needsPermission:_,isSupported:v,locationEnabled:b,hasLocationFix:O,isRequestingLocation:F,requestPermission:G,startGeolocation:U}=hy(y),R=S.useMemo(()=>g.filter(se=>se.id!==s).map(se=>{if(!M)return{...se,bearing:null,distance:null,relativeBearing:null};const ce=Cm(M,se.position),be=Em(w,ce);return{...se,bearing:ce,distance:Pm(M,se.position),relativeBearing:be??ce}}),[M,g,s,w]),[z,D]=S.useState(null),[Z,Q]=S.useState(!1),[N,B]=S.useState(!1),[X,Y]=S.useState(0),[ee,P]=S.useState("degrees"),[H,A]=S.useState("topo"),[V,re]=S.useState("light"),[me,q]=S.useState(.58),[te,oe]=S.useState(null),[fe,ge]=S.useState(!1),Rt=S.useRef(null),At=S.useRef(!1),Dt=S.useRef(null),[We,gt]=S.useState(!1),Yt=.32,vt=.85,Qe=S.useCallback(se=>Math.min(Math.max(se,Yt),vt),[vt,Yt]),le=S.useCallback(()=>{const se=U();return se&&Y(ce=>ce+1),se},[U]),Le=S.useCallback(()=>{P(se=>se==="degrees"?"mils":"degrees")},[]),Ge=S.useCallback(()=>{Q(se=>{const ce=!se;return ce&&(D(null),B(!1)),ce})},[]),Lt=S.useCallback(()=>{B(se=>{const ce=!se;return ce&&(D(null),Q(!1)),ce})},[]),Te=S.useCallback(se=>{D(ce=>ce===se?null:se),Q(!1),B(!1),q(ce=>Qe(ce))},[Qe]),Bt=S.useCallback(()=>{Te("compass")},[Te]),Ri=S.useCallback(()=>{Te("checkpoints")},[Te]),cn=S.useCallback(se=>{const ce=Rt.current;if(!ce)return;const{startY:be,startHeight:ze}=ce;if(window.innerHeight===0)return;const Oe=(be-se.clientY)/window.innerHeight,ue=Math.abs(be-se.clientY);!ce.moved&&ue>6&&(ce.moved=!0),q(Qe(ze+Oe))},[Qe]),Kt=S.useCallback(()=>{var ce,be;const se=Rt.current;se!=null&&se.target&&se.pointerId!=null&&((be=(ce=se.target).releasePointerCapture)==null||be.call(ce,se.pointerId)),Rt.current=null,window.removeEventListener("pointermove",cn),window.removeEventListener("pointerup",Kt),se&&!se.moved&&se.overlayId&&D(ze=>ze===se.overlayId?null:ze)},[cn,D]),Tt=S.useCallback(se=>{var Oe,ue;if(window.innerHeight===0)return;se.preventDefault();const ce=se.pointerId,be=se.clientY,ze=se.currentTarget.dataset.overlayId??null;Rt.current={startY:be,startHeight:me,pointerId:ce,target:se.currentTarget,overlayId:ze,moved:!1},(ue=(Oe=se.currentTarget).setPointerCapture)==null||ue.call(Oe,ce),window.addEventListener("pointermove",cn,{passive:!0}),window.addEventListener("pointerup",Kt,{passive:!0})},[me,cn,Kt]);S.useEffect(()=>()=>{window.removeEventListener("pointermove",cn),window.removeEventListener("pointerup",Kt)},[cn,Kt]);const _t=S.useMemo(()=>({"--overlay-height":`${(Qe(me)*100).toFixed(2)}vh`,"--overlay-max-height":`${(vt*100).toFixed(2)}vh`}),[vt,Qe,me]);S.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;window.matchMedia("(prefers-color-scheme: dark)").matches&&(A(ce=>ce==="street"?"dark":ce),re("dark"))},[]),S.useEffect(()=>{le()},[le]),S.useEffect(()=>{Dt.current=M},[M]),S.useEffect(()=>{if(!At.current){At.current=!0;return}b?le():Dt.current&&Y(se=>se+1)},[H,b,le]);const dn=S.useCallback(()=>{re(se=>se==="light"?"dark":"light")},[]),ui=S.useCallback((se,ce)=>{c(ce)},[c]);return S.useEffect(()=>{oe(null)},[e]),f.jsxs("div",{className:"relative viewport-safe bg-slate-950 text-slate-100",children:[f.jsx(dy,{userLocation:M,userHeading:w,targets:R,onEnableLocation:le,locationEnabled:b,hasLocationFix:O,isRequestingLocation:F,locationRequestToken:X,baseLayer:H,onBaseLayerChange:A,onToggleMenu:Ge,onOpenCompass:Bt,onOpenRoute:Ri,toolbarTheme:V,onToolbarThemeToggle:dn,isMenuOpen:Z,isSettingsOpen:N,onToggleSettings:Lt,previewLocation:te,onDropItem:ui,hideToolbar:We}),!We&&z==="compass"&&f.jsxs("div",{className:"pointer-events-auto overlay-sheet fixed inset-x-0 bottom-0 z-[1300] mx-auto w-full max-w-md overflow-y-auto overscroll-contain rounded-t-3xl border border-slate-800 bg-slate-900 p-3 shadow-2xl shadow-slate-950/80 md:bottom-6 md:left-auto md:right-6 md:max-w-sm md:rounded-2xl",style:_t,children:[f.jsx("div",{className:"mb-3 flex justify-center",children:f.jsx("button",{type:"button","data-overlay-id":"compass",className:"group flex h-12 w-full max-w-[220px] cursor-row-resize items-center justify-center rounded-full bg-slate-900 shadow-inner shadow-slate-950/40 ring-1 ring-slate-700/60 transition hover:ring-slate-500/80 active:bg-slate-800 touch-none","aria-label":"Drag to resize or tap to close panel",onPointerDown:Tt,children:f.jsx("span",{className:"block h-2 w-16 rounded-full bg-slate-500 transition group-active:bg-slate-300"})})}),f.jsxs("div",{className:"mb-2 text-left text-[11px]",children:[f.jsx("p",{className:"font-semibold uppercase tracking-wide text-slate-500",children:"Compass"}),f.jsx("p",{className:"text-xs text-slate-400",children:"Heading & bearings"})]}),f.jsx(my,{heading:w,bearing:E,distance:j,error:K,enableCompass:G,onEnableLocation:le,needsPermission:_,isSupported:v,locationEnabled:b,hasLocationFix:O,isRequestingLocation:F,targets:R,selectedTarget:k,onSelectTarget:l,bearingUnit:ee,onToggleBearingUnit:Le,routes:i,activeRouteId:p,onSelectRoute:h})]}),!We&&z==="checkpoints"&&f.jsxs("div",{className:"pointer-events-auto overlay-sheet fixed inset-x-0 bottom-0 z-[1300] mx-auto w-full max-w-md overflow-y-auto overscroll-contain rounded-t-3xl border border-slate-800 bg-slate-900 p-3 shadow-2xl shadow-slate-950/80 md:left-6 md:right-auto md:top-6 md:max-w-xs md:rounded-2xl md:rounded-bl-none md:rounded-br-xl",style:_t,children:[f.jsx("div",{className:"mb-3 flex justify-center",children:f.jsx("button",{type:"button","data-overlay-id":"checkpoints",className:"group flex h-12 w-full max-w-[220px] cursor-row-resize items-center justify-center rounded-full bg-slate-900 shadow-inner shadow-slate-950/40 ring-1 ring-slate-700/60 transition hover:ring-slate-500/80 active:bg-slate-800 touch-none","aria-label":"Drag to resize or tap to close panel",onPointerDown:Tt,children:f.jsx("span",{className:"block h-2 w-16 rounded-full bg-slate-500 transition group-active:bg-slate-300"})})}),f.jsxs("div",{className:"mb-2 text-left text-[11px]",children:[f.jsx("p",{className:"font-semibold uppercase tracking-wide text-slate-500",children:"Route tools"}),f.jsx("p",{className:"text-xs text-slate-400",children:"Manage checkpoints"})]}),f.jsx(vy,{onEnterPlacingMode:()=>gt(!0)})]}),!We&&z==="grid"&&f.jsxs("div",{className:"pointer-events-auto overlay-sheet fixed inset-x-0 bottom-0 z-[1300] mx-auto w-full max-w-md overflow-y-auto overscroll-contain rounded-t-3xl border border-slate-800 bg-slate-900 p-3 shadow-2xl shadow-slate-950/80 md:left-auto md:right-6 md:top-6 md:max-w-md md:rounded-2xl",style:_t,children:[f.jsx("div",{className:"mb-3 flex justify-center",children:f.jsx("button",{type:"button","data-overlay-id":"grid",className:"group flex h-12 w-full max-w-[220px] cursor-row-resize items-center justify-center rounded-full bg-slate-900 shadow-inner shadow-slate-950/40 ring-1 ring-slate-700/60 transition hover:ring-slate-500/80 active:bg-slate-800 touch-none","aria-label":"Drag to resize or tap to close panel",onPointerDown:Tt,children:f.jsx("span",{className:"block h-2 w-16 rounded-full bg-slate-500 transition group-active:bg-slate-300"})})}),f.jsxs("div",{className:"mb-2 text-left text-[11px]",children:[f.jsx("p",{className:"font-semibold uppercase tracking-wide text-slate-500",children:"Grid tools"}),f.jsx("p",{className:"text-xs text-slate-400",children:"References & bearings"})]}),f.jsx(Py,{userLocation:M,selectedPosition:y,onPreviewLocationChange:oe})]}),!We&&Z&&f.jsx("div",{className:"pointer-events-auto absolute inset-x-0 bottom-28 z-[1300] flex justify-center px-4 md:bottom-32",children:f.jsxs("div",{className:"w-full max-w-xs rounded-2xl border border-slate-800 bg-slate-950 p-3 text-[12px] text-slate-100 shadow-xl shadow-slate-950/80",children:[f.jsx("p",{className:"mb-2 text-[11px] font-semibold uppercase tracking-wide text-slate-400",children:"Navigate"}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("button",{type:"button",className:`flex items-center justify-between rounded-lg border px-3 py-2 font-semibold transition ${z==="compass"?"border-sky-500 bg-sky-500 text-slate-950":"border-slate-700 bg-slate-900 hover:border-sky-500 hover:text-sky-100"}`,onClick:()=>Te("compass"),children:["Compass",f.jsx("span",{className:`text-[10px] ${z==="compass"?"text-slate-800":"text-slate-400"}`,children:"Heading"})]}),f.jsxs("button",{type:"button",className:`flex items-center justify-between rounded-lg border px-3 py-2 font-semibold transition ${z==="checkpoints"?"border-sky-500 bg-sky-500 text-slate-950":"border-slate-700 bg-slate-900 hover:border-sky-500 hover:text-sky-100"}`,onClick:()=>Te("checkpoints"),children:["Route",f.jsx("span",{className:`text-[10px] ${z==="checkpoints"?"text-slate-800":"text-slate-400"}`,children:"Checkpoints"})]}),f.jsxs("button",{type:"button",className:`flex items-center justify-between rounded-lg border px-3 py-2 font-semibold transition ${z==="grid"?"border-sky-500 bg-sky-500 text-slate-950":"border-slate-700 bg-slate-900 hover:border-sky-500 hover:text-sky-100"}`,onClick:()=>Te("grid"),children:["Grid",f.jsx("span",{className:`text-[10px] ${z==="grid"?"text-slate-800":"text-slate-400"}`,children:"Conversions"})]})]}),f.jsx("p",{className:"mt-3 text-[11px] text-slate-400",children:"Choose a tool to open its overlay. Tap Menu again to close this panel."})]})}),We&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute inset-x-0 bottom-8 z-[1400] flex justify-center pointer-events-none",children:f.jsx(Ly,{})}),f.jsxs("div",{className:"absolute top-4 right-4 z-[1400] flex gap-3",children:[f.jsx("button",{type:"button",className:"flex h-10 w-10 items-center justify-center rounded-full border border-slate-600 bg-slate-900 text-slate-200 shadow-lg transition hover:bg-slate-800",title:"Help",onClick:()=>ge(!0),children:"?"}),f.jsx("button",{onClick:()=>gt(!1),className:"flex h-10 w-10 items-center justify-center rounded-full border border-red-500/50 bg-red-900/40 text-red-200 shadow-lg backdrop-blur-sm transition hover:bg-red-900/60",title:"Exit Placing Mode",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"h-6 w-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),fe&&f.jsx("div",{className:"fixed inset-0 z-[1500] flex items-center justify-center bg-slate-950/60 p-4 backdrop-blur-sm",children:f.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-slate-700 bg-slate-900 p-6 shadow-2xl",children:[f.jsx("h3",{className:"mb-2 text-lg font-bold text-slate-100",children:"How placement works"}),f.jsxs("ul",{className:"mb-6 list-disc space-y-2 pl-5 text-sm text-slate-300",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Drag & drop:"})," The single puck in the bottom toolbar matches your active route colour. Drag it onto the map to add a checkpoint to that route at the drop point."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Control the order:"})," In the Route panel, tap ",f.jsx("em",{children:"Insert Before"})," or ",f.jsx("em",{children:"Insert After"}),". The next checkpoint you drop will slot into that position; otherwise its appended to the end."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Grid & projections:"})," Use the Grid Tools to resolve or project a coordinate. Drop the puck onto the magenta preview marker to capture that exact location."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Edit or move:"})," Drag any existing checkpoint marker to fine-tune its location, or use the accordion controls to rename, recolour, or delete it."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Exit placement:"})," Tap the red X button in the top-right corner when youre done."]})]}),f.jsx("button",{onClick:()=>ge(!1),className:"w-full rounded-lg bg-sky-600 py-2.5 text-sm font-semibold text-white transition hover:bg-sky-500",children:"Got it"})]})})]})},Ny=()=>f.jsx(Ty,{});Y_.polyfill({dragImageTranslateOverride:K_.scrollBehaviourDragImageTranslateOverride});window.addEventListener("touchmove",()=>{},{passive:!1});Zl.createRoot(document.getElementById("root")).render(f.jsx(vo.StrictMode,{children:f.jsx(Ny,{})}));
